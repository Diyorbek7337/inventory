function bj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var La=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wj(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gN={exports:{}},Jm={},xN={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.element"),Aj=Symbol.for("react.portal"),_j=Symbol.for("react.fragment"),Ej=Symbol.for("react.strict_mode"),Sj=Symbol.for("react.profiler"),Tj=Symbol.for("react.provider"),Cj=Symbol.for("react.context"),Nj=Symbol.for("react.forward_ref"),Ij=Symbol.for("react.suspense"),Oj=Symbol.for("react.memo"),Pj=Symbol.for("react.lazy"),DA=Symbol.iterator;function jj(t){return t===null||typeof t!="object"?null:(t=DA&&t[DA]||t["@@iterator"],typeof t=="function"?t:null)}var yN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vN=Object.assign,bN={};function Fu(t,e,n){this.props=t,this.context=e,this.refs=bN,this.updater=n||yN}Fu.prototype.isReactComponent={};Fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wN(){}wN.prototype=Fu.prototype;function G2(t,e,n){this.props=t,this.context=e,this.refs=bN,this.updater=n||yN}var K2=G2.prototype=new wN;K2.constructor=G2;vN(K2,Fu.prototype);K2.isPureReactComponent=!0;var RA=Array.isArray,AN=Object.prototype.hasOwnProperty,X2={current:null},_N={key:!0,ref:!0,__self:!0,__source:!0};function EN(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)AN.call(e,r)&&!_N.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var f=Array(u),h=0;h<u;h++)f[h]=arguments[h+2];i.children=f}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Sh,type:t,key:a,ref:o,props:i,_owner:X2.current}}function kj(t,e){return{$$typeof:Sh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Y2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sh}function Mj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var LA=/\/+/g;function Rg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mj(""+t.key):e.toString(36)}function W0(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sh:case Aj:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rg(o,0):r,RA(i)?(n="",t!=null&&(n=t.replace(LA,"$&/")+"/"),W0(i,e,n,"",function(h){return h})):i!=null&&(Y2(i)&&(i=kj(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(LA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",RA(t))for(var u=0;u<t.length;u++){a=t[u];var f=r+Rg(a,u);o+=W0(a,e,n,f,i)}else if(f=jj(t),typeof f=="function")for(t=f.call(t),u=0;!(a=t.next()).done;)a=a.value,f=r+Rg(a,u++),o+=W0(a,e,n,f,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function o0(t,e,n){if(t==null)return t;var r=[],i=0;return W0(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Dj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hr={current:null},G0={transition:null},Rj={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:G0,ReactCurrentOwner:X2};function SN(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:o0,forEach:function(t,e,n){o0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return o0(t,function(){e++}),e},toArray:function(t){return o0(t,function(e){return e})||[]},only:function(t){if(!Y2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gt.Component=Fu;gt.Fragment=_j;gt.Profiler=Sj;gt.PureComponent=G2;gt.StrictMode=Ej;gt.Suspense=Ij;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rj;gt.act=SN;gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vN({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=X2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(f in e)AN.call(e,f)&&!_N.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&u!==void 0?u[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){u=Array(f);for(var h=0;h<f;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Sh,type:t.type,key:i,ref:a,props:r,_owner:o}};gt.createContext=function(t){return t={$$typeof:Cj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tj,_context:t},t.Consumer=t};gt.createElement=EN;gt.createFactory=function(t){var e=EN.bind(null,t);return e.type=t,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(t){return{$$typeof:Nj,render:t}};gt.isValidElement=Y2;gt.lazy=function(t){return{$$typeof:Pj,_payload:{_status:-1,_result:t},_init:Dj}};gt.memo=function(t,e){return{$$typeof:Oj,type:t,compare:e===void 0?null:e}};gt.startTransition=function(t){var e=G0.transition;G0.transition={};try{t()}finally{G0.transition=e}};gt.unstable_act=SN;gt.useCallback=function(t,e){return Hr.current.useCallback(t,e)};gt.useContext=function(t){return Hr.current.useContext(t)};gt.useDebugValue=function(){};gt.useDeferredValue=function(t){return Hr.current.useDeferredValue(t)};gt.useEffect=function(t,e){return Hr.current.useEffect(t,e)};gt.useId=function(){return Hr.current.useId()};gt.useImperativeHandle=function(t,e,n){return Hr.current.useImperativeHandle(t,e,n)};gt.useInsertionEffect=function(t,e){return Hr.current.useInsertionEffect(t,e)};gt.useLayoutEffect=function(t,e){return Hr.current.useLayoutEffect(t,e)};gt.useMemo=function(t,e){return Hr.current.useMemo(t,e)};gt.useReducer=function(t,e,n){return Hr.current.useReducer(t,e,n)};gt.useRef=function(t){return Hr.current.useRef(t)};gt.useState=function(t){return Hr.current.useState(t)};gt.useSyncExternalStore=function(t,e,n){return Hr.current.useSyncExternalStore(t,e,n)};gt.useTransition=function(){return Hr.current.useTransition()};gt.version="18.3.1";xN.exports=gt;var ee=xN.exports;const ae=kt(ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lj=ee,Bj=Symbol.for("react.element"),Fj=Symbol.for("react.fragment"),$j=Object.prototype.hasOwnProperty,Vj=Lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uj={key:!0,ref:!0,__self:!0,__source:!0};function TN(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$j.call(e,r)&&!Uj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Bj,type:t,key:a,ref:o,props:i,_owner:Vj.current}}Jm.Fragment=Fj;Jm.jsx=TN;Jm.jsxs=TN;gN.exports=Jm;var d=gN.exports,Yx={},CN={exports:{}},ki={},NN={exports:{}},IN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,ne){var ce=re.length;re.push(ne);e:for(;0<ce;){var ve=ce-1>>>1,ye=re[ve];if(0<i(ye,ne))re[ve]=ne,re[ce]=ye,ce=ve;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ne=re[0],ce=re.pop();if(ce!==ne){re[0]=ce;e:for(var ve=0,ye=re.length,pe=ye>>>1;ve<pe;){var se=2*(ve+1)-1,Te=re[se],oe=se+1,ue=re[oe];if(0>i(Te,ce))oe<ye&&0>i(ue,Te)?(re[ve]=ue,re[oe]=ce,ve=oe):(re[ve]=Te,re[se]=ce,ve=se);else if(oe<ye&&0>i(ue,ce))re[ve]=ue,re[oe]=ce,ve=oe;else break e}}return ne}function i(re,ne){var ce=re.sortIndex-ne.sortIndex;return ce!==0?ce:re.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],h=[],x=1,y=null,w=3,_=!1,I=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(re){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=re)r(h),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=n(h)}}function V(re){if(N=!1,C(re),!I)if(n(f)!==null)I=!0,W(k);else{var ne=n(h);ne!==null&&Y(V,ne.startTime-re)}}function k(re,ne){I=!1,N&&(N=!1,P(D),D=-1),_=!0;var ce=w;try{for(C(ne),y=n(f);y!==null&&(!(y.expirationTime>ne)||re&&!O());){var ve=y.callback;if(typeof ve=="function"){y.callback=null,w=y.priorityLevel;var ye=ve(y.expirationTime<=ne);ne=t.unstable_now(),typeof ye=="function"?y.callback=ye:y===n(f)&&r(f),C(ne)}else r(f);y=n(f)}if(y!==null)var pe=!0;else{var se=n(h);se!==null&&Y(V,se.startTime-ne),pe=!1}return pe}finally{y=null,w=ce,_=!1}}var R=!1,j=null,D=-1,L=5,E=-1;function O(){return!(t.unstable_now()-E<L)}function $(){if(j!==null){var re=t.unstable_now();E=re;var ne=!0;try{ne=j(!0,re)}finally{ne?F():(R=!1,j=null)}}else R=!1}var F;if(typeof S=="function")F=function(){S($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=$,F=function(){z.postMessage(null)}}else F=function(){M($,0)};function W(re){j=re,R||(R=!0,F())}function Y(re,ne){D=M(function(){re(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){I||_||(I=!0,W(k))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var ce=w;w=ne;try{return re()}finally{w=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ne){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=w;w=re;try{return ne()}finally{w=ce}},t.unstable_scheduleCallback=function(re,ne,ce){var ve=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ve+ce:ve):ce=ve,re){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ce+ye,re={id:x++,callback:ne,priorityLevel:re,startTime:ce,expirationTime:ye,sortIndex:-1},ce>ve?(re.sortIndex=ce,e(h,re),n(f)===null&&re===n(h)&&(N?(P(D),D=-1):N=!0,Y(V,ce-ve))):(re.sortIndex=ye,e(f,re),I||_||(I=!0,W(k))),re},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(re){var ne=w;return function(){var ce=w;w=ne;try{return re.apply(this,arguments)}finally{w=ce}}}})(IN);NN.exports=IN;var zj=NN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj=ee,ji=zj;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ON=new Set,gf={};function ql(t,e){Xc(t,e),Xc(t+"Capture",e)}function Xc(t,e){for(gf[t]=e,t=0;t<e.length;t++)ON.add(e[t])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qx=Object.prototype.hasOwnProperty,Hj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BA={},FA={};function Wj(t){return Qx.call(FA,t)?!0:Qx.call(BA,t)?!1:Hj.test(t)?FA[t]=!0:(BA[t]=!0,!1)}function Gj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Kj(t,e,n,r){if(e===null||typeof e>"u"||Gj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wr(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wr[t]=new Wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wr[e]=new Wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wr[t]=new Wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wr[t]=new Wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wr[t]=new Wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wr[t]=new Wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wr[t]=new Wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wr[t]=new Wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wr[t]=new Wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q2=/[\-:]([a-z])/g;function Z2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q2,Z2);wr[e]=new Wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q2,Z2);wr[e]=new Wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q2,Z2);wr[e]=new Wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wr[t]=new Wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function J2(t,e,n,r){var i=wr.hasOwnProperty(e)?wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kj(e,n,i,r)&&(n=null),r||i===null?Wj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var js=qj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l0=Symbol.for("react.element"),gc=Symbol.for("react.portal"),xc=Symbol.for("react.fragment"),eb=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),PN=Symbol.for("react.provider"),jN=Symbol.for("react.context"),tb=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),nb=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),kN=Symbol.for("react.offscreen"),$A=Symbol.iterator;function yd(t){return t===null||typeof t!="object"?null:(t=$A&&t[$A]||t["@@iterator"],typeof t=="function"?t:null)}var _n=Object.assign,Lg;function Bd(t){if(Lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lg=e&&e[1]||""}return`
`+Lg+t}var Bg=!1;function Fg(t,e){if(!t||Bg)return"";Bg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==a[u]){var f=`
`+i[o].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=o&&0<=u);break}}}finally{Bg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bd(t):""}function Xj(t){switch(t.tag){case 5:return Bd(t.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return t=Fg(t.type,!1),t;case 11:return t=Fg(t.type.render,!1),t;case 1:return t=Fg(t.type,!0),t;default:return""}}function ty(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xc:return"Fragment";case gc:return"Portal";case Zx:return"Profiler";case eb:return"StrictMode";case Jx:return"Suspense";case ey:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jN:return(t.displayName||"Context")+".Consumer";case PN:return(t._context.displayName||"Context")+".Provider";case tb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nb:return e=t.displayName||null,e!==null?e:ty(t.type)||"Memo";case Gs:e=t._payload,t=t._init;try{return ty(t(e))}catch{}}return null}function Yj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ty(e);case 8:return e===eb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qj(t){var e=MN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function c0(t){t._valueTracker||(t._valueTracker=Qj(t))}function DN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ny(t,e){var n=e.checked;return _n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RN(t,e){e=e.checked,e!=null&&J2(t,"checked",e,!1)}function ry(t,e){RN(t,e);var n=wo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iy(t,e.type,n):e.hasOwnProperty("defaultValue")&&iy(t,e.type,wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iy(t,e,n){(e!=="number"||dp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fd=Array.isArray;function Lc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ay(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return _n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(Fd(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wo(n)}}function LN(t,e){var n=wo(e.value),r=wo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var u0,FN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(u0=u0||document.createElement("div"),u0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=u0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zj=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(t){Zj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kd[e]=Kd[t]})});function $N(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kd.hasOwnProperty(t)&&Kd[t]?(""+e).trim():e+"px"}function VN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$N(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Jj=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oy(t,e){if(e){if(Jj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function ly(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=null;function rb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uy=null,Bc=null,Fc=null;function HA(t){if(t=Nh(t)){if(typeof uy!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=i1(e),uy(t.stateNode,t.type,e))}}function UN(t){Bc?Fc?Fc.push(t):Fc=[t]:Bc=t}function zN(){if(Bc){var t=Bc,e=Fc;if(Fc=Bc=null,HA(t),e)for(t=0;t<e.length;t++)HA(e[t])}}function qN(t,e){return t(e)}function HN(){}var $g=!1;function WN(t,e,n){if($g)return t(e,n);$g=!0;try{return qN(t,e,n)}finally{$g=!1,(Bc!==null||Fc!==null)&&(HN(),zN())}}function yf(t,e){var n=t.stateNode;if(n===null)return null;var r=i1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var dy=!1;if(ws)try{var vd={};Object.defineProperty(vd,"passive",{get:function(){dy=!0}}),window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{dy=!1}function ek(t,e,n,r,i,a,o,u,f){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(x){this.onError(x)}}var Xd=!1,fp=null,hp=!1,fy=null,tk={onError:function(t){Xd=!0,fp=t}};function nk(t,e,n,r,i,a,o,u,f){Xd=!1,fp=null,ek.apply(tk,arguments)}function rk(t,e,n,r,i,a,o,u,f){if(nk.apply(this,arguments),Xd){if(Xd){var h=fp;Xd=!1,fp=null}else throw Error(ke(198));hp||(hp=!0,fy=h)}}function Hl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WA(t){if(Hl(t)!==t)throw Error(ke(188))}function ik(t){var e=t.alternate;if(!e){if(e=Hl(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return WA(i),t;if(a===r)return WA(i),e;a=a.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function KN(t){return t=ik(t),t!==null?XN(t):null}function XN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XN(t);if(e!==null)return e;t=t.sibling}return null}var YN=ji.unstable_scheduleCallback,GA=ji.unstable_cancelCallback,ak=ji.unstable_shouldYield,sk=ji.unstable_requestPaint,Mn=ji.unstable_now,ok=ji.unstable_getCurrentPriorityLevel,ib=ji.unstable_ImmediatePriority,QN=ji.unstable_UserBlockingPriority,pp=ji.unstable_NormalPriority,lk=ji.unstable_LowPriority,ZN=ji.unstable_IdlePriority,e1=null,Va=null;function ck(t){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(e1,t,void 0,(t.current.flags&128)===128)}catch{}}var ya=Math.clz32?Math.clz32:fk,uk=Math.log,dk=Math.LN2;function fk(t){return t>>>=0,t===0?32:31-(uk(t)/dk|0)|0}var d0=64,f0=4194304;function $d(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=$d(u):(a&=o,a!==0&&(r=$d(a)))}else o=n&~i,o!==0?r=$d(o):a!==0&&(r=$d(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ya(e),i=1<<n,r|=t[n],e&=~i;return r}function hk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ya(a),u=1<<o,f=i[o];f===-1?(!(u&n)||u&r)&&(i[o]=hk(u,e)):f<=e&&(t.expiredLanes|=u),a&=~u}}function hy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JN(){var t=d0;return d0<<=1,!(d0&4194240)&&(d0=64),t}function Vg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Th(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ya(e),t[e]=n}function mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ya(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function ab(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ya(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Vt=0;function e4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var t4,sb,n4,r4,i4,py=!1,h0=[],oo=null,lo=null,co=null,vf=new Map,bf=new Map,Ys=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KA(t,e){switch(t){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(e.pointerId)}}function bd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Nh(e),e!==null&&sb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xk(t,e,n,r,i){switch(e){case"focusin":return oo=bd(oo,t,e,n,r,i),!0;case"dragenter":return lo=bd(lo,t,e,n,r,i),!0;case"mouseover":return co=bd(co,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return vf.set(a,bd(vf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,bf.set(a,bd(bf.get(a)||null,t,e,n,r,i)),!0}return!1}function a4(t){var e=fl(t.target);if(e!==null){var n=Hl(e);if(n!==null){if(e=n.tag,e===13){if(e=GN(n),e!==null){t.blockedOn=e,i4(t.priority,function(){n4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function K0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=my(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cy=r,n.target.dispatchEvent(r),cy=null}else return e=Nh(n),e!==null&&sb(e),t.blockedOn=n,!1;e.shift()}return!0}function XA(t,e,n){K0(t)&&n.delete(e)}function yk(){py=!1,oo!==null&&K0(oo)&&(oo=null),lo!==null&&K0(lo)&&(lo=null),co!==null&&K0(co)&&(co=null),vf.forEach(XA),bf.forEach(XA)}function wd(t,e){t.blockedOn===e&&(t.blockedOn=null,py||(py=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,yk)))}function wf(t){function e(i){return wd(i,t)}if(0<h0.length){wd(h0[0],t);for(var n=1;n<h0.length;n++){var r=h0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oo!==null&&wd(oo,t),lo!==null&&wd(lo,t),co!==null&&wd(co,t),vf.forEach(e),bf.forEach(e),n=0;n<Ys.length;n++)r=Ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)a4(n),n.blockedOn===null&&Ys.shift()}var $c=js.ReactCurrentBatchConfig,gp=!0;function vk(t,e,n,r){var i=Vt,a=$c.transition;$c.transition=null;try{Vt=1,ob(t,e,n,r)}finally{Vt=i,$c.transition=a}}function bk(t,e,n,r){var i=Vt,a=$c.transition;$c.transition=null;try{Vt=4,ob(t,e,n,r)}finally{Vt=i,$c.transition=a}}function ob(t,e,n,r){if(gp){var i=my(t,e,n,r);if(i===null)Qg(t,e,r,xp,n),KA(t,r);else if(xk(i,t,e,n,r))r.stopPropagation();else if(KA(t,r),e&4&&-1<gk.indexOf(t)){for(;i!==null;){var a=Nh(i);if(a!==null&&t4(a),a=my(t,e,n,r),a===null&&Qg(t,e,r,xp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Qg(t,e,r,null,n)}}var xp=null;function my(t,e,n,r){if(xp=null,t=rb(r),t=fl(t),t!==null)if(e=Hl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xp=t,null}function s4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ok()){case ib:return 1;case QN:return 4;case pp:case lk:return 16;case ZN:return 536870912;default:return 16}default:return 16}}var Js=null,lb=null,X0=null;function o4(){if(X0)return X0;var t,e=lb,n=e.length,r,i="value"in Js?Js.value:Js.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return X0=i.slice(t,1<r?1-r:void 0)}function Y0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function p0(){return!0}function YA(){return!1}function Mi(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?p0:YA,this.isPropagationStopped=YA,this}return _n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=p0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=p0)},persist:function(){},isPersistent:p0}),e}var $u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cb=Mi($u),Ch=_n({},$u,{view:0,detail:0}),wk=Mi(Ch),Ug,zg,Ad,t1=_n({},Ch,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ub,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ad&&(Ad&&t.type==="mousemove"?(Ug=t.screenX-Ad.screenX,zg=t.screenY-Ad.screenY):zg=Ug=0,Ad=t),Ug)},movementY:function(t){return"movementY"in t?t.movementY:zg}}),QA=Mi(t1),Ak=_n({},t1,{dataTransfer:0}),_k=Mi(Ak),Ek=_n({},Ch,{relatedTarget:0}),qg=Mi(Ek),Sk=_n({},$u,{animationName:0,elapsedTime:0,pseudoElement:0}),Tk=Mi(Sk),Ck=_n({},$u,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nk=Mi(Ck),Ik=_n({},$u,{data:0}),ZA=Mi(Ik),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jk[t])?!!e[t]:!1}function ub(){return kk}var Mk=_n({},Ch,{key:function(t){if(t.key){var e=Ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Y0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ub,charCode:function(t){return t.type==="keypress"?Y0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Y0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dk=Mi(Mk),Rk=_n({},t1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JA=Mi(Rk),Lk=_n({},Ch,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ub}),Bk=Mi(Lk),Fk=_n({},$u,{propertyName:0,elapsedTime:0,pseudoElement:0}),$k=Mi(Fk),Vk=_n({},t1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=Mi(Vk),zk=[9,13,27,32],db=ws&&"CompositionEvent"in window,Yd=null;ws&&"documentMode"in document&&(Yd=document.documentMode);var qk=ws&&"TextEvent"in window&&!Yd,l4=ws&&(!db||Yd&&8<Yd&&11>=Yd),e_=" ",t_=!1;function c4(t,e){switch(t){case"keyup":return zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yc=!1;function Hk(t,e){switch(t){case"compositionend":return u4(e);case"keypress":return e.which!==32?null:(t_=!0,e_);case"textInput":return t=e.data,t===e_&&t_?null:t;default:return null}}function Wk(t,e){if(yc)return t==="compositionend"||!db&&c4(t,e)?(t=o4(),X0=lb=Js=null,yc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l4&&e.locale!=="ko"?null:e.data;default:return null}}var Gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gk[t.type]:e==="textarea"}function d4(t,e,n,r){UN(r),e=yp(e,"onChange"),0<e.length&&(n=new cb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qd=null,Af=null;function Kk(t){A4(t,0)}function n1(t){var e=wc(t);if(DN(e))return t}function Xk(t,e){if(t==="change")return e}var f4=!1;if(ws){var Hg;if(ws){var Wg="oninput"in document;if(!Wg){var r_=document.createElement("div");r_.setAttribute("oninput","return;"),Wg=typeof r_.oninput=="function"}Hg=Wg}else Hg=!1;f4=Hg&&(!document.documentMode||9<document.documentMode)}function i_(){Qd&&(Qd.detachEvent("onpropertychange",h4),Af=Qd=null)}function h4(t){if(t.propertyName==="value"&&n1(Af)){var e=[];d4(e,Af,t,rb(t)),WN(Kk,e)}}function Yk(t,e,n){t==="focusin"?(i_(),Qd=e,Af=n,Qd.attachEvent("onpropertychange",h4)):t==="focusout"&&i_()}function Qk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return n1(Af)}function Zk(t,e){if(t==="click")return n1(e)}function Jk(t,e){if(t==="input"||t==="change")return n1(e)}function eM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wa=typeof Object.is=="function"?Object.is:eM;function _f(t,e){if(wa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qx.call(e,i)||!wa(t[i],e[i]))return!1}return!0}function a_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s_(t,e){var n=a_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a_(n)}}function p4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?p4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m4(){for(var t=window,e=dp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dp(t.document)}return e}function fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tM(t){var e=m4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&p4(n.ownerDocument.documentElement,n)){if(r!==null&&fb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=s_(n,a);var o=s_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nM=ws&&"documentMode"in document&&11>=document.documentMode,vc=null,gy=null,Zd=null,xy=!1;function o_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xy||vc==null||vc!==dp(r)||(r=vc,"selectionStart"in r&&fb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zd&&_f(Zd,r)||(Zd=r,r=yp(gy,"onSelect"),0<r.length&&(e=new cb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vc)))}function m0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bc={animationend:m0("Animation","AnimationEnd"),animationiteration:m0("Animation","AnimationIteration"),animationstart:m0("Animation","AnimationStart"),transitionend:m0("Transition","TransitionEnd")},Gg={},g4={};ws&&(g4=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function r1(t){if(Gg[t])return Gg[t];if(!bc[t])return t;var e=bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g4)return Gg[t]=e[n];return t}var x4=r1("animationend"),y4=r1("animationiteration"),v4=r1("animationstart"),b4=r1("transitionend"),w4=new Map,l_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(t,e){w4.set(t,e),ql(e,[t])}for(var Kg=0;Kg<l_.length;Kg++){var Xg=l_[Kg],rM=Xg.toLowerCase(),iM=Xg[0].toUpperCase()+Xg.slice(1);Oo(rM,"on"+iM)}Oo(x4,"onAnimationEnd");Oo(y4,"onAnimationIteration");Oo(v4,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(b4,"onTransitionEnd");Xc("onMouseEnter",["mouseout","mouseover"]);Xc("onMouseLeave",["mouseout","mouseover"]);Xc("onPointerEnter",["pointerout","pointerover"]);Xc("onPointerLeave",["pointerout","pointerover"]);ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vd));function c_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rk(r,e,void 0,t),t.currentTarget=null}function A4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],f=u.instance,h=u.currentTarget;if(u=u.listener,f!==a&&i.isPropagationStopped())break e;c_(i,u,h),a=f}else for(o=0;o<r.length;o++){if(u=r[o],f=u.instance,h=u.currentTarget,u=u.listener,f!==a&&i.isPropagationStopped())break e;c_(i,u,h),a=f}}}if(hp)throw t=fy,hp=!1,fy=null,t}function sn(t,e){var n=e[Ay];n===void 0&&(n=e[Ay]=new Set);var r=t+"__bubble";n.has(r)||(_4(e,t,2,!1),n.add(r))}function Yg(t,e,n){var r=0;e&&(r|=4),_4(n,t,r,e)}var g0="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[g0]){t[g0]=!0,ON.forEach(function(n){n!=="selectionchange"&&(aM.has(n)||Yg(n,!1,t),Yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[g0]||(e[g0]=!0,Yg("selectionchange",!1,e))}}function _4(t,e,n,r){switch(s4(e)){case 1:var i=vk;break;case 4:i=bk;break;default:i=ob}n=i.bind(null,e,n,t),i=void 0,!dy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qg(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;o=o.return}for(;u!==null;){if(o=fl(u),o===null)return;if(f=o.tag,f===5||f===6){r=a=o;continue e}u=u.parentNode}}r=r.return}WN(function(){var h=a,x=rb(n),y=[];e:{var w=w4.get(t);if(w!==void 0){var _=cb,I=t;switch(t){case"keypress":if(Y0(n)===0)break e;case"keydown":case"keyup":_=Dk;break;case"focusin":I="focus",_=qg;break;case"focusout":I="blur",_=qg;break;case"beforeblur":case"afterblur":_=qg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=QA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Bk;break;case x4:case y4:case v4:_=Tk;break;case b4:_=$k;break;case"scroll":_=wk;break;case"wheel":_=Uk;break;case"copy":case"cut":case"paste":_=Nk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=JA}var N=(e&4)!==0,M=!N&&t==="scroll",P=N?w!==null?w+"Capture":null:w;N=[];for(var S=h,C;S!==null;){C=S;var V=C.stateNode;if(C.tag===5&&V!==null&&(C=V,P!==null&&(V=yf(S,P),V!=null&&N.push(Sf(S,V,C)))),M)break;S=S.return}0<N.length&&(w=new _(w,I,null,n,x),y.push({event:w,listeners:N}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",w&&n!==cy&&(I=n.relatedTarget||n.fromElement)&&(fl(I)||I[As]))break e;if((_||w)&&(w=x.window===x?x:(w=x.ownerDocument)?w.defaultView||w.parentWindow:window,_?(I=n.relatedTarget||n.toElement,_=h,I=I?fl(I):null,I!==null&&(M=Hl(I),I!==M||I.tag!==5&&I.tag!==6)&&(I=null)):(_=null,I=h),_!==I)){if(N=QA,V="onMouseLeave",P="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(N=JA,V="onPointerLeave",P="onPointerEnter",S="pointer"),M=_==null?w:wc(_),C=I==null?w:wc(I),w=new N(V,S+"leave",_,n,x),w.target=M,w.relatedTarget=C,V=null,fl(x)===h&&(N=new N(P,S+"enter",I,n,x),N.target=C,N.relatedTarget=M,V=N),M=V,_&&I)t:{for(N=_,P=I,S=0,C=N;C;C=lc(C))S++;for(C=0,V=P;V;V=lc(V))C++;for(;0<S-C;)N=lc(N),S--;for(;0<C-S;)P=lc(P),C--;for(;S--;){if(N===P||P!==null&&N===P.alternate)break t;N=lc(N),P=lc(P)}N=null}else N=null;_!==null&&u_(y,w,_,N,!1),I!==null&&M!==null&&u_(y,M,I,N,!0)}}e:{if(w=h?wc(h):window,_=w.nodeName&&w.nodeName.toLowerCase(),_==="select"||_==="input"&&w.type==="file")var k=Xk;else if(n_(w))if(f4)k=Jk;else{k=Qk;var R=Yk}else(_=w.nodeName)&&_.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(k=Zk);if(k&&(k=k(t,h))){d4(y,k,n,x);break e}R&&R(t,w,h),t==="focusout"&&(R=w._wrapperState)&&R.controlled&&w.type==="number"&&iy(w,"number",w.value)}switch(R=h?wc(h):window,t){case"focusin":(n_(R)||R.contentEditable==="true")&&(vc=R,gy=h,Zd=null);break;case"focusout":Zd=gy=vc=null;break;case"mousedown":xy=!0;break;case"contextmenu":case"mouseup":case"dragend":xy=!1,o_(y,n,x);break;case"selectionchange":if(nM)break;case"keydown":case"keyup":o_(y,n,x)}var j;if(db)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else yc?c4(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(l4&&n.locale!=="ko"&&(yc||D!=="onCompositionStart"?D==="onCompositionEnd"&&yc&&(j=o4()):(Js=x,lb="value"in Js?Js.value:Js.textContent,yc=!0)),R=yp(h,D),0<R.length&&(D=new ZA(D,t,null,n,x),y.push({event:D,listeners:R}),j?D.data=j:(j=u4(n),j!==null&&(D.data=j)))),(j=qk?Hk(t,n):Wk(t,n))&&(h=yp(h,"onBeforeInput"),0<h.length&&(x=new ZA("onBeforeInput","beforeinput",null,n,x),y.push({event:x,listeners:h}),x.data=j))}A4(y,e)})}function Sf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yf(t,n),a!=null&&r.unshift(Sf(t,a,i)),a=yf(t,e),a!=null&&r.push(Sf(t,a,i))),t=t.return}return r}function lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u_(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var u=n,f=u.alternate,h=u.stateNode;if(f!==null&&f===r)break;u.tag===5&&h!==null&&(u=h,i?(f=yf(n,a),f!=null&&o.unshift(Sf(n,f,u))):i||(f=yf(n,a),f!=null&&o.push(Sf(n,f,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sM=/\r\n?/g,oM=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(sM,`
`).replace(oM,"")}function x0(t,e,n){if(e=d_(e),d_(t)!==e&&n)throw Error(ke(425))}function vp(){}var yy=null,vy=null;function by(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wy=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(t){return f_.resolve(null).then(t).catch(uM)}:wy;function uM(t){setTimeout(function(){throw t})}function Zg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wf(e)}function uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vu=Math.random().toString(36).slice(2),Ba="__reactFiber$"+Vu,Tf="__reactProps$"+Vu,As="__reactContainer$"+Vu,Ay="__reactEvents$"+Vu,dM="__reactListeners$"+Vu,fM="__reactHandles$"+Vu;function fl(t){var e=t[Ba];if(e)return e;for(var n=t.parentNode;n;){if(e=n[As]||n[Ba]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h_(t);t!==null;){if(n=t[Ba])return n;t=h_(t)}return e}t=n,n=t.parentNode}return null}function Nh(t){return t=t[Ba]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function i1(t){return t[Tf]||null}var _y=[],Ac=-1;function Po(t){return{current:t}}function fn(t){0>Ac||(t.current=_y[Ac],_y[Ac]=null,Ac--)}function Jt(t,e){Ac++,_y[Ac]=t.current,t.current=e}var Ao={},Mr=Po(Ao),si=Po(!1),Cl=Ao;function Yc(t,e){var n=t.type.contextTypes;if(!n)return Ao;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function oi(t){return t=t.childContextTypes,t!=null}function bp(){fn(si),fn(Mr)}function p_(t,e,n){if(Mr.current!==Ao)throw Error(ke(168));Jt(Mr,e),Jt(si,n)}function E4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,Yj(t)||"Unknown",i));return _n({},n,r)}function wp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ao,Cl=Mr.current,Jt(Mr,t),Jt(si,si.current),!0}function m_(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=E4(t,e,Cl),r.__reactInternalMemoizedMergedChildContext=t,fn(si),fn(Mr),Jt(Mr,t)):fn(si),Jt(si,n)}var cs=null,a1=!1,Jg=!1;function S4(t){cs===null?cs=[t]:cs.push(t)}function hM(t){a1=!0,S4(t)}function jo(){if(!Jg&&cs!==null){Jg=!0;var t=0,e=Vt;try{var n=cs;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cs=null,a1=!1}catch(i){throw cs!==null&&(cs=cs.slice(t+1)),YN(ib,jo),i}finally{Vt=e,Jg=!1}}return null}var _c=[],Ec=0,Ap=null,_p=0,zi=[],qi=0,Nl=null,us=1,ds="";function rl(t,e){_c[Ec++]=_p,_c[Ec++]=Ap,Ap=t,_p=e}function T4(t,e,n){zi[qi++]=us,zi[qi++]=ds,zi[qi++]=Nl,Nl=t;var r=us;t=ds;var i=32-ya(r)-1;r&=~(1<<i),n+=1;var a=32-ya(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,us=1<<32-ya(e)+i|n<<i|r,ds=a+t}else us=1<<a|n<<i|r,ds=t}function hb(t){t.return!==null&&(rl(t,1),T4(t,1,0))}function pb(t){for(;t===Ap;)Ap=_c[--Ec],_c[Ec]=null,_p=_c[--Ec],_c[Ec]=null;for(;t===Nl;)Nl=zi[--qi],zi[qi]=null,ds=zi[--qi],zi[qi]=null,us=zi[--qi],zi[qi]=null}var Ii=null,Ci=null,mn=!1,pa=null;function C4(t,e){var n=Gi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ii=t,Ci=uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ii=t,Ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nl!==null?{id:us,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ii=t,Ci=null,!0):!1;default:return!1}}function Ey(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sy(t){if(mn){var e=Ci;if(e){var n=e;if(!g_(t,e)){if(Ey(t))throw Error(ke(418));e=uo(n.nextSibling);var r=Ii;e&&g_(t,e)?C4(r,n):(t.flags=t.flags&-4097|2,mn=!1,Ii=t)}}else{if(Ey(t))throw Error(ke(418));t.flags=t.flags&-4097|2,mn=!1,Ii=t}}}function x_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ii=t}function y0(t){if(t!==Ii)return!1;if(!mn)return x_(t),mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!by(t.type,t.memoizedProps)),e&&(e=Ci)){if(Ey(t))throw N4(),Error(ke(418));for(;e;)C4(t,e),e=uo(e.nextSibling)}if(x_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ci=uo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ci=null}}else Ci=Ii?uo(t.stateNode.nextSibling):null;return!0}function N4(){for(var t=Ci;t;)t=uo(t.nextSibling)}function Qc(){Ci=Ii=null,mn=!1}function mb(t){pa===null?pa=[t]:pa.push(t)}var pM=js.ReactCurrentBatchConfig;function _d(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var u=i.refs;o===null?delete u[a]:u[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function v0(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y_(t){var e=t._init;return e(t._payload)}function I4(t){function e(P,S){if(t){var C=P.deletions;C===null?(P.deletions=[S],P.flags|=16):C.push(S)}}function n(P,S){if(!t)return null;for(;S!==null;)e(P,S),S=S.sibling;return null}function r(P,S){for(P=new Map;S!==null;)S.key!==null?P.set(S.key,S):P.set(S.index,S),S=S.sibling;return P}function i(P,S){return P=mo(P,S),P.index=0,P.sibling=null,P}function a(P,S,C){return P.index=C,t?(C=P.alternate,C!==null?(C=C.index,C<S?(P.flags|=2,S):C):(P.flags|=2,S)):(P.flags|=1048576,S)}function o(P){return t&&P.alternate===null&&(P.flags|=2),P}function u(P,S,C,V){return S===null||S.tag!==6?(S=sx(C,P.mode,V),S.return=P,S):(S=i(S,C),S.return=P,S)}function f(P,S,C,V){var k=C.type;return k===xc?x(P,S,C.props.children,V,C.key):S!==null&&(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gs&&y_(k)===S.type)?(V=i(S,C.props),V.ref=_d(P,S,C),V.return=P,V):(V=rp(C.type,C.key,C.props,null,P.mode,V),V.ref=_d(P,S,C),V.return=P,V)}function h(P,S,C,V){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=ox(C,P.mode,V),S.return=P,S):(S=i(S,C.children||[]),S.return=P,S)}function x(P,S,C,V,k){return S===null||S.tag!==7?(S=Al(C,P.mode,V,k),S.return=P,S):(S=i(S,C),S.return=P,S)}function y(P,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=sx(""+S,P.mode,C),S.return=P,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case l0:return C=rp(S.type,S.key,S.props,null,P.mode,C),C.ref=_d(P,null,S),C.return=P,C;case gc:return S=ox(S,P.mode,C),S.return=P,S;case Gs:var V=S._init;return y(P,V(S._payload),C)}if(Fd(S)||yd(S))return S=Al(S,P.mode,C,null),S.return=P,S;v0(P,S)}return null}function w(P,S,C,V){var k=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return k!==null?null:u(P,S,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case l0:return C.key===k?f(P,S,C,V):null;case gc:return C.key===k?h(P,S,C,V):null;case Gs:return k=C._init,w(P,S,k(C._payload),V)}if(Fd(C)||yd(C))return k!==null?null:x(P,S,C,V,null);v0(P,C)}return null}function _(P,S,C,V,k){if(typeof V=="string"&&V!==""||typeof V=="number")return P=P.get(C)||null,u(S,P,""+V,k);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case l0:return P=P.get(V.key===null?C:V.key)||null,f(S,P,V,k);case gc:return P=P.get(V.key===null?C:V.key)||null,h(S,P,V,k);case Gs:var R=V._init;return _(P,S,C,R(V._payload),k)}if(Fd(V)||yd(V))return P=P.get(C)||null,x(S,P,V,k,null);v0(S,V)}return null}function I(P,S,C,V){for(var k=null,R=null,j=S,D=S=0,L=null;j!==null&&D<C.length;D++){j.index>D?(L=j,j=null):L=j.sibling;var E=w(P,j,C[D],V);if(E===null){j===null&&(j=L);break}t&&j&&E.alternate===null&&e(P,j),S=a(E,S,D),R===null?k=E:R.sibling=E,R=E,j=L}if(D===C.length)return n(P,j),mn&&rl(P,D),k;if(j===null){for(;D<C.length;D++)j=y(P,C[D],V),j!==null&&(S=a(j,S,D),R===null?k=j:R.sibling=j,R=j);return mn&&rl(P,D),k}for(j=r(P,j);D<C.length;D++)L=_(j,P,D,C[D],V),L!==null&&(t&&L.alternate!==null&&j.delete(L.key===null?D:L.key),S=a(L,S,D),R===null?k=L:R.sibling=L,R=L);return t&&j.forEach(function(O){return e(P,O)}),mn&&rl(P,D),k}function N(P,S,C,V){var k=yd(C);if(typeof k!="function")throw Error(ke(150));if(C=k.call(C),C==null)throw Error(ke(151));for(var R=k=null,j=S,D=S=0,L=null,E=C.next();j!==null&&!E.done;D++,E=C.next()){j.index>D?(L=j,j=null):L=j.sibling;var O=w(P,j,E.value,V);if(O===null){j===null&&(j=L);break}t&&j&&O.alternate===null&&e(P,j),S=a(O,S,D),R===null?k=O:R.sibling=O,R=O,j=L}if(E.done)return n(P,j),mn&&rl(P,D),k;if(j===null){for(;!E.done;D++,E=C.next())E=y(P,E.value,V),E!==null&&(S=a(E,S,D),R===null?k=E:R.sibling=E,R=E);return mn&&rl(P,D),k}for(j=r(P,j);!E.done;D++,E=C.next())E=_(j,P,D,E.value,V),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?D:E.key),S=a(E,S,D),R===null?k=E:R.sibling=E,R=E);return t&&j.forEach(function($){return e(P,$)}),mn&&rl(P,D),k}function M(P,S,C,V){if(typeof C=="object"&&C!==null&&C.type===xc&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case l0:e:{for(var k=C.key,R=S;R!==null;){if(R.key===k){if(k=C.type,k===xc){if(R.tag===7){n(P,R.sibling),S=i(R,C.props.children),S.return=P,P=S;break e}}else if(R.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gs&&y_(k)===R.type){n(P,R.sibling),S=i(R,C.props),S.ref=_d(P,R,C),S.return=P,P=S;break e}n(P,R);break}else e(P,R);R=R.sibling}C.type===xc?(S=Al(C.props.children,P.mode,V,C.key),S.return=P,P=S):(V=rp(C.type,C.key,C.props,null,P.mode,V),V.ref=_d(P,S,C),V.return=P,P=V)}return o(P);case gc:e:{for(R=C.key;S!==null;){if(S.key===R)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(P,S.sibling),S=i(S,C.children||[]),S.return=P,P=S;break e}else{n(P,S);break}else e(P,S);S=S.sibling}S=ox(C,P.mode,V),S.return=P,P=S}return o(P);case Gs:return R=C._init,M(P,S,R(C._payload),V)}if(Fd(C))return I(P,S,C,V);if(yd(C))return N(P,S,C,V);v0(P,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(P,S.sibling),S=i(S,C),S.return=P,P=S):(n(P,S),S=sx(C,P.mode,V),S.return=P,P=S),o(P)):n(P,S)}return M}var Zc=I4(!0),O4=I4(!1),Ep=Po(null),Sp=null,Sc=null,gb=null;function xb(){gb=Sc=Sp=null}function yb(t){var e=Ep.current;fn(Ep),t._currentValue=e}function Ty(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vc(t,e){Sp=t,gb=Sc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ri=!0),t.firstContext=null)}function Qi(t){var e=t._currentValue;if(gb!==t)if(t={context:t,memoizedValue:e,next:null},Sc===null){if(Sp===null)throw Error(ke(308));Sc=t,Sp.dependencies={lanes:0,firstContext:t}}else Sc=Sc.next=t;return e}var hl=null;function vb(t){hl===null?hl=[t]:hl.push(t)}function P4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vb(e)):(n.next=i.next,i.next=n),e.interleaved=n,_s(t,r)}function _s(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ks=!1;function bb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_s(t,n)}return i=r.interleaved,i===null?(e.next=e,vb(r)):(e.next=i.next,i.next=e),r.interleaved=e,_s(t,n)}function Q0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ab(t,n)}}function v_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tp(t,e,n,r){var i=t.updateQueue;Ks=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,h=f.next;f.next=null,o===null?a=h:o.next=h,o=f;var x=t.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==o&&(u===null?x.firstBaseUpdate=h:u.next=h,x.lastBaseUpdate=f))}if(a!==null){var y=i.baseState;o=0,x=h=f=null,u=a;do{var w=u.lane,_=u.eventTime;if((r&w)===w){x!==null&&(x=x.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var I=t,N=u;switch(w=e,_=n,N.tag){case 1:if(I=N.payload,typeof I=="function"){y=I.call(_,y,w);break e}y=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=N.payload,w=typeof I=="function"?I.call(_,y,w):I,w==null)break e;y=_n({},y,w);break e;case 2:Ks=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[u]:w.push(u))}else _={eventTime:_,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(h=x=_,f=y):x=x.next=_,o|=w;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;w=u,u=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(x===null&&(f=y),i.baseState=f,i.firstBaseUpdate=h,i.lastBaseUpdate=x,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ol|=o,t.lanes=o,t.memoizedState=y}}function b_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var Ih={},Ua=Po(Ih),Cf=Po(Ih),Nf=Po(Ih);function pl(t){if(t===Ih)throw Error(ke(174));return t}function wb(t,e){switch(Jt(Nf,e),Jt(Cf,t),Jt(Ua,Ih),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sy(e,t)}fn(Ua),Jt(Ua,e)}function Jc(){fn(Ua),fn(Cf),fn(Nf)}function k4(t){pl(Nf.current);var e=pl(Ua.current),n=sy(e,t.type);e!==n&&(Jt(Cf,t),Jt(Ua,n))}function Ab(t){Cf.current===t&&(fn(Ua),fn(Cf))}var wn=Po(0);function Cp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ex=[];function _b(){for(var t=0;t<ex.length;t++)ex[t]._workInProgressVersionPrimary=null;ex.length=0}var Z0=js.ReactCurrentDispatcher,tx=js.ReactCurrentBatchConfig,Il=0,An=null,Xn=null,lr=null,Np=!1,Jd=!1,If=0,mM=0;function Sr(){throw Error(ke(321))}function Eb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wa(t[n],e[n]))return!1;return!0}function Sb(t,e,n,r,i,a){if(Il=a,An=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z0.current=t===null||t.memoizedState===null?vM:bM,t=n(r,i),Jd){a=0;do{if(Jd=!1,If=0,25<=a)throw Error(ke(301));a+=1,lr=Xn=null,e.updateQueue=null,Z0.current=wM,t=n(r,i)}while(Jd)}if(Z0.current=Ip,e=Xn!==null&&Xn.next!==null,Il=0,lr=Xn=An=null,Np=!1,e)throw Error(ke(300));return t}function Tb(){var t=If!==0;return If=0,t}function Da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?An.memoizedState=lr=t:lr=lr.next=t,lr}function Zi(){if(Xn===null){var t=An.alternate;t=t!==null?t.memoizedState:null}else t=Xn.next;var e=lr===null?An.memoizedState:lr.next;if(e!==null)lr=e,Xn=t;else{if(t===null)throw Error(ke(310));Xn=t,t={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},lr===null?An.memoizedState=lr=t:lr=lr.next=t}return lr}function Of(t,e){return typeof e=="function"?e(t):e}function nx(t){var e=Zi(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=Xn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var u=o=null,f=null,h=a;do{var x=h.lane;if((Il&x)===x)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var y={lane:x,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(u=f=y,o=r):f=f.next=y,An.lanes|=x,Ol|=x}h=h.next}while(h!==null&&h!==a);f===null?o=r:f.next=u,wa(r,e.memoizedState)||(ri=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,An.lanes|=a,Ol|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rx(t){var e=Zi(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);wa(a,e.memoizedState)||(ri=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function M4(){}function D4(t,e){var n=An,r=Zi(),i=e(),a=!wa(r.memoizedState,i);if(a&&(r.memoizedState=i,ri=!0),r=r.queue,Cb(B4.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||lr!==null&&lr.memoizedState.tag&1){if(n.flags|=2048,Pf(9,L4.bind(null,n,r,i,e),void 0,null),ur===null)throw Error(ke(349));Il&30||R4(n,e,i)}return i}function R4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L4(t,e,n,r){e.value=n,e.getSnapshot=r,F4(e)&&$4(t)}function B4(t,e,n){return n(function(){F4(e)&&$4(t)})}function F4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wa(t,n)}catch{return!0}}function $4(t){var e=_s(t,1);e!==null&&va(e,t,1,-1)}function w_(t){var e=Da();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:t},e.queue=t,t=t.dispatch=yM.bind(null,An,t),[e.memoizedState,t]}function Pf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V4(){return Zi().memoizedState}function J0(t,e,n,r){var i=Da();An.flags|=t,i.memoizedState=Pf(1|e,n,void 0,r===void 0?null:r)}function s1(t,e,n,r){var i=Zi();r=r===void 0?null:r;var a=void 0;if(Xn!==null){var o=Xn.memoizedState;if(a=o.destroy,r!==null&&Eb(r,o.deps)){i.memoizedState=Pf(e,n,a,r);return}}An.flags|=t,i.memoizedState=Pf(1|e,n,a,r)}function A_(t,e){return J0(8390656,8,t,e)}function Cb(t,e){return s1(2048,8,t,e)}function U4(t,e){return s1(4,2,t,e)}function z4(t,e){return s1(4,4,t,e)}function q4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H4(t,e,n){return n=n!=null?n.concat([t]):null,s1(4,4,q4.bind(null,e,t),n)}function Nb(){}function W4(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function G4(t,e){var n=Zi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function K4(t,e,n){return Il&21?(wa(n,e)||(n=JN(),An.lanes|=n,Ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ri=!0),t.memoizedState=n)}function gM(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=tx.transition;tx.transition={};try{t(!1),e()}finally{Vt=n,tx.transition=r}}function X4(){return Zi().memoizedState}function xM(t,e,n){var r=po(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Y4(t))Q4(e,n);else if(n=P4(t,e,n,r),n!==null){var i=Ur();va(n,t,r,i),Z4(n,e,r)}}function yM(t,e,n){var r=po(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y4(t))Q4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,wa(u,o)){var f=e.interleaved;f===null?(i.next=i,vb(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}n=P4(t,e,i,r),n!==null&&(i=Ur(),va(n,t,r,i),Z4(n,e,r))}}function Y4(t){var e=t.alternate;return t===An||e!==null&&e===An}function Q4(t,e){Jd=Np=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ab(t,n)}}var Ip={readContext:Qi,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},vM={readContext:Qi,useCallback:function(t,e){return Da().memoizedState=[t,e===void 0?null:e],t},useContext:Qi,useEffect:A_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,J0(4194308,4,q4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return J0(4194308,4,t,e)},useInsertionEffect:function(t,e){return J0(4,2,t,e)},useMemo:function(t,e){var n=Da();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Da();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xM.bind(null,An,t),[r.memoizedState,t]},useRef:function(t){var e=Da();return t={current:t},e.memoizedState=t},useState:w_,useDebugValue:Nb,useDeferredValue:function(t){return Da().memoizedState=t},useTransition:function(){var t=w_(!1),e=t[0];return t=gM.bind(null,t[1]),Da().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=An,i=Da();if(mn){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),ur===null)throw Error(ke(349));Il&30||R4(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,A_(B4.bind(null,r,a,t),[t]),r.flags|=2048,Pf(9,L4.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Da(),e=ur.identifierPrefix;if(mn){var n=ds,r=us;n=(r&~(1<<32-ya(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=If++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bM={readContext:Qi,useCallback:W4,useContext:Qi,useEffect:Cb,useImperativeHandle:H4,useInsertionEffect:U4,useLayoutEffect:z4,useMemo:G4,useReducer:nx,useRef:V4,useState:function(){return nx(Of)},useDebugValue:Nb,useDeferredValue:function(t){var e=Zi();return K4(e,Xn.memoizedState,t)},useTransition:function(){var t=nx(Of)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:M4,useSyncExternalStore:D4,useId:X4,unstable_isNewReconciler:!1},wM={readContext:Qi,useCallback:W4,useContext:Qi,useEffect:Cb,useImperativeHandle:H4,useInsertionEffect:U4,useLayoutEffect:z4,useMemo:G4,useReducer:rx,useRef:V4,useState:function(){return rx(Of)},useDebugValue:Nb,useDeferredValue:function(t){var e=Zi();return Xn===null?e.memoizedState=t:K4(e,Xn.memoizedState,t)},useTransition:function(){var t=rx(Of)[0],e=Zi().memoizedState;return[t,e]},useMutableSource:M4,useSyncExternalStore:D4,useId:X4,unstable_isNewReconciler:!1};function ua(t,e){if(t&&t.defaultProps){e=_n({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_n({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var o1={isMounted:function(t){return(t=t._reactInternals)?Hl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=po(t),a=gs(r,i);a.payload=e,n!=null&&(a.callback=n),e=fo(t,a,i),e!==null&&(va(e,t,i,r),Q0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=po(t),a=gs(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=fo(t,a,i),e!==null&&(va(e,t,i,r),Q0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ur(),r=po(t),i=gs(n,r);i.tag=2,e!=null&&(i.callback=e),e=fo(t,i,r),e!==null&&(va(e,t,r,n),Q0(e,t,r))}};function __(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!_f(n,r)||!_f(i,a):!0}function J4(t,e,n){var r=!1,i=Ao,a=e.contextType;return typeof a=="object"&&a!==null?a=Qi(a):(i=oi(e)?Cl:Mr.current,r=e.contextTypes,a=(r=r!=null)?Yc(t,i):Ao),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=o1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function E_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&o1.enqueueReplaceState(e,e.state,null)}function Ny(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bb(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qi(a):(a=oi(e)?Cl:Mr.current,i.context=Yc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Cy(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&o1.enqueueReplaceState(i,i.state,null),Tp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function eu(t,e){try{var n="",r=e;do n+=Xj(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ix(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Iy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AM=typeof WeakMap=="function"?WeakMap:Map;function eI(t,e,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pp||(Pp=!0,Fy=r),Iy(t,e)},n}function tI(t,e,n){n=gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Iy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Iy(t,e),typeof r!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function S_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RM.bind(null,t,e,n),e.then(t,t))}function T_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gs(-1,1),e.tag=2,fo(n,e,1))),n.lanes|=1),t)}var _M=js.ReactCurrentOwner,ri=!1;function Br(t,e,n,r){e.child=t===null?O4(e,null,n,r):Zc(e,t.child,n,r)}function N_(t,e,n,r,i){n=n.render;var a=e.ref;return Vc(e,i),r=Sb(t,e,n,r,a,i),n=Tb(),t!==null&&!ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Es(t,e,i)):(mn&&n&&hb(e),e.flags|=1,Br(t,e,r,i),e.child)}function I_(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Rb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,nI(t,e,a,r,i)):(t=rp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:_f,n(o,r)&&t.ref===e.ref)return Es(t,e,i)}return e.flags|=1,t=mo(a,r),t.ref=e.ref,t.return=e,e.child=t}function nI(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(_f(a,r)&&t.ref===e.ref)if(ri=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(ri=!0);else return e.lanes=t.lanes,Es(t,e,i)}return Oy(t,e,n,r,i)}function rI(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(Cc,Ai),Ai|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jt(Cc,Ai),Ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Jt(Cc,Ai),Ai|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Jt(Cc,Ai),Ai|=r;return Br(t,e,i,n),e.child}function iI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Oy(t,e,n,r,i){var a=oi(n)?Cl:Mr.current;return a=Yc(e,a),Vc(e,i),n=Sb(t,e,n,r,a,i),r=Tb(),t!==null&&!ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Es(t,e,i)):(mn&&r&&hb(e),e.flags|=1,Br(t,e,n,i),e.child)}function O_(t,e,n,r,i){if(oi(n)){var a=!0;wp(e)}else a=!1;if(Vc(e,i),e.stateNode===null)ep(t,e),J4(e,n,r),Ny(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var f=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Qi(h):(h=oi(n)?Cl:Mr.current,h=Yc(e,h));var x=n.getDerivedStateFromProps,y=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||f!==h)&&E_(e,o,r,h),Ks=!1;var w=e.memoizedState;o.state=w,Tp(e,r,o,i),f=e.memoizedState,u!==r||w!==f||si.current||Ks?(typeof x=="function"&&(Cy(e,n,x,r),f=e.memoizedState),(u=Ks||__(e,n,u,r,w,f,h))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,j4(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:ua(e.type,u),o.props=h,y=e.pendingProps,w=o.context,f=n.contextType,typeof f=="object"&&f!==null?f=Qi(f):(f=oi(n)?Cl:Mr.current,f=Yc(e,f));var _=n.getDerivedStateFromProps;(x=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==y||w!==f)&&E_(e,o,r,f),Ks=!1,w=e.memoizedState,o.state=w,Tp(e,r,o,i);var I=e.memoizedState;u!==y||w!==I||si.current||Ks?(typeof _=="function"&&(Cy(e,n,_,r),I=e.memoizedState),(h=Ks||__(e,n,h,r,w,I,f)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=f,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return Py(t,e,n,r,a,i)}function Py(t,e,n,r,i,a){iI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&m_(e,n,!1),Es(t,e,a);r=e.stateNode,_M.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zc(e,t.child,null,a),e.child=Zc(e,null,u,a)):Br(t,e,u,a),e.memoizedState=r.state,i&&m_(e,n,!0),e.child}function aI(t){var e=t.stateNode;e.pendingContext?p_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p_(t,e.context,!1),wb(t,e.containerInfo)}function P_(t,e,n,r,i){return Qc(),mb(i),e.flags|=256,Br(t,e,n,r),e.child}var jy={dehydrated:null,treeContext:null,retryLane:0};function ky(t){return{baseLanes:t,cachePool:null,transitions:null}}function sI(t,e,n){var r=e.pendingProps,i=wn.current,a=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jt(wn,i&1),t===null)return Sy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=u1(o,r,0,null),t=Al(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ky(n),e.memoizedState=jy,t):Ib(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return EM(t,e,o,r,u,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,u=i.sibling;var f={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=mo(i,f),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=mo(u,a):(a=Al(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?ky(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=jy,r}return a=t.child,t=a.sibling,r=mo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ib(t,e){return e=u1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function b0(t,e,n,r){return r!==null&&mb(r),Zc(e,t.child,null,n),t=Ib(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EM(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=ix(Error(ke(422))),b0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=u1({mode:"visible",children:r.children},i,0,null),a=Al(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Zc(e,t.child,null,o),e.child.memoizedState=ky(o),e.memoizedState=jy,a);if(!(e.mode&1))return b0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,a=Error(ke(419)),r=ix(a,r,void 0),b0(t,e,o,r)}if(u=(o&t.childLanes)!==0,ri||u){if(r=ur,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_s(t,i),va(r,t,i,-1))}return Db(),r=ix(Error(ke(421))),b0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LM.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ci=uo(i.nextSibling),Ii=e,mn=!0,pa=null,t!==null&&(zi[qi++]=us,zi[qi++]=ds,zi[qi++]=Nl,us=t.id,ds=t.overflow,Nl=e),e=Ib(e,r.children),e.flags|=4096,e)}function j_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ty(t.return,e,n)}function ax(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function oI(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Br(t,e,r.children,n),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j_(t,n,e);else if(t.tag===19)j_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Jt(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ax(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ax(e,!0,n,null,a);break;case"together":ax(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ep(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=mo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SM(t,e,n){switch(e.tag){case 3:aI(e),Qc();break;case 5:k4(e);break;case 1:oi(e.type)&&wp(e);break;case 4:wb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Jt(Ep,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Jt(wn,wn.current&1),e.flags|=128,null):n&e.child.childLanes?sI(t,e,n):(Jt(wn,wn.current&1),t=Es(t,e,n),t!==null?t.sibling:null);Jt(wn,wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jt(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,rI(t,e,n)}return Es(t,e,n)}var lI,My,cI,uI;lI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};My=function(){};cI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pl(Ua.current);var a=null;switch(n){case"input":i=ny(t,i),r=ny(t,r),a=[];break;case"select":i=_n({},i,{value:void 0}),r=_n({},r,{value:void 0}),a=[];break;case"textarea":i=ay(t,i),r=ay(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vp)}oy(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(gf.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var f=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&f!==u&&(f!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in f)f.hasOwnProperty(o)&&u[o]!==f[o]&&(n||(n={}),n[o]=f[o])}else n||(a||(a=[]),a.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(a=a||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(gf.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&sn("scroll",t),a||u===f||(a=[])):(a=a||[]).push(h,f))}n&&(a=a||[]).push("style",n);var h=a;(e.updateQueue=h)&&(e.flags|=4)}};uI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ed(t,e){if(!mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TM(t,e,n){var r=e.pendingProps;switch(pb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return oi(e.type)&&bp(),Tr(e),null;case 3:return r=e.stateNode,Jc(),fn(si),fn(Mr),_b(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(y0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pa!==null&&(Uy(pa),pa=null))),My(t,e),Tr(e),null;case 5:Ab(e);var i=pl(Nf.current);if(n=e.type,t!==null&&e.stateNode!=null)cI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return Tr(e),null}if(t=pl(Ua.current),y0(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ba]=e,r[Tf]=a,t=(e.mode&1)!==0,n){case"dialog":sn("cancel",r),sn("close",r);break;case"iframe":case"object":case"embed":sn("load",r);break;case"video":case"audio":for(i=0;i<Vd.length;i++)sn(Vd[i],r);break;case"source":sn("error",r);break;case"img":case"image":case"link":sn("error",r),sn("load",r);break;case"details":sn("toggle",r);break;case"input":VA(r,a),sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},sn("invalid",r);break;case"textarea":zA(r,a),sn("invalid",r)}oy(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="children"?typeof u=="string"?r.textContent!==u&&(a.suppressHydrationWarning!==!0&&x0(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&x0(r.textContent,u,t),i=["children",""+u]):gf.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&sn("scroll",r)}switch(n){case"input":c0(r),UA(r,a,!0);break;case"textarea":c0(r),qA(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ba]=e,t[Tf]=r,lI(t,e,!1,!1),e.stateNode=t;e:{switch(o=ly(n,r),n){case"dialog":sn("cancel",t),sn("close",t),i=r;break;case"iframe":case"object":case"embed":sn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vd.length;i++)sn(Vd[i],t);i=r;break;case"source":sn("error",t),i=r;break;case"img":case"image":case"link":sn("error",t),sn("load",t),i=r;break;case"details":sn("toggle",t),i=r;break;case"input":VA(t,r),i=ny(t,r),sn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_n({},r,{value:void 0}),sn("invalid",t);break;case"textarea":zA(t,r),i=ay(t,r),sn("invalid",t);break;default:i=r}oy(n,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var f=u[a];a==="style"?VN(t,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&FN(t,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&xf(t,f):typeof f=="number"&&xf(t,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gf.hasOwnProperty(a)?f!=null&&a==="onScroll"&&sn("scroll",t):f!=null&&J2(t,a,f,o))}switch(n){case"input":c0(t),UA(t,r,!1);break;case"textarea":c0(t),qA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Lc(t,!!r.multiple,a,!1):r.defaultValue!=null&&Lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)uI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=pl(Nf.current),pl(Ua.current),y0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ba]=e,(a=r.nodeValue!==n)&&(t=Ii,t!==null))switch(t.tag){case 3:x0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&x0(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ba]=e,e.stateNode=r}return Tr(e),null;case 13:if(fn(wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&Ci!==null&&e.mode&1&&!(e.flags&128))N4(),Qc(),e.flags|=98560,a=!1;else if(a=y0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ke(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ke(317));a[Ba]=e}else Qc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),a=!1}else pa!==null&&(Uy(pa),pa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wn.current&1?Zn===0&&(Zn=3):Db())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return Jc(),My(t,e),t===null&&Ef(e.stateNode.containerInfo),Tr(e),null;case 10:return yb(e.type._context),Tr(e),null;case 17:return oi(e.type)&&bp(),Tr(e),null;case 19:if(fn(wn),a=e.memoizedState,a===null)return Tr(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Ed(a,!1);else{if(Zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cp(t),o!==null){for(e.flags|=128,Ed(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jt(wn,wn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Mn()>tu&&(e.flags|=128,r=!0,Ed(a,!1),e.lanes=4194304)}else{if(!r)if(t=Cp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ed(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!mn)return Tr(e),null}else 2*Mn()-a.renderingStartTime>tu&&n!==1073741824&&(e.flags|=128,r=!0,Ed(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mn(),e.sibling=null,n=wn.current,Jt(wn,r?n&1|2:n&1),e):(Tr(e),null);case 22:case 23:return Mb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ai&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function CM(t,e){switch(pb(e),e.tag){case 1:return oi(e.type)&&bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jc(),fn(si),fn(Mr),_b(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ab(e),null;case 13:if(fn(wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Qc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fn(wn),null;case 4:return Jc(),null;case 10:return yb(e.type._context),null;case 22:case 23:return Mb(),null;case 24:return null;default:return null}}var w0=!1,Or=!1,NM=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Tc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function Dy(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var k_=!1;function IM(t,e){if(yy=gp,t=m4(),fb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,u=-1,f=-1,h=0,x=0,y=t,w=null;t:for(;;){for(var _;y!==n||i!==0&&y.nodeType!==3||(u=o+i),y!==a||r!==0&&y.nodeType!==3||(f=o+r),y.nodeType===3&&(o+=y.nodeValue.length),(_=y.firstChild)!==null;)w=y,y=_;for(;;){if(y===t)break t;if(w===n&&++h===i&&(u=o),w===a&&++x===r&&(f=o),(_=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=_}n=u===-1||f===-1?null:{start:u,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(vy={focusedElem:t,selectionRange:n},gp=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var N=I.memoizedProps,M=I.memoizedState,P=e.stateNode,S=P.getSnapshotBeforeUpdate(e.elementType===e.type?N:ua(e.type,N),M);P.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(V){Nn(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}return I=k_,k_=!1,I}function ef(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Dy(e,n,a)}i=i.next}while(i!==r)}}function l1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ry(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dI(t){var e=t.alternate;e!==null&&(t.alternate=null,dI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ba],delete e[Tf],delete e[Ay],delete e[dM],delete e[fM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fI(t){return t.tag===5||t.tag===3||t.tag===4}function M_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vp));else if(r!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}function By(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(By(t,e,n),t=t.sibling;t!==null;)By(t,e,n),t=t.sibling}var gr=null,da=!1;function qs(t,e,n){for(n=n.child;n!==null;)hI(t,e,n),n=n.sibling}function hI(t,e,n){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(e1,n)}catch{}switch(n.tag){case 5:Or||Tc(n,e);case 6:var r=gr,i=da;gr=null,qs(t,e,n),gr=r,da=i,gr!==null&&(da?(t=gr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gr.removeChild(n.stateNode));break;case 18:gr!==null&&(da?(t=gr,n=n.stateNode,t.nodeType===8?Zg(t.parentNode,n):t.nodeType===1&&Zg(t,n),wf(t)):Zg(gr,n.stateNode));break;case 4:r=gr,i=da,gr=n.stateNode.containerInfo,da=!0,qs(t,e,n),gr=r,da=i;break;case 0:case 11:case 14:case 15:if(!Or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Dy(n,e,o),i=i.next}while(i!==r)}qs(t,e,n);break;case 1:if(!Or&&(Tc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Nn(n,e,u)}qs(t,e,n);break;case 21:qs(t,e,n);break;case 22:n.mode&1?(Or=(r=Or)||n.memoizedState!==null,qs(t,e,n),Or=r):qs(t,e,n);break;default:qs(t,e,n)}}function D_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NM),e.forEach(function(r){var i=BM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function la(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:gr=u.stateNode,da=!1;break e;case 3:gr=u.stateNode.containerInfo,da=!0;break e;case 4:gr=u.stateNode.containerInfo,da=!0;break e}u=u.return}if(gr===null)throw Error(ke(160));hI(a,o,i),gr=null,da=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(h){Nn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pI(e,t),e=e.sibling}function pI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(la(e,t),Ma(t),r&4){try{ef(3,t,t.return),l1(3,t)}catch(N){Nn(t,t.return,N)}try{ef(5,t,t.return)}catch(N){Nn(t,t.return,N)}}break;case 1:la(e,t),Ma(t),r&512&&n!==null&&Tc(n,n.return);break;case 5:if(la(e,t),Ma(t),r&512&&n!==null&&Tc(n,n.return),t.flags&32){var i=t.stateNode;try{xf(i,"")}catch(N){Nn(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,u=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&RN(i,a),ly(u,o);var h=ly(u,a);for(o=0;o<f.length;o+=2){var x=f[o],y=f[o+1];x==="style"?VN(i,y):x==="dangerouslySetInnerHTML"?FN(i,y):x==="children"?xf(i,y):J2(i,x,y,h)}switch(u){case"input":ry(i,a);break;case"textarea":LN(i,a);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?Lc(i,!!a.multiple,_,!1):w!==!!a.multiple&&(a.defaultValue!=null?Lc(i,!!a.multiple,a.defaultValue,!0):Lc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Tf]=a}catch(N){Nn(t,t.return,N)}}break;case 6:if(la(e,t),Ma(t),r&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){Nn(t,t.return,N)}}break;case 3:if(la(e,t),Ma(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wf(e.containerInfo)}catch(N){Nn(t,t.return,N)}break;case 4:la(e,t),Ma(t);break;case 13:la(e,t),Ma(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(jb=Mn())),r&4&&D_(t);break;case 22:if(x=n!==null&&n.memoizedState!==null,t.mode&1?(Or=(h=Or)||x,la(e,t),Or=h):la(e,t),Ma(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!x&&t.mode&1)for(Ge=t,x=t.child;x!==null;){for(y=Ge=x;Ge!==null;){switch(w=Ge,_=w.child,w.tag){case 0:case 11:case 14:case 15:ef(4,w,w.return);break;case 1:Tc(w,w.return);var I=w.stateNode;if(typeof I.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(N){Nn(r,n,N)}}break;case 5:Tc(w,w.return);break;case 22:if(w.memoizedState!==null){L_(y);continue}}_!==null?(_.return=w,Ge=_):L_(y)}x=x.sibling}e:for(x=null,y=t;;){if(y.tag===5){if(x===null){x=y;try{i=y.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=y.stateNode,f=y.memoizedProps.style,o=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=$N("display",o))}catch(N){Nn(t,t.return,N)}}}else if(y.tag===6){if(x===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(N){Nn(t,t.return,N)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;x===y&&(x=null),y=y.return}x===y&&(x=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:la(e,t),Ma(t),r&4&&D_(t);break;case 21:break;default:la(e,t),Ma(t)}}function Ma(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fI(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xf(i,""),r.flags&=-33);var a=M_(t);By(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=M_(t);Ly(t,u,o);break;default:throw Error(ke(161))}}catch(f){Nn(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OM(t,e,n){Ge=t,mI(t)}function mI(t,e,n){for(var r=(t.mode&1)!==0;Ge!==null;){var i=Ge,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||w0;if(!o){var u=i.alternate,f=u!==null&&u.memoizedState!==null||Or;u=w0;var h=Or;if(w0=o,(Or=f)&&!h)for(Ge=i;Ge!==null;)o=Ge,f=o.child,o.tag===22&&o.memoizedState!==null?B_(i):f!==null?(f.return=o,Ge=f):B_(i);for(;a!==null;)Ge=a,mI(a),a=a.sibling;Ge=i,w0=u,Or=h}R_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ge=a):R_(t)}}function R_(t){for(;Ge!==null;){var e=Ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||l1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Or)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ua(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&b_(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b_(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var x=h.memoizedState;if(x!==null){var y=x.dehydrated;y!==null&&wf(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Or||e.flags&512&&Ry(e)}catch(w){Nn(e,e.return,w)}}if(e===t){Ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function L_(t){for(;Ge!==null;){var e=Ge;if(e===t){Ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ge=n;break}Ge=e.return}}function B_(t){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{l1(4,e)}catch(f){Nn(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){Nn(e,i,f)}}var a=e.return;try{Ry(e)}catch(f){Nn(e,a,f)}break;case 5:var o=e.return;try{Ry(e)}catch(f){Nn(e,o,f)}}}catch(f){Nn(e,e.return,f)}if(e===t){Ge=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Ge=u;break}Ge=e.return}}var PM=Math.ceil,Op=js.ReactCurrentDispatcher,Ob=js.ReactCurrentOwner,Xi=js.ReactCurrentBatchConfig,It=0,ur=null,Fn=null,vr=0,Ai=0,Cc=Po(0),Zn=0,jf=null,Ol=0,c1=0,Pb=0,tf=null,ei=null,jb=0,tu=1/0,os=null,Pp=!1,Fy=null,ho=null,A0=!1,eo=null,jp=0,nf=0,$y=null,tp=-1,np=0;function Ur(){return It&6?Mn():tp!==-1?tp:tp=Mn()}function po(t){return t.mode&1?It&2&&vr!==0?vr&-vr:pM.transition!==null?(np===0&&(np=JN()),np):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:s4(t.type)),t):1}function va(t,e,n,r){if(50<nf)throw nf=0,$y=null,Error(ke(185));Th(t,n,r),(!(It&2)||t!==ur)&&(t===ur&&(!(It&2)&&(c1|=n),Zn===4&&Qs(t,vr)),li(t,r),n===1&&It===0&&!(e.mode&1)&&(tu=Mn()+500,a1&&jo()))}function li(t,e){var n=t.callbackNode;pk(t,e);var r=mp(t,t===ur?vr:0);if(r===0)n!==null&&GA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&GA(n),e===1)t.tag===0?hM(F_.bind(null,t)):S4(F_.bind(null,t)),cM(function(){!(It&6)&&jo()}),n=null;else{switch(e4(r)){case 1:n=ib;break;case 4:n=QN;break;case 16:n=pp;break;case 536870912:n=ZN;break;default:n=pp}n=_I(n,gI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gI(t,e){if(tp=-1,np=0,It&6)throw Error(ke(327));var n=t.callbackNode;if(Uc()&&t.callbackNode!==n)return null;var r=mp(t,t===ur?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kp(t,r);else{e=r;var i=It;It|=2;var a=yI();(ur!==t||vr!==e)&&(os=null,tu=Mn()+500,wl(t,e));do try{MM();break}catch(u){xI(t,u)}while(!0);xb(),Op.current=a,It=i,Fn!==null?e=0:(ur=null,vr=0,e=Zn)}if(e!==0){if(e===2&&(i=hy(t),i!==0&&(r=i,e=Vy(t,i))),e===1)throw n=jf,wl(t,0),Qs(t,r),li(t,Mn()),n;if(e===6)Qs(t,r);else{if(i=t.current.alternate,!(r&30)&&!jM(i)&&(e=kp(t,r),e===2&&(a=hy(t),a!==0&&(r=a,e=Vy(t,a))),e===1))throw n=jf,wl(t,0),Qs(t,r),li(t,Mn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:il(t,ei,os);break;case 3:if(Qs(t,r),(r&130023424)===r&&(e=jb+500-Mn(),10<e)){if(mp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wy(il.bind(null,t,ei,os),e);break}il(t,ei,os);break;case 4:if(Qs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ya(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PM(r/1960))-r,10<r){t.timeoutHandle=wy(il.bind(null,t,ei,os),r);break}il(t,ei,os);break;case 5:il(t,ei,os);break;default:throw Error(ke(329))}}}return li(t,Mn()),t.callbackNode===n?gI.bind(null,t):null}function Vy(t,e){var n=tf;return t.current.memoizedState.isDehydrated&&(wl(t,e).flags|=256),t=kp(t,e),t!==2&&(e=ei,ei=n,e!==null&&Uy(e)),t}function Uy(t){ei===null?ei=t:ei.push.apply(ei,t)}function jM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!wa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qs(t,e){for(e&=~Pb,e&=~c1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ya(e),r=1<<n;t[n]=-1,e&=~r}}function F_(t){if(It&6)throw Error(ke(327));Uc();var e=mp(t,0);if(!(e&1))return li(t,Mn()),null;var n=kp(t,e);if(t.tag!==0&&n===2){var r=hy(t);r!==0&&(e=r,n=Vy(t,r))}if(n===1)throw n=jf,wl(t,0),Qs(t,e),li(t,Mn()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,il(t,ei,os),li(t,Mn()),null}function kb(t,e){var n=It;It|=1;try{return t(e)}finally{It=n,It===0&&(tu=Mn()+500,a1&&jo())}}function Pl(t){eo!==null&&eo.tag===0&&!(It&6)&&Uc();var e=It;It|=1;var n=Xi.transition,r=Vt;try{if(Xi.transition=null,Vt=1,t)return t()}finally{Vt=r,Xi.transition=n,It=e,!(It&6)&&jo()}}function Mb(){Ai=Cc.current,fn(Cc)}function wl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lM(n)),Fn!==null)for(n=Fn.return;n!==null;){var r=n;switch(pb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bp();break;case 3:Jc(),fn(si),fn(Mr),_b();break;case 5:Ab(r);break;case 4:Jc();break;case 13:fn(wn);break;case 19:fn(wn);break;case 10:yb(r.type._context);break;case 22:case 23:Mb()}n=n.return}if(ur=t,Fn=t=mo(t.current,null),vr=Ai=e,Zn=0,jf=null,Pb=c1=Ol=0,ei=tf=null,hl!==null){for(e=0;e<hl.length;e++)if(n=hl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}hl=null}return t}function xI(t,e){do{var n=Fn;try{if(xb(),Z0.current=Ip,Np){for(var r=An.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Np=!1}if(Il=0,lr=Xn=An=null,Jd=!1,If=0,Ob.current=null,n===null||n.return===null){Zn=1,jf=e,Fn=null;break}e:{var a=t,o=n.return,u=n,f=e;if(e=vr,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,x=u,y=x.tag;if(!(x.mode&1)&&(y===0||y===11||y===15)){var w=x.alternate;w?(x.updateQueue=w.updateQueue,x.memoizedState=w.memoizedState,x.lanes=w.lanes):(x.updateQueue=null,x.memoizedState=null)}var _=T_(o);if(_!==null){_.flags&=-257,C_(_,o,u,a,e),_.mode&1&&S_(a,h,e),e=_,f=h;var I=e.updateQueue;if(I===null){var N=new Set;N.add(f),e.updateQueue=N}else I.add(f);break e}else{if(!(e&1)){S_(a,h,e),Db();break e}f=Error(ke(426))}}else if(mn&&u.mode&1){var M=T_(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),C_(M,o,u,a,e),mb(eu(f,u));break e}}a=f=eu(f,u),Zn!==4&&(Zn=2),tf===null?tf=[a]:tf.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var P=eI(a,f,e);v_(a,P);break e;case 1:u=f;var S=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ho===null||!ho.has(C)))){a.flags|=65536,e&=-e,a.lanes|=e;var V=tI(a,u,e);v_(a,V);break e}}a=a.return}while(a!==null)}bI(n)}catch(k){e=k,Fn===n&&n!==null&&(Fn=n=n.return);continue}break}while(!0)}function yI(){var t=Op.current;return Op.current=Ip,t===null?Ip:t}function Db(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),ur===null||!(Ol&268435455)&&!(c1&268435455)||Qs(ur,vr)}function kp(t,e){var n=It;It|=2;var r=yI();(ur!==t||vr!==e)&&(os=null,wl(t,e));do try{kM();break}catch(i){xI(t,i)}while(!0);if(xb(),It=n,Op.current=r,Fn!==null)throw Error(ke(261));return ur=null,vr=0,Zn}function kM(){for(;Fn!==null;)vI(Fn)}function MM(){for(;Fn!==null&&!ak();)vI(Fn)}function vI(t){var e=AI(t.alternate,t,Ai);t.memoizedProps=t.pendingProps,e===null?bI(t):Fn=e,Ob.current=null}function bI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CM(n,e),n!==null){n.flags&=32767,Fn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zn=6,Fn=null;return}}else if(n=TM(n,e,Ai),n!==null){Fn=n;return}if(e=e.sibling,e!==null){Fn=e;return}Fn=e=t}while(e!==null);Zn===0&&(Zn=5)}function il(t,e,n){var r=Vt,i=Xi.transition;try{Xi.transition=null,Vt=1,DM(t,e,n,r)}finally{Xi.transition=i,Vt=r}return null}function DM(t,e,n,r){do Uc();while(eo!==null);if(It&6)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(mk(t,a),t===ur&&(Fn=ur=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||A0||(A0=!0,_I(pp,function(){return Uc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Xi.transition,Xi.transition=null;var o=Vt;Vt=1;var u=It;It|=4,Ob.current=null,IM(t,n),pI(n,t),tM(vy),gp=!!yy,vy=yy=null,t.current=n,OM(n),sk(),It=u,Vt=o,Xi.transition=a}else t.current=n;if(A0&&(A0=!1,eo=t,jp=i),a=t.pendingLanes,a===0&&(ho=null),ck(n.stateNode),li(t,Mn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pp)throw Pp=!1,t=Fy,Fy=null,t;return jp&1&&t.tag!==0&&Uc(),a=t.pendingLanes,a&1?t===$y?nf++:(nf=0,$y=t):nf=0,jo(),null}function Uc(){if(eo!==null){var t=e4(jp),e=Xi.transition,n=Vt;try{if(Xi.transition=null,Vt=16>t?16:t,eo===null)var r=!1;else{if(t=eo,eo=null,jp=0,It&6)throw Error(ke(331));var i=It;for(It|=4,Ge=t.current;Ge!==null;){var a=Ge,o=a.child;if(Ge.flags&16){var u=a.deletions;if(u!==null){for(var f=0;f<u.length;f++){var h=u[f];for(Ge=h;Ge!==null;){var x=Ge;switch(x.tag){case 0:case 11:case 15:ef(8,x,a)}var y=x.child;if(y!==null)y.return=x,Ge=y;else for(;Ge!==null;){x=Ge;var w=x.sibling,_=x.return;if(dI(x),x===h){Ge=null;break}if(w!==null){w.return=_,Ge=w;break}Ge=_}}}var I=a.alternate;if(I!==null){var N=I.child;if(N!==null){I.child=null;do{var M=N.sibling;N.sibling=null,N=M}while(N!==null)}}Ge=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ge=o;else e:for(;Ge!==null;){if(a=Ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ef(9,a,a.return)}var P=a.sibling;if(P!==null){P.return=a.return,Ge=P;break e}Ge=a.return}}var S=t.current;for(Ge=S;Ge!==null;){o=Ge;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Ge=C;else e:for(o=S;Ge!==null;){if(u=Ge,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:l1(9,u)}}catch(k){Nn(u,u.return,k)}if(u===o){Ge=null;break e}var V=u.sibling;if(V!==null){V.return=u.return,Ge=V;break e}Ge=u.return}}if(It=i,jo(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(e1,t)}catch{}r=!0}return r}finally{Vt=n,Xi.transition=e}}return!1}function $_(t,e,n){e=eu(n,e),e=eI(t,e,1),t=fo(t,e,1),e=Ur(),t!==null&&(Th(t,1,e),li(t,e))}function Nn(t,e,n){if(t.tag===3)$_(t,t,n);else for(;e!==null;){if(e.tag===3){$_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ho===null||!ho.has(r))){t=eu(n,t),t=tI(e,t,1),e=fo(e,t,1),t=Ur(),e!==null&&(Th(e,1,t),li(e,t));break}}e=e.return}}function RM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&n,ur===t&&(vr&n)===n&&(Zn===4||Zn===3&&(vr&130023424)===vr&&500>Mn()-jb?wl(t,0):Pb|=n),li(t,e)}function wI(t,e){e===0&&(t.mode&1?(e=f0,f0<<=1,!(f0&130023424)&&(f0=4194304)):e=1);var n=Ur();t=_s(t,e),t!==null&&(Th(t,e,n),li(t,n))}function LM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wI(t,n)}function BM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),wI(t,n)}var AI;AI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||si.current)ri=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ri=!1,SM(t,e,n);ri=!!(t.flags&131072)}else ri=!1,mn&&e.flags&1048576&&T4(e,_p,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ep(t,e),t=e.pendingProps;var i=Yc(e,Mr.current);Vc(e,n),i=Sb(null,e,r,t,i,n);var a=Tb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oi(r)?(a=!0,wp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bb(e),i.updater=o1,e.stateNode=i,i._reactInternals=e,Ny(e,r,t,n),e=Py(null,e,r,!0,a,n)):(e.tag=0,mn&&a&&hb(e),Br(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ep(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$M(r),t=ua(r,t),i){case 0:e=Oy(null,e,r,t,n);break e;case 1:e=O_(null,e,r,t,n);break e;case 11:e=N_(null,e,r,t,n);break e;case 14:e=I_(null,e,r,ua(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ua(r,i),Oy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ua(r,i),O_(t,e,r,i,n);case 3:e:{if(aI(e),t===null)throw Error(ke(387));r=e.pendingProps,a=e.memoizedState,i=a.element,j4(t,e),Tp(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=eu(Error(ke(423)),e),e=P_(t,e,r,n,i);break e}else if(r!==i){i=eu(Error(ke(424)),e),e=P_(t,e,r,n,i);break e}else for(Ci=uo(e.stateNode.containerInfo.firstChild),Ii=e,mn=!0,pa=null,n=O4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qc(),r===i){e=Es(t,e,n);break e}Br(t,e,r,n)}e=e.child}return e;case 5:return k4(e),t===null&&Sy(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,by(r,i)?o=null:a!==null&&by(r,a)&&(e.flags|=32),iI(t,e),Br(t,e,o,n),e.child;case 6:return t===null&&Sy(e),null;case 13:return sI(t,e,n);case 4:return wb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zc(e,null,r,n):Br(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ua(r,i),N_(t,e,r,i,n);case 7:return Br(t,e,e.pendingProps,n),e.child;case 8:return Br(t,e,e.pendingProps.children,n),e.child;case 12:return Br(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Jt(Ep,r._currentValue),r._currentValue=o,a!==null)if(wa(a.value,o)){if(a.children===i.children&&!si.current){e=Es(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var u=a.dependencies;if(u!==null){o=a.child;for(var f=u.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=gs(-1,n&-n),f.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var x=h.pending;x===null?f.next=f:(f.next=x.next,x.next=f),h.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Ty(a.return,n,e),u.lanes|=n;break}f=f.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ke(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ty(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Br(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vc(e,n),i=Qi(i),r=r(i),e.flags|=1,Br(t,e,r,n),e.child;case 14:return r=e.type,i=ua(r,e.pendingProps),i=ua(r.type,i),I_(t,e,r,i,n);case 15:return nI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ua(r,i),ep(t,e),e.tag=1,oi(r)?(t=!0,wp(e)):t=!1,Vc(e,n),J4(e,r,i),Ny(e,r,i,n),Py(null,e,r,!0,t,n);case 19:return oI(t,e,n);case 22:return rI(t,e,n)}throw Error(ke(156,e.tag))};function _I(t,e){return YN(t,e)}function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,e,n,r){return new FM(t,e,n,r)}function Rb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $M(t){if(typeof t=="function")return Rb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tb)return 11;if(t===nb)return 14}return 2}function mo(t,e){var n=t.alternate;return n===null?(n=Gi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rp(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")Rb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xc:return Al(n.children,i,a,e);case eb:o=8,i|=8;break;case Zx:return t=Gi(12,n,e,i|2),t.elementType=Zx,t.lanes=a,t;case Jx:return t=Gi(13,n,e,i),t.elementType=Jx,t.lanes=a,t;case ey:return t=Gi(19,n,e,i),t.elementType=ey,t.lanes=a,t;case kN:return u1(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PN:o=10;break e;case jN:o=9;break e;case tb:o=11;break e;case nb:o=14;break e;case Gs:o=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Gi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Al(t,e,n,r){return t=Gi(7,t,r,e),t.lanes=n,t}function u1(t,e,n,r){return t=Gi(22,t,r,e),t.elementType=kN,t.lanes=n,t.stateNode={isHidden:!1},t}function sx(t,e,n){return t=Gi(6,t,null,e),t.lanes=n,t}function ox(t,e,n){return e=Gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vg(0),this.expirationTimes=Vg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lb(t,e,n,r,i,a,o,u,f){return t=new VM(t,e,n,u,f),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Gi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bb(a),t}function UM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EI(t){if(!t)return Ao;t=t._reactInternals;e:{if(Hl(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(oi(n))return E4(t,n,e)}return e}function SI(t,e,n,r,i,a,o,u,f){return t=Lb(n,r,!0,t,i,a,o,u,f),t.context=EI(null),n=t.current,r=Ur(),i=po(n),a=gs(r,i),a.callback=e??null,fo(n,a,i),t.current.lanes=i,Th(t,i,r),li(t,r),t}function d1(t,e,n,r){var i=e.current,a=Ur(),o=po(i);return n=EI(n),e.context===null?e.context=n:e.pendingContext=n,e=gs(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fo(i,e,o),t!==null&&(va(t,i,o,a),Q0(t,i,o)),o}function Mp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bb(t,e){V_(t,e),(t=t.alternate)&&V_(t,e)}function zM(){return null}var TI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fb(t){this._internalRoot=t}f1.prototype.render=Fb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));d1(t,e,null,null)};f1.prototype.unmount=Fb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pl(function(){d1(null,t,null,null)}),e[As]=null}};function f1(t){this._internalRoot=t}f1.prototype.unstable_scheduleHydration=function(t){if(t){var e=r4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ys.length&&e!==0&&e<Ys[n].priority;n++);Ys.splice(n,0,t),n===0&&a4(t)}};function $b(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U_(){}function qM(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var h=Mp(o);a.call(h)}}var o=SI(e,r,t,0,null,!1,!1,"",U_);return t._reactRootContainer=o,t[As]=o.current,Ef(t.nodeType===8?t.parentNode:t),Pl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=Mp(f);u.call(h)}}var f=Lb(t,0,!1,null,null,!1,!1,"",U_);return t._reactRootContainer=f,t[As]=f.current,Ef(t.nodeType===8?t.parentNode:t),Pl(function(){d1(e,f,n,r)}),f}function p1(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var u=i;i=function(){var f=Mp(o);u.call(f)}}d1(e,o,t,i)}else o=qM(n,e,t,i,r);return Mp(o)}t4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$d(e.pendingLanes);n!==0&&(ab(e,n|1),li(e,Mn()),!(It&6)&&(tu=Mn()+500,jo()))}break;case 13:Pl(function(){var r=_s(t,1);if(r!==null){var i=Ur();va(r,t,1,i)}}),Bb(t,1)}};sb=function(t){if(t.tag===13){var e=_s(t,134217728);if(e!==null){var n=Ur();va(e,t,134217728,n)}Bb(t,134217728)}};n4=function(t){if(t.tag===13){var e=po(t),n=_s(t,e);if(n!==null){var r=Ur();va(n,t,e,r)}Bb(t,e)}};r4=function(){return Vt};i4=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};uy=function(t,e,n){switch(e){case"input":if(ry(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=i1(r);if(!i)throw Error(ke(90));DN(r),ry(r,i)}}}break;case"textarea":LN(t,n);break;case"select":e=n.value,e!=null&&Lc(t,!!n.multiple,e,!1)}};qN=kb;HN=Pl;var HM={usingClientEntryPoint:!1,Events:[Nh,wc,i1,UN,zN,kb]},Sd={findFiberByHostInstance:fl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WM={bundleType:Sd.bundleType,version:Sd.version,rendererPackageName:Sd.rendererPackageName,rendererConfig:Sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KN(t),t===null?null:t.stateNode},findFiberByHostInstance:Sd.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{e1=_0.inject(WM),Va=_0}catch{}}ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM;ki.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$b(e))throw Error(ke(200));return UM(t,e,null,n)};ki.createRoot=function(t,e){if(!$b(t))throw Error(ke(299));var n=!1,r="",i=TI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lb(t,1,!1,null,null,n,!1,r,i),t[As]=e.current,Ef(t.nodeType===8?t.parentNode:t),new Fb(e)};ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=KN(e),t=t===null?null:t.stateNode,t};ki.flushSync=function(t){return Pl(t)};ki.hydrate=function(t,e,n){if(!h1(e))throw Error(ke(200));return p1(null,t,e,!0,n)};ki.hydrateRoot=function(t,e,n){if(!$b(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=TI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SI(e,null,t,1,n??null,i,!1,a,o),t[As]=e.current,Ef(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new f1(e)};ki.render=function(t,e,n){if(!h1(e))throw Error(ke(200));return p1(null,t,e,!1,n)};ki.unmountComponentAtNode=function(t){if(!h1(t))throw Error(ke(40));return t._reactRootContainer?(Pl(function(){p1(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};ki.unstable_batchedUpdates=kb;ki.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!h1(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return p1(t,e,n,!1,r)};ki.version="18.3.1-next-f1338f8080-20240426";function CI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CI)}catch(t){console.error(t)}}CI(),CN.exports=ki;var GM=CN.exports,z_=GM;Yx.createRoot=z_.createRoot,Yx.hydrateRoot=z_.hydrateRoot;var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},II={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,x=a>>2,y=(a&3)<<4|u>>4;let w=(u&15)<<2|h>>6,_=h&63;f||(_=64,o||(w=64)),r.push(n[x],n[y],n[w],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||h==null||y==null)throw new XM;const w=a<<2|u>>4;if(r.push(w),h!==64){const _=u<<4&240|h>>2;if(r.push(_),y!==64){const I=h<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YM=function(t){const e=NI(t);return II.encodeByteArray(e,!0)},Dp=function(t){return YM(t).replace(/\./g,"")},QM=function(t){try{return II.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=()=>ZM().__FIREBASE_DEFAULTS__,eD=()=>{if(typeof process>"u"||typeof q_>"u")return;const t=q_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QM(t[1]);return e&&JSON.parse(e)},Vb=()=>{try{return JM()||eD()||tD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nD=t=>{var e,n;return(n=(e=Vb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rD=t=>{const e=nD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OI=()=>{var t;return(t=Vb())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dp(JSON.stringify(n)),Dp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oD(){var t;const e=(t=Vb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lD(){return!oD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cD(){try{return typeof indexedDB=="object"}catch{return!1}}function uD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="FirebaseError";class Uu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dD,Object.setPrototypeOf(this,Uu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PI.prototype.create)}}class PI{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?fD(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Uu(i,u,r)}}function fD(t,e){return t.replace(hD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hD=/\{\$([^}]+)}/g;function zy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(H_(a)&&H_(o)){if(!zy(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){return t&&t._delegate?t._delegate:t}class kf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mD(t){return t===al?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nt||(Nt={}));const yD={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},vD=Nt.INFO,bD={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jI{constructor(e){this.name=e,this._logLevel=vD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const AD=(t,e)=>e.some(n=>t instanceof n);let W_,G_;function _D(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ED(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kI=new WeakMap,qy=new WeakMap,MI=new WeakMap,lx=new WeakMap,Ub=new WeakMap;function SD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kI.set(n,t)}).catch(()=>{}),Ub.set(e,t),e}function TD(t){if(qy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});qy.set(t,e)}let Hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CD(t){Hy=t(Hy)}function ND(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cx(this),e,...n);return MI.set(r,e.sort?e.sort():[e]),go(r)}:ED().includes(t)?function(...e){return t.apply(cx(this),e),go(kI.get(this))}:function(...e){return go(t.apply(cx(this),e))}}function ID(t){return typeof t=="function"?ND(t):(t instanceof IDBTransaction&&TD(t),AD(t,_D())?new Proxy(t,Hy):t)}function go(t){if(t instanceof IDBRequest)return SD(t);if(lx.has(t))return lx.get(t);const e=ID(t);return e!==t&&(lx.set(t,e),Ub.set(e,t)),e}const cx=t=>Ub.get(t);function OD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=go(o);return r&&o.addEventListener("upgradeneeded",f=>{r(go(o.result),f.oldVersion,f.newVersion,go(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const PD=["get","getKey","getAll","getAllKeys","count"],jD=["put","add","delete","clear"],ux=new Map;function K_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ux.get(e))return ux.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PD.includes(n)))return;const a=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return ux.set(e,a),a}CD(t=>({...t,get:(e,n,r)=>K_(e,n)||t.get(e,n,r),has:(e,n)=>!!K_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wy="@firebase/app",X_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new jI("@firebase/app"),DD="@firebase/app-compat",RD="@firebase/analytics-compat",LD="@firebase/analytics",BD="@firebase/app-check-compat",FD="@firebase/app-check",$D="@firebase/auth",VD="@firebase/auth-compat",UD="@firebase/database",zD="@firebase/data-connect",qD="@firebase/database-compat",HD="@firebase/functions",WD="@firebase/functions-compat",GD="@firebase/installations",KD="@firebase/installations-compat",XD="@firebase/messaging",YD="@firebase/messaging-compat",QD="@firebase/performance",ZD="@firebase/performance-compat",JD="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",rR="@firebase/firestore",iR="@firebase/vertexai-preview",aR="@firebase/firestore-compat",sR="firebase",oR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",lR={[Wy]:"fire-core",[DD]:"fire-core-compat",[LD]:"fire-analytics",[RD]:"fire-analytics-compat",[FD]:"fire-app-check",[BD]:"fire-app-check-compat",[$D]:"fire-auth",[VD]:"fire-auth-compat",[UD]:"fire-rtdb",[zD]:"fire-data-connect",[qD]:"fire-rtdb-compat",[HD]:"fire-fn",[WD]:"fire-fn-compat",[GD]:"fire-iid",[KD]:"fire-iid-compat",[XD]:"fire-fcm",[YD]:"fire-fcm-compat",[QD]:"fire-perf",[ZD]:"fire-perf-compat",[JD]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[rR]:"fire-fst",[aR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,cR=new Map,Ky=new Map;function Y_(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lp(t){const e=t.name;if(Ky.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,t);for(const n of Rp.values())Y_(n,t);for(const n of cR.values())Y_(n,t);return!0}function uR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new PI("app","Firebase",dR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=oR;function DI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xo.create("bad-app-name",{appName:String(i)});if(n||(n=OI()),!n)throw xo.create("no-options");const a=Rp.get(i);if(a){if(zy(n,a.options)&&zy(r,a.config))return a;throw xo.create("duplicate-app",{appName:i})}const o=new xD(i);for(const f of Ky.values())o.addComponent(f);const u=new fR(n,r,o);return Rp.set(i,u),u}function pR(t=Gy){const e=Rp.get(t);if(!e&&t===Gy&&OI())return DI();if(!e)throw xo.create("no-app",{appName:t});return e}function zc(t,e,n){var r;let i=(r=lR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(u.join(" "));return}Lp(new kf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",gR=1,Mf="firebase-heartbeat-store";let dx=null;function RI(){return dx||(dx=OD(mR,gR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mf)}catch(n){console.warn(n)}}}}).catch(t=>{throw xo.create("idb-open",{originalErrorMessage:t.message})})),dx}async function xR(t){try{const n=(await RI()).transaction(Mf),r=await n.objectStore(Mf).get(LI(t));return await n.done,r}catch(e){if(e instanceof Uu)Ss.warn(e.message);else{const n=xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function Q_(t,e){try{const r=(await RI()).transaction(Mf,"readwrite");await r.objectStore(Mf).put(e,LI(t)),await r.done}catch(n){if(n instanceof Uu)Ss.warn(n.message);else{const r=xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function LI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,vR=30*24*60*60*1e3;class bR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=vR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:r,unsentEntries:i}=wR(this._heartbeatsCache.heartbeats),a=Dp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ss.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function wR(t,e=yR){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),J_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cD()?uD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J_(t){return Dp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){Lp(new kf("platform-logger",e=>new kD(e),"PRIVATE")),Lp(new kf("heartbeat",e=>new bR(e),"PRIVATE")),zc(Wy,X_,t),zc(Wy,X_,"esm2017"),zc("fire-js","")}_R("");var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _l,BI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,D){function L(){}L.prototype=D.prototype,j.D=D.prototype,j.prototype=new L,j.prototype.constructor=j,j.C=function(E,O,$){for(var F=Array(arguments.length-2),H=2;H<arguments.length;H++)F[H-2]=arguments[H];return D.prototype[O].apply(E,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,D,L){L||(L=0);var E=Array(16);if(typeof D=="string")for(var O=0;16>O;++O)E[O]=D.charCodeAt(L++)|D.charCodeAt(L++)<<8|D.charCodeAt(L++)<<16|D.charCodeAt(L++)<<24;else for(O=0;16>O;++O)E[O]=D[L++]|D[L++]<<8|D[L++]<<16|D[L++]<<24;D=j.g[0],L=j.g[1],O=j.g[2];var $=j.g[3],F=D+($^L&(O^$))+E[0]+3614090360&4294967295;D=L+(F<<7&4294967295|F>>>25),F=$+(O^D&(L^O))+E[1]+3905402710&4294967295,$=D+(F<<12&4294967295|F>>>20),F=O+(L^$&(D^L))+E[2]+606105819&4294967295,O=$+(F<<17&4294967295|F>>>15),F=L+(D^O&($^D))+E[3]+3250441966&4294967295,L=O+(F<<22&4294967295|F>>>10),F=D+($^L&(O^$))+E[4]+4118548399&4294967295,D=L+(F<<7&4294967295|F>>>25),F=$+(O^D&(L^O))+E[5]+1200080426&4294967295,$=D+(F<<12&4294967295|F>>>20),F=O+(L^$&(D^L))+E[6]+2821735955&4294967295,O=$+(F<<17&4294967295|F>>>15),F=L+(D^O&($^D))+E[7]+4249261313&4294967295,L=O+(F<<22&4294967295|F>>>10),F=D+($^L&(O^$))+E[8]+1770035416&4294967295,D=L+(F<<7&4294967295|F>>>25),F=$+(O^D&(L^O))+E[9]+2336552879&4294967295,$=D+(F<<12&4294967295|F>>>20),F=O+(L^$&(D^L))+E[10]+4294925233&4294967295,O=$+(F<<17&4294967295|F>>>15),F=L+(D^O&($^D))+E[11]+2304563134&4294967295,L=O+(F<<22&4294967295|F>>>10),F=D+($^L&(O^$))+E[12]+1804603682&4294967295,D=L+(F<<7&4294967295|F>>>25),F=$+(O^D&(L^O))+E[13]+4254626195&4294967295,$=D+(F<<12&4294967295|F>>>20),F=O+(L^$&(D^L))+E[14]+2792965006&4294967295,O=$+(F<<17&4294967295|F>>>15),F=L+(D^O&($^D))+E[15]+1236535329&4294967295,L=O+(F<<22&4294967295|F>>>10),F=D+(O^$&(L^O))+E[1]+4129170786&4294967295,D=L+(F<<5&4294967295|F>>>27),F=$+(L^O&(D^L))+E[6]+3225465664&4294967295,$=D+(F<<9&4294967295|F>>>23),F=O+(D^L&($^D))+E[11]+643717713&4294967295,O=$+(F<<14&4294967295|F>>>18),F=L+($^D&(O^$))+E[0]+3921069994&4294967295,L=O+(F<<20&4294967295|F>>>12),F=D+(O^$&(L^O))+E[5]+3593408605&4294967295,D=L+(F<<5&4294967295|F>>>27),F=$+(L^O&(D^L))+E[10]+38016083&4294967295,$=D+(F<<9&4294967295|F>>>23),F=O+(D^L&($^D))+E[15]+3634488961&4294967295,O=$+(F<<14&4294967295|F>>>18),F=L+($^D&(O^$))+E[4]+3889429448&4294967295,L=O+(F<<20&4294967295|F>>>12),F=D+(O^$&(L^O))+E[9]+568446438&4294967295,D=L+(F<<5&4294967295|F>>>27),F=$+(L^O&(D^L))+E[14]+3275163606&4294967295,$=D+(F<<9&4294967295|F>>>23),F=O+(D^L&($^D))+E[3]+4107603335&4294967295,O=$+(F<<14&4294967295|F>>>18),F=L+($^D&(O^$))+E[8]+1163531501&4294967295,L=O+(F<<20&4294967295|F>>>12),F=D+(O^$&(L^O))+E[13]+2850285829&4294967295,D=L+(F<<5&4294967295|F>>>27),F=$+(L^O&(D^L))+E[2]+4243563512&4294967295,$=D+(F<<9&4294967295|F>>>23),F=O+(D^L&($^D))+E[7]+1735328473&4294967295,O=$+(F<<14&4294967295|F>>>18),F=L+($^D&(O^$))+E[12]+2368359562&4294967295,L=O+(F<<20&4294967295|F>>>12),F=D+(L^O^$)+E[5]+4294588738&4294967295,D=L+(F<<4&4294967295|F>>>28),F=$+(D^L^O)+E[8]+2272392833&4294967295,$=D+(F<<11&4294967295|F>>>21),F=O+($^D^L)+E[11]+1839030562&4294967295,O=$+(F<<16&4294967295|F>>>16),F=L+(O^$^D)+E[14]+4259657740&4294967295,L=O+(F<<23&4294967295|F>>>9),F=D+(L^O^$)+E[1]+2763975236&4294967295,D=L+(F<<4&4294967295|F>>>28),F=$+(D^L^O)+E[4]+1272893353&4294967295,$=D+(F<<11&4294967295|F>>>21),F=O+($^D^L)+E[7]+4139469664&4294967295,O=$+(F<<16&4294967295|F>>>16),F=L+(O^$^D)+E[10]+3200236656&4294967295,L=O+(F<<23&4294967295|F>>>9),F=D+(L^O^$)+E[13]+681279174&4294967295,D=L+(F<<4&4294967295|F>>>28),F=$+(D^L^O)+E[0]+3936430074&4294967295,$=D+(F<<11&4294967295|F>>>21),F=O+($^D^L)+E[3]+3572445317&4294967295,O=$+(F<<16&4294967295|F>>>16),F=L+(O^$^D)+E[6]+76029189&4294967295,L=O+(F<<23&4294967295|F>>>9),F=D+(L^O^$)+E[9]+3654602809&4294967295,D=L+(F<<4&4294967295|F>>>28),F=$+(D^L^O)+E[12]+3873151461&4294967295,$=D+(F<<11&4294967295|F>>>21),F=O+($^D^L)+E[15]+530742520&4294967295,O=$+(F<<16&4294967295|F>>>16),F=L+(O^$^D)+E[2]+3299628645&4294967295,L=O+(F<<23&4294967295|F>>>9),F=D+(O^(L|~$))+E[0]+4096336452&4294967295,D=L+(F<<6&4294967295|F>>>26),F=$+(L^(D|~O))+E[7]+1126891415&4294967295,$=D+(F<<10&4294967295|F>>>22),F=O+(D^($|~L))+E[14]+2878612391&4294967295,O=$+(F<<15&4294967295|F>>>17),F=L+($^(O|~D))+E[5]+4237533241&4294967295,L=O+(F<<21&4294967295|F>>>11),F=D+(O^(L|~$))+E[12]+1700485571&4294967295,D=L+(F<<6&4294967295|F>>>26),F=$+(L^(D|~O))+E[3]+2399980690&4294967295,$=D+(F<<10&4294967295|F>>>22),F=O+(D^($|~L))+E[10]+4293915773&4294967295,O=$+(F<<15&4294967295|F>>>17),F=L+($^(O|~D))+E[1]+2240044497&4294967295,L=O+(F<<21&4294967295|F>>>11),F=D+(O^(L|~$))+E[8]+1873313359&4294967295,D=L+(F<<6&4294967295|F>>>26),F=$+(L^(D|~O))+E[15]+4264355552&4294967295,$=D+(F<<10&4294967295|F>>>22),F=O+(D^($|~L))+E[6]+2734768916&4294967295,O=$+(F<<15&4294967295|F>>>17),F=L+($^(O|~D))+E[13]+1309151649&4294967295,L=O+(F<<21&4294967295|F>>>11),F=D+(O^(L|~$))+E[4]+4149444226&4294967295,D=L+(F<<6&4294967295|F>>>26),F=$+(L^(D|~O))+E[11]+3174756917&4294967295,$=D+(F<<10&4294967295|F>>>22),F=O+(D^($|~L))+E[2]+718787259&4294967295,O=$+(F<<15&4294967295|F>>>17),F=L+($^(O|~D))+E[9]+3951481745&4294967295,j.g[0]=j.g[0]+D&4294967295,j.g[1]=j.g[1]+(O+(F<<21&4294967295|F>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+$&4294967295}r.prototype.u=function(j,D){D===void 0&&(D=j.length);for(var L=D-this.blockSize,E=this.B,O=this.h,$=0;$<D;){if(O==0)for(;$<=L;)i(this,j,$),$+=this.blockSize;if(typeof j=="string"){for(;$<D;)if(E[O++]=j.charCodeAt($++),O==this.blockSize){i(this,E),O=0;break}}else for(;$<D;)if(E[O++]=j[$++],O==this.blockSize){i(this,E),O=0;break}}this.h=O,this.o+=D},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var D=1;D<j.length-8;++D)j[D]=0;var L=8*this.o;for(D=j.length-8;D<j.length;++D)j[D]=L&255,L/=256;for(this.u(j),j=Array(16),D=L=0;4>D;++D)for(var E=0;32>E;E+=8)j[L++]=this.g[D]>>>E&255;return j};function a(j,D){var L=u;return Object.prototype.hasOwnProperty.call(L,j)?L[j]:L[j]=D(j)}function o(j,D){this.h=D;for(var L=[],E=!0,O=j.length-1;0<=O;O--){var $=j[O]|0;E&&$==D||(L[O]=$,E=!1)}this.g=L}var u={};function f(j){return-128<=j&&128>j?a(j,function(D){return new o([D|0],0>D?-1:0)}):new o([j|0],0>j?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return y;if(0>j)return M(h(-j));for(var D=[],L=1,E=0;j>=L;E++)D[E]=j/L|0,L*=4294967296;return new o(D,0)}function x(j,D){if(j.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(j.charAt(0)=="-")return M(x(j.substring(1),D));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(D,8)),E=y,O=0;O<j.length;O+=8){var $=Math.min(8,j.length-O),F=parseInt(j.substring(O,O+$),D);8>$?($=h(Math.pow(D,$)),E=E.j($).add(h(F))):(E=E.j(L),E=E.add(h(F)))}return E}var y=f(0),w=f(1),_=f(16777216);t=o.prototype,t.m=function(){if(N(this))return-M(this).m();for(var j=0,D=1,L=0;L<this.g.length;L++){var E=this.i(L);j+=(0<=E?E:4294967296+E)*D,D*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(I(this))return"0";if(N(this))return"-"+M(this).toString(j);for(var D=h(Math.pow(j,6)),L=this,E="";;){var O=V(L,D).g;L=P(L,O.j(D));var $=((0<L.g.length?L.g[0]:L.h)>>>0).toString(j);if(L=O,I(L))return $+E;for(;6>$.length;)$="0"+$;E=$+E}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function I(j){if(j.h!=0)return!1;for(var D=0;D<j.g.length;D++)if(j.g[D]!=0)return!1;return!0}function N(j){return j.h==-1}t.l=function(j){return j=P(this,j),N(j)?-1:I(j)?0:1};function M(j){for(var D=j.g.length,L=[],E=0;E<D;E++)L[E]=~j.g[E];return new o(L,~j.h).add(w)}t.abs=function(){return N(this)?M(this):this},t.add=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],E=0,O=0;O<=D;O++){var $=E+(this.i(O)&65535)+(j.i(O)&65535),F=($>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);E=F>>>16,$&=65535,F&=65535,L[O]=F<<16|$}return new o(L,L[L.length-1]&-2147483648?-1:0)};function P(j,D){return j.add(M(D))}t.j=function(j){if(I(this)||I(j))return y;if(N(this))return N(j)?M(this).j(M(j)):M(M(this).j(j));if(N(j))return M(this.j(M(j)));if(0>this.l(_)&&0>j.l(_))return h(this.m()*j.m());for(var D=this.g.length+j.g.length,L=[],E=0;E<2*D;E++)L[E]=0;for(E=0;E<this.g.length;E++)for(var O=0;O<j.g.length;O++){var $=this.i(E)>>>16,F=this.i(E)&65535,H=j.i(O)>>>16,z=j.i(O)&65535;L[2*E+2*O]+=F*z,S(L,2*E+2*O),L[2*E+2*O+1]+=$*z,S(L,2*E+2*O+1),L[2*E+2*O+1]+=F*H,S(L,2*E+2*O+1),L[2*E+2*O+2]+=$*H,S(L,2*E+2*O+2)}for(E=0;E<D;E++)L[E]=L[2*E+1]<<16|L[2*E];for(E=D;E<2*D;E++)L[E]=0;return new o(L,0)};function S(j,D){for(;(j[D]&65535)!=j[D];)j[D+1]+=j[D]>>>16,j[D]&=65535,D++}function C(j,D){this.g=j,this.h=D}function V(j,D){if(I(D))throw Error("division by zero");if(I(j))return new C(y,y);if(N(j))return D=V(M(j),D),new C(M(D.g),M(D.h));if(N(D))return D=V(j,M(D)),new C(M(D.g),D.h);if(30<j.g.length){if(N(j)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var L=w,E=D;0>=E.l(j);)L=k(L),E=k(E);var O=R(L,1),$=R(E,1);for(E=R(E,2),L=R(L,2);!I(E);){var F=$.add(E);0>=F.l(j)&&(O=O.add(L),$=F),E=R(E,1),L=R(L,1)}return D=P(j,O.j(D)),new C(O,D)}for(O=y;0<=j.l(D);){for(L=Math.max(1,Math.floor(j.m()/D.m())),E=Math.ceil(Math.log(L)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),$=h(L),F=$.j(D);N(F)||0<F.l(j);)L-=E,$=h(L),F=$.j(D);I($)&&($=w),O=O.add($),j=P(j,F)}return new C(O,j)}t.A=function(j){return V(this,j).h},t.and=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],E=0;E<D;E++)L[E]=this.i(E)&j.i(E);return new o(L,this.h&j.h)},t.or=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],E=0;E<D;E++)L[E]=this.i(E)|j.i(E);return new o(L,this.h|j.h)},t.xor=function(j){for(var D=Math.max(this.g.length,j.g.length),L=[],E=0;E<D;E++)L[E]=this.i(E)^j.i(E);return new o(L,this.h^j.h)};function k(j){for(var D=j.g.length+1,L=[],E=0;E<D;E++)L[E]=j.i(E)<<1|j.i(E-1)>>>31;return new o(L,j.h)}function R(j,D){var L=D>>5;D%=32;for(var E=j.g.length-L,O=[],$=0;$<E;$++)O[$]=0<D?j.i($+L)>>>D|j.i($+L+1)<<32-D:j.i($+L);return new o(O,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=x,_l=o}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FI,Ud,$I,ip,Xy,VI,UI,zI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,B,q){return b==Array.prototype||b==Object.prototype||(b[B]=q.value),b};function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof E0=="object"&&E0];for(var B=0;B<b.length;++B){var q=b[B];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=n(this);function i(b,B){if(B)e:{var q=r;b=b.split(".");for(var Z=0;Z<b.length-1;Z++){var me=b[Z];if(!(me in q))break e;q=q[me]}b=b[b.length-1],Z=q[b],B=B(Z),B!=Z&&B!=null&&e(q,b,{configurable:!0,writable:!0,value:B})}}function a(b,B){b instanceof String&&(b+="");var q=0,Z=!1,me={next:function(){if(!Z&&q<b.length){var Ae=q++;return{value:B(Ae,b[Ae]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(b){return b||function(){return a(this,function(B,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function f(b){var B=typeof b;return B=B!="object"?B:b?Array.isArray(b)?"array":B:"null",B=="array"||B=="object"&&typeof b.length=="number"}function h(b){var B=typeof b;return B=="object"&&b!=null||B=="function"}function x(b,B,q){return b.call.apply(b.bind,arguments)}function y(b,B,q){if(!b)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,Z),b.apply(B,me)}}return function(){return b.apply(B,arguments)}}function w(b,B,q){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:y,w.apply(null,arguments)}function _(b,B){var q=Array.prototype.slice.call(arguments,1);return function(){var Z=q.slice();return Z.push.apply(Z,arguments),b.apply(this,Z)}}function I(b,B){function q(){}q.prototype=B.prototype,b.aa=B.prototype,b.prototype=new q,b.prototype.constructor=b,b.Qb=function(Z,me,Ae){for(var Le=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)Le[Ft-2]=arguments[Ft];return B.prototype[me].apply(Z,Le)}}function N(b){const B=b.length;if(0<B){const q=Array(B);for(let Z=0;Z<B;Z++)q[Z]=b[Z];return q}return[]}function M(b,B){for(let q=1;q<arguments.length;q++){const Z=arguments[q];if(f(Z)){const me=b.length||0,Ae=Z.length||0;b.length=me+Ae;for(let Le=0;Le<Ae;Le++)b[me+Le]=Z[Le]}else b.push(Z)}}class P{constructor(B,q){this.i=B,this.j=q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function S(b){return/^[\s\xa0]*$/.test(b)}function C(){var b=u.navigator;return b&&(b=b.userAgent)?b:""}function V(b){return V[" "](b),b}V[" "]=function(){};var k=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function R(b,B,q){for(const Z in b)B.call(q,b[Z],Z,b)}function j(b,B){for(const q in b)B.call(void 0,b[q],q,b)}function D(b){const B={};for(const q in b)B[q]=b[q];return B}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(b,B){let q,Z;for(let me=1;me<arguments.length;me++){Z=arguments[me];for(q in Z)b[q]=Z[q];for(let Ae=0;Ae<L.length;Ae++)q=L[Ae],Object.prototype.hasOwnProperty.call(Z,q)&&(b[q]=Z[q])}}function O(b){var B=1;b=b.split(":");const q=[];for(;0<B&&b.length;)q.push(b.shift()),B--;return b.length&&q.push(b.join(":")),q}function $(b){u.setTimeout(()=>{throw b},0)}function F(){var b=ne;let B=null;return b.g&&(B=b.g,b.g=b.g.next,b.g||(b.h=null),B.next=null),B}class H{constructor(){this.h=this.g=null}add(B,q){const Z=z.get();Z.set(B,q),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var z=new P(()=>new W,b=>b.reset());class W{constructor(){this.next=this.g=this.h=null}set(B,q){this.h=B,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,re=!1,ne=new H,ce=()=>{const b=u.Promise.resolve(void 0);Y=()=>{b.then(ve)}};var ve=()=>{for(var b;b=F();){try{b.h.call(b.g)}catch(q){$(q)}var B=z;B.j(b),100>B.h&&(B.h++,b.next=B.g,B.g=b)}re=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(b,B){this.type=b,this.g=this.target=B,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var b=!1,B=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const q=()=>{};u.addEventListener("test",q,B),u.removeEventListener("test",q,B)}catch{}return b}();function Te(b,B){if(pe.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var q=this.type=b.type,Z=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=B,B=b.relatedTarget){if(k){e:{try{V(B.nodeName);var me=!0;break e}catch{}me=!1}me||(B=null)}}else q=="mouseover"?B=b.fromElement:q=="mouseout"&&(B=b.toElement);this.relatedTarget=B,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:oe[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&Te.aa.h.call(this)}}I(Te,pe);var oe={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Q=0;function fe(b,B,q,Z,me){this.listener=b,this.proxy=null,this.src=B,this.type=q,this.capture=!!Z,this.ha=me,this.key=++Q,this.da=this.fa=!1}function Ee(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function ie(b){this.src=b,this.g={},this.h=0}ie.prototype.add=function(b,B,q,Z,me){var Ae=b.toString();b=this.g[Ae],b||(b=this.g[Ae]=[],this.h++);var Le=Ce(b,B,Z,me);return-1<Le?(B=b[Le],q||(B.fa=!1)):(B=new fe(B,this.src,Ae,!!Z,me),B.fa=q,b.push(B)),B};function he(b,B){var q=B.type;if(q in b.g){var Z=b.g[q],me=Array.prototype.indexOf.call(Z,B,void 0),Ae;(Ae=0<=me)&&Array.prototype.splice.call(Z,me,1),Ae&&(Ee(B),b.g[q].length==0&&(delete b.g[q],b.h--))}}function Ce(b,B,q,Z){for(var me=0;me<b.length;++me){var Ae=b[me];if(!Ae.da&&Ae.listener==B&&Ae.capture==!!q&&Ae.ha==Z)return me}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),He={};function xt(b,B,q,Z,me){if(Array.isArray(B)){for(var Ae=0;Ae<B.length;Ae++)xt(b,B[Ae],q,Z,me);return null}return q=Ja(q),b&&b[ue]?b.K(B,q,h(Z)?!!Z.capture:!1,me):wt(b,B,q,!1,Z,me)}function wt(b,B,q,Z,me,Ae){if(!B)throw Error("Invalid event type");var Le=h(me)?!!me.capture:!!me,Ft=Sa(b);if(Ft||(b[$e]=Ft=new ie(b)),q=Ft.add(B,q,Z,Le,Ae),q.proxy)return q;if(Z=pt(),q.proxy=Z,Z.src=b,Z.listener=q,b.addEventListener)se||(me=Le),me===void 0&&(me=!1),b.addEventListener(B.toString(),Z,me);else if(b.attachEvent)b.attachEvent(Ve(B.toString()),Z);else if(b.addListener&&b.removeListener)b.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return q}function pt(){function b(q){return B.call(b.src,b.listener,q)}const B=Gr;return b}function lt(b,B,q,Z,me){if(Array.isArray(B))for(var Ae=0;Ae<B.length;Ae++)lt(b,B[Ae],q,Z,me);else Z=h(Z)?!!Z.capture:!!Z,q=Ja(q),b&&b[ue]?(b=b.i,B=String(B).toString(),B in b.g&&(Ae=b.g[B],q=Ce(Ae,q,Z,me),-1<q&&(Ee(Ae[q]),Array.prototype.splice.call(Ae,q,1),Ae.length==0&&(delete b.g[B],b.h--)))):b&&(b=Sa(b))&&(B=b.g[B.toString()],b=-1,B&&(b=Ce(B,q,Z,me)),(q=-1<b?B[b]:null)&&ui(q))}function ui(b){if(typeof b!="number"&&b&&!b.da){var B=b.src;if(B&&B[ue])he(B.i,b);else{var q=b.type,Z=b.proxy;B.removeEventListener?B.removeEventListener(q,Z,b.capture):B.detachEvent?B.detachEvent(Ve(q),Z):B.addListener&&B.removeListener&&B.removeListener(Z),(q=Sa(B))?(he(q,b),q.h==0&&(q.src=null,B[$e]=null)):Ee(b)}}}function Ve(b){return b in He?He[b]:He[b]="on"+b}function Gr(b,B){if(b.da)b=!0;else{B=new Te(B,this);var q=b.listener,Z=b.ha||b.src;b.fa&&ui(b),b=q.call(Z,B)}return b}function Sa(b){return b=b[$e],b instanceof ie?b:null}var _r="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ja(b){return typeof b=="function"?b:(b[_r]||(b[_r]=function(B){return b.handleEvent(B)}),b[_r])}function qt(){ye.call(this),this.i=new ie(this),this.M=this,this.F=null}I(qt,ye),qt.prototype[ue]=!0,qt.prototype.removeEventListener=function(b,B,q,Z){lt(this,b,B,q,Z)};function nr(b,B){var q,Z=b.F;if(Z)for(q=[];Z;Z=Z.F)q.push(Z);if(b=b.M,Z=B.type||B,typeof B=="string")B=new pe(B,b);else if(B instanceof pe)B.target=B.target||b;else{var me=B;B=new pe(Z,b),E(B,me)}if(me=!0,q)for(var Ae=q.length-1;0<=Ae;Ae--){var Le=B.g=q[Ae];me=di(Le,Z,!0,B)&&me}if(Le=B.g=b,me=di(Le,Z,!0,B)&&me,me=di(Le,Z,!1,B)&&me,q)for(Ae=0;Ae<q.length;Ae++)Le=B.g=q[Ae],me=di(Le,Z,!1,B)&&me}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var b=this.i,B;for(B in b.g){for(var q=b.g[B],Z=0;Z<q.length;Z++)Ee(q[Z]);delete b.g[B],b.h--}}this.F=null},qt.prototype.K=function(b,B,q,Z){return this.i.add(String(b),B,!1,q,Z)},qt.prototype.L=function(b,B,q,Z){return this.i.add(String(b),B,!0,q,Z)};function di(b,B,q,Z){if(B=b.i.g[String(B)],!B)return!0;B=B.concat();for(var me=!0,Ae=0;Ae<B.length;++Ae){var Le=B[Ae];if(Le&&!Le.da&&Le.capture==q){var Ft=Le.listener,bn=Le.ha||Le.src;Le.fa&&he(b.i,Le),me=Ft.call(bn,Z)!==!1&&me}}return me&&!Z.defaultPrevented}function rr(b,B,q){if(typeof b=="function")q&&(b=w(b,q));else if(b&&typeof b.handleEvent=="function")b=w(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:u.setTimeout(b,B||0)}function cd(b){b.g=rr(()=>{b.g=null,b.i&&(b.i=!1,cd(b))},b.l);const B=b.h;b.h=null,b.m.apply(null,B)}class Jl extends ye{constructor(B,q){super(),this.m=B,this.l=q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:cd(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(b){ye.call(this),this.h=b,this.g={}}I(Fo,ye);var xn=[];function Be(b){R(b.g,function(B,q){this.g.hasOwnProperty(q)&&ui(B)},b),b.g={}}Fo.prototype.N=function(){Fo.aa.N.call(this),Be(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=u.JSON.stringify,Bt=u.JSON.parse,hn=class{stringify(b){return u.JSON.stringify(b,void 0)}parse(b){return u.JSON.parse(b,void 0)}};function es(){}es.prototype.h=null;function ec(b){return b.h||(b.h=b.i())}function ud(){}var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ra(){pe.call(this,"d")}I(ra,pe);function tc(){pe.call(this,"c")}I(tc,pe);var Ta={},Kr=null;function Rs(){return Kr=Kr||new qt}Ta.La="serverreachability";function Un(b){pe.call(this,Ta.La,b)}I(Un,pe);function Di(b){const B=Rs();nr(B,new Un(B))}Ta.STAT_EVENT="statevent";function $o(b,B){pe.call(this,Ta.STAT_EVENT,b),this.stat=B}I($o,pe);function Yt(b){const B=Rs();nr(B,new $o(B,b))}Ta.Ma="timingevent";function Xh(b,B){pe.call(this,Ta.Ma,b),this.size=B}I(Xh,pe);function fi(b,B){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){b()},B)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function Er(b,B,q,Z,me,Ae){b.info(function(){if(b.g)if(Ae)for(var Le="",Ft=Ae.split("&"),bn=0;bn<Ft.length;bn++){var _t=Ft[bn].split("=");if(1<_t.length){var an=_t[0];_t=_t[1];var jn=an.split("_");Le=2<=jn.length&&jn[1]=="type"?Le+(an+"="+_t+"&"):Le+(an+"=redacted&")}}else Le=null;else Le=Ae;return"XMLHTTP REQ ("+Z+") [attempt "+me+"]: "+B+`
`+q+`
`+Le})}function ns(b,B,q,Z,me,Ae,Le){b.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+me+"]: "+B+`
`+q+`
`+Ae+" "+Le})}function zn(b,B,q,Z){b.info(function(){return"XMLHTTP TEXT ("+B+"): "+Ls(b,q)+(Z?" "+Z:"")})}function Ue(b,B){b.info(function(){return"TIMEOUT: "+B})}ts.prototype.info=function(){};function Ls(b,B){if(!b.g)return B;if(!B)return null;try{var q=JSON.parse(B);if(q){for(b=0;b<q.length;b++)if(Array.isArray(q[b])){var Z=q[b];if(!(2>Z.length)){var me=Z[1];if(Array.isArray(me)&&!(1>me.length)){var Ae=me[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Le=1;Le<me.length;Le++)me[Le]=""}}}}return yn(q)}catch{return B}}var Bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ca;function rs(){}I(rs,es),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},Ca=new rs;function hi(b,B,q,Z){this.j=b,this.i=B,this.l=q,this.R=Z||1,this.U=new Fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Yh={},dd={};function Xr(b,B,q){b.L=1,b.v=vn(yt(B)),b.m=q,b.P=!0,ir(b,null)}function ir(b,B){b.F=Date.now(),mi(b),b.A=yt(b.v);var q=b.A,Z=b.R;Array.isArray(Z)||(Z=[String(Z)]),Pn(q.i,"t",Z),b.C=0,q=b.j.J,b.h=new pi,b.g=i0(b.j,q?B:null,!b.m),0<b.O&&(b.M=new Jl(w(b.Y,b,b.g),b.O)),B=b.U,q=b.g,Z=b.ca;var me="readystatechange";Array.isArray(me)||(me&&(xn[0]=me.toString()),me=xn);for(var Ae=0;Ae<me.length;Ae++){var Le=xt(q,me[Ae],Z||B.handleEvent,!1,B.h||B);if(!Le)break;B.g[Le.key]=Le}B=b.H?D(b.H):{},b.m?(b.u||(b.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,B)):(b.u="GET",b.g.ea(b.A,b.u,null,B)),Di(),Er(b.i,b.u,b.A,b.l,b.R,b.m)}hi.prototype.ca=function(b){b=b.target;const B=this.M;B&&sa(b)==3?B.j():this.Y(b)},hi.prototype.Y=function(b){try{if(b==this.g)e:{const jn=sa(this.g);var B=this.g.Ba();const Wn=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||t0(this.g)))){this.J||jn!=4||B==7||(B==8||0>=Wn?Di(3):Di(2)),Ie(this);var q=this.g.Z();this.X=q;t:if(Gt(this)){var Z=t0(this.g);b="";var me=Z.length,Ae=sa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),Vo(this);var Le="";break t}this.h.i=new u.TextDecoder}for(B=0;B<me;B++)this.h.h=!0,b+=this.h.i.decode(Z[B],{stream:!(Ae&&B==me-1)});Z.length=0,this.h.g+=b,this.C=0,Le=this.h.g}else Le=this.g.oa();if(this.o=q==200,ns(this.i,this.u,this.A,this.l,this.R,jn,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Ft,bn=this.g;if((Ft=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Ft)){var _t=Ft;break t}}_t=null}if(q=_t)zn(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Na(this,q);else{this.o=!1,this.s=3,Yt(12),Mt(this),Vo(this);break e}}if(this.P){q=!0;let Qr;for(;!this.J&&this.C<Le.length;)if(Qr=Qh(this,Le),Qr==dd){jn==4&&(this.s=4,Yt(14),q=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Qr==Yh){this.s=4,Yt(15),zn(this.i,this.l,Le,"[Invalid Chunk]"),q=!1;break}else zn(this.i,this.l,Qr,null),Na(this,Qr);if(Gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||Le.length!=0||this.h.h||(this.s=1,Yt(16),q=!1),this.o=this.o&&q,!q)zn(this.i,this.l,Le,"[Invalid Chunked Response]"),Mt(this),Vo(this);else if(0<Le.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+Le.length),Zo(an),an.M=!0,Yt(11))}}else zn(this.i,this.l,Le,null),Na(this,Le);jn==4&&Mt(this),this.o&&!this.J&&(jn==4?rn(this.j,this):(this.o=!1,mi(this)))}else Dt(this.g),q==400&&0<Le.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Mt(this),Vo(this)}}}catch{}finally{}};function Gt(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function Qh(b,B){var q=b.C,Z=B.indexOf(`
`,q);return Z==-1?dd:(q=Number(B.substring(q,Z)),isNaN(q)?Yh:(Z+=1,Z+q>B.length?dd:(B=B.slice(Z,Z+q),b.C=Z+q,B)))}hi.prototype.cancel=function(){this.J=!0,Mt(this)};function mi(b){b.S=Date.now()+b.I,nc(b,b.I)}function nc(b,B){if(b.B!=null)throw Error("WatchDog timer not null");b.B=fi(w(b.ba,b),B)}function Ie(b){b.B&&(u.clearTimeout(b.B),b.B=null)}hi.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Ue(this.i,this.A),this.L!=2&&(Di(),Yt(17)),Mt(this),this.s=2,Vo(this)):nc(this,this.S-b)};function Vo(b){b.j.G==0||b.J||rn(b.j,b)}function Mt(b){Ie(b);var B=b.M;B&&typeof B.ma=="function"&&B.ma(),b.M=null,Be(b.U),b.g&&(B=b.g,b.g=null,B.abort(),B.ma())}function Na(b,B){try{var q=b.j;if(q.G!=0&&(q.g==b||Uo(q.h,b))){if(!b.K&&Uo(q.h,b)&&q.G==3){try{var Z=q.Da.g.parse(B)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var me=Z;if(me[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<b.F)zs(q),ac(q);else break e;md(q),Yt(18)}}else q.za=me[1],0<q.za-q.T&&37500>me[2]&&q.F&&q.v==0&&!q.C&&(q.C=fi(w(q.Za,q),6e3));if(1>=ht(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Rr(q,11)}else if((b.K||q.g==b)&&zs(q),!S(B))for(me=q.Da.g.parse(B),B=0;B<me.length;B++){let _t=me[B];if(q.T=_t[0],_t=_t[1],q.G==2)if(_t[0]=="c"){q.K=_t[1],q.ia=_t[2];const an=_t[3];an!=null&&(q.la=an,q.j.info("VER="+q.la));const jn=_t[4];jn!=null&&(q.Aa=jn,q.j.info("SVER="+q.Aa));const Wn=_t[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(Z=1.5*Wn,q.L=Z,q.j.info("backChannelRequestTimeoutMs_="+Z)),Z=q;const Qr=b.g;if(Qr){const Lr=Qr.g?Qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var Ae=Z.h;Ae.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(zo(Ae,Ae.h),Ae.h=null))}if(Z.D){const gd=Qr.g?Qr.g.getResponseHeader("X-HTTP-Session-Id"):null;gd&&(Z.ya=gd,Fe(Z.I,Z.D,gd))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-b.F,q.j.info("Handshake RTT: "+q.R+"ms")),Z=q;var Le=b;if(Z.qa=Qe(Z,Z.J?Z.ia:null,Z.W),Le.K){rc(Z.h,Le);var Ft=Le,bn=Z.L;bn&&(Ft.I=bn),Ft.B&&(Ie(Ft),mi(Ft)),Z.g=Le}else r0(Z);0<q.i.length&&at(q)}else _t[0]!="stop"&&_t[0]!="close"||Rr(q,7);else q.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Rr(q,7):Li(q):_t[0]!="noop"&&q.l&&q.l.ta(_t),q.v=0)}}Di(4)}catch{}}var Ng=class{constructor(b,B){this.g=b,this.map=B}};function Tt(b){this.l=b||10,u.PerformanceNavigationTiming?(b=u.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function At(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ht(b){return b.h?1:b.g?b.g.size:0}function Uo(b,B){return b.h?b.h==B:b.g?b.g.has(B):!1}function zo(b,B){b.g?b.g.add(B):b.h=B}function rc(b,B){b.h&&b.h==B?b.h=null:b.g&&b.g.has(B)&&b.g.delete(B)}Tt.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Sn(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let B=b.i;for(const q of b.g.values())B=B.concat(q.D);return B}return N(b.i)}function Ia(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(f(b)){for(var B=[],q=b.length,Z=0;Z<q;Z++)B.push(b[Z]);return B}B=[],q=0;for(Z in b)B[q++]=b[Z];return B}function Ig(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(f(b)||typeof b=="string"){var B=[];b=b.length;for(var q=0;q<b;q++)B.push(q);return B}B=[],q=0;for(const Z in b)B[q++]=Z;return B}}}function pn(b,B){if(b.forEach&&typeof b.forEach=="function")b.forEach(B,void 0);else if(f(b)||typeof b=="string")Array.prototype.forEach.call(b,B,void 0);else for(var q=Ig(b),Z=Ia(b),me=Z.length,Ae=0;Ae<me;Ae++)B.call(void 0,Z[Ae],q&&q[Ae],b)}var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Og(b,B){if(b){b=b.split("&");for(var q=0;q<b.length;q++){var Z=b[q].indexOf("="),me=null;if(0<=Z){var Ae=b[q].substring(0,Z);me=b[q].substring(Z+1)}else Ae=b[q];B(Ae,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Yr(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Yr){this.h=b.h,On(this,b.j),this.o=b.o,this.g=b.g,ge(this,b.s),this.l=b.l;var B=b.i,q=new is;q.i=B.i,B.g&&(q.g=new Map(B.g),q.h=B.h),J(this,q),this.m=b.m}else b&&(B=String(b).match(ia))?(this.h=!1,On(this,B[1]||"",!0),this.o=ar(B[2]||""),this.g=ar(B[3]||"",!0),ge(this,B[4]),this.l=ar(B[5]||"",!0),J(this,B[6]||"",!0),this.m=ar(B[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Yr.prototype.toString=function(){var b=[],B=this.j;B&&b.push(qo(B,Dr,!0),":");var q=this.g;return(q||B=="file")&&(b.push("//"),(B=this.o)&&b.push(qo(B,Dr,!0),"@"),b.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&b.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&b.push("/"),b.push(qo(q,q.charAt(0)=="/"?tn:Ye,!0))),(q=this.i.toString())&&b.push("?",q),(q=this.m)&&b.push("#",qo(q,Pg)),b.join("")};function yt(b){return new Yr(b)}function On(b,B,q){b.j=q?ar(B,!0):B,b.j&&(b.j=b.j.replace(/:$/,""))}function ge(b,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);b.s=B}else b.s=null}function J(b,B,q){B instanceof is?(b.i=B,Oa(b.i,b.h)):(q||(B=qo(B,Zh)),b.i=new is(B,b.h))}function Fe(b,B,q){b.i.set(B,q)}function vn(b){return Fe(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function ar(b,B){return b?B?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function qo(b,B,q){return typeof b=="string"?(b=encodeURI(b).replace(B,fd),q&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function fd(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Dr=/[#\/\?@]/g,Ye=/[#\?:]/g,tn=/[#\?]/g,Zh=/[#\?@]/g,Pg=/#/g;function is(b,B){this.h=this.g=null,this.i=b||null,this.j=!!B}function gi(b){b.g||(b.g=new Map,b.h=0,b.i&&Og(b.i,function(B,q){b.add(decodeURIComponent(B.replace(/\+/g," ")),q)}))}t=is.prototype,t.add=function(b,B){gi(this),this.i=null,b=Ri(this,b);var q=this.g.get(b);return q||this.g.set(b,q=[]),q.push(B),this.h+=1,this};function ic(b,B){gi(b),B=Ri(b,B),b.g.has(B)&&(b.i=null,b.h-=b.g.get(B).length,b.g.delete(B))}function Jh(b,B){return gi(b),B=Ri(b,B),b.g.has(B)}t.forEach=function(b,B){gi(this),this.g.forEach(function(q,Z){q.forEach(function(me){b.call(B,me,Z,this)},this)},this)},t.na=function(){gi(this);const b=Array.from(this.g.values()),B=Array.from(this.g.keys()),q=[];for(let Z=0;Z<B.length;Z++){const me=b[Z];for(let Ae=0;Ae<me.length;Ae++)q.push(B[Z])}return q},t.V=function(b){gi(this);let B=[];if(typeof b=="string")Jh(this,b)&&(B=B.concat(this.g.get(Ri(this,b))));else{b=Array.from(this.g.values());for(let q=0;q<b.length;q++)B=B.concat(b[q])}return B},t.set=function(b,B){return gi(this),this.i=null,b=Ri(this,b),Jh(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[B]),this.h+=1,this},t.get=function(b,B){return b?(b=this.V(b),0<b.length?String(b[0]):B):B};function Pn(b,B,q){ic(b,B),0<q.length&&(b.i=null,b.g.set(Ri(b,B),N(q)),b.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],B=Array.from(this.g.keys());for(var q=0;q<B.length;q++){var Z=B[q];const Ae=encodeURIComponent(String(Z)),Le=this.V(Z);for(Z=0;Z<Le.length;Z++){var me=Ae;Le[Z]!==""&&(me+="="+encodeURIComponent(String(Le[Z]))),b.push(me)}}return this.i=b.join("&")};function Ri(b,B){return B=String(B),b.j&&(B=B.toLowerCase()),B}function Oa(b,B){B&&!b.j&&(gi(b),b.i=null,b.g.forEach(function(q,Z){var me=Z.toLowerCase();Z!=me&&(ic(this,Z),Pn(this,me,q))},b)),b.j=B}function et(b,B){const q=new ts;if(u.Image){const Z=new Image;Z.onload=_(nt,q,"TestLoadImage: loaded",!0,B,Z),Z.onerror=_(nt,q,"TestLoadImage: error",!1,B,Z),Z.onabort=_(nt,q,"TestLoadImage: abort",!1,B,Z),Z.ontimeout=_(nt,q,"TestLoadImage: timeout",!1,B,Z),u.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=b}else B(!1)}function jg(b,B){const q=new ts,Z=new AbortController,me=setTimeout(()=>{Z.abort(),nt(q,"TestPingServer: timeout",!1,B)},1e4);fetch(b,{signal:Z.signal}).then(Ae=>{clearTimeout(me),Ae.ok?nt(q,"TestPingServer: ok",!0,B):nt(q,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(me),nt(q,"TestPingServer: error",!1,B)})}function nt(b,B,q,Z,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),Z(q)}catch{}}function qn(){this.g=new hn}function kg(b,B,q){const Z=q||"";try{pn(b,function(me,Ae){let Le=me;h(me)&&(Le=yn(me)),B.push(Z+Ae+"="+encodeURIComponent(Le))})}catch(me){throw B.push(Z+"type="+encodeURIComponent("_badmap")),me}}function Fs(b){this.l=b.Ub||null,this.j=b.eb||!1}I(Fs,es),Fs.prototype.g=function(){return new Ho(this.l,this.j)},Fs.prototype.i=function(b){return function(){return b}}({});function Ho(b,B){qt.call(this),this.D=b,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ho,qt),t=Ho.prototype,t.open=function(b,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=B,this.readyState=1,aa(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(B.body=b),(this.D||u).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pa(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pa(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var B=b.value?b.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!b.done}))&&(this.response=this.responseText+=B)}b.done?Wo(this):aa(this),this.readyState==3&&Pa(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,Wo(this))},t.Qa=function(b){this.g&&(this.response=b,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(b){b.readyState=4,b.l=null,b.j=null,b.v=null,aa(b)}t.setRequestHeader=function(b,B){this.u.append(b,B)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],B=this.h.entries();for(var q=B.next();!q.done;)q=q.value,b.push(q[0]+": "+q[1]),q=B.next();return b.join(`\r
`)};function aa(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function $s(b){let B="";return R(b,function(q,Z){B+=Z,B+=":",B+=q,B+=`\r
`}),B}function as(b,B,q){e:{for(Z in q){var Z=!1;break e}Z=!0}Z||(q=$s(q),typeof b=="string"?q!=null&&encodeURIComponent(String(q)):Fe(b,B,q))}function nn(b){qt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(nn,qt);var Go=/^https?$/i,Ko=["POST","PUT"];t=nn.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,B,q,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);B=B?B.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ca.g(),this.v=this.o?ec(this.o):ec(Ca),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(B,String(b),!0),this.B=!1}catch(Ae){hr(this,Ae);return}if(b=q||"",q=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var me in Z)q.set(me,Z[me]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Ae of Z.keys())q.set(Ae,Z.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(q.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),me=u.FormData&&b instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ko,B,void 0))||Z||me||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Le]of q)this.g.setRequestHeader(Ae,Le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{e0(this),this.u=!0,this.g.send(b),this.u=!1}catch(Ae){hr(this,Ae)}};function hr(b,B){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=B,b.m=5,hd(b),Xo(b)}function hd(b){b.A||(b.A=!0,nr(b,"complete"),nr(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,nr(this,"complete"),nr(this,"abort"),Xo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xo(this,!0)),nn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pd(this):this.bb())},t.bb=function(){pd(this)};function pd(b){if(b.h&&typeof o<"u"&&(!b.v[1]||sa(b)!=4||b.Z()!=2)){if(b.u&&sa(b)==4)rr(b.Ea,0,b);else if(nr(b,"readystatechange"),sa(b)==4){b.h=!1;try{const Le=b.Z();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var q;if(!(q=B)){var Z;if(Z=Le===0){var me=String(b.D).match(ia)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),Z=!Go.test(me?me.toLowerCase():"")}q=Z}if(q)nr(b,"complete"),nr(b,"success");else{b.m=6;try{var Ae=2<sa(b)?b.g.statusText:""}catch{Ae=""}b.l=Ae+" ["+b.Z()+"]",hd(b)}}finally{Xo(b)}}}}function Xo(b,B){if(b.g){e0(b);const q=b.g,Z=b.v[0]?()=>{}:null;b.g=null,b.v=null,B||nr(b,"ready");try{q.onreadystatechange=Z}catch{}}}function e0(b){b.I&&(u.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function sa(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<sa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var B=this.g.responseText;return b&&B.indexOf(b)==0&&(B=B.substring(b.length)),Bt(B)}};function t0(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Dt(b){const B={};b=(b.g&&2<=sa(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<b.length;Z++){if(S(b[Z]))continue;var q=O(b[Z]);const me=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Ae=B[me]||[];B[me]=Ae,Ae.push(q)}j(B,function(Z){return Z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(b,B,q){return q&&q.internalChannelParams&&q.internalChannelParams[b]||B}function Yo(b){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,b),this.cb=Vs("retryDelaySeedMs",1e4,b),this.Wa=Vs("forwardChannelMaxRetries",2,b),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Tt(b&&b.concurrentRequestLimit),this.Da=new qn,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yo.prototype,t.la=8,t.G=1,t.connect=function(b,B,q,Z){Yt(0),this.W=b,this.H=B||{},q&&Z!==void 0&&(this.H.OSID=q,this.H.OAID=Z),this.F=this.X,this.I=Qe(this,null,this.W),at(this)};function Li(b){if(be(b),b.G==3){var B=b.U++,q=yt(b.I);if(Fe(q,"SID",b.K),Fe(q,"RID",B),Fe(q,"TYPE","terminate"),Us(b,q),B=new hi(b,b.j,B),B.L=2,B.v=vn(yt(q)),q=!1,u.navigator&&u.navigator.sendBeacon)try{q=u.navigator.sendBeacon(B.v.toString(),"")}catch{}!q&&u.Image&&(new Image().src=B.v,q=!0),q||(B.g=i0(B.j,null),B.g.ea(B.v)),B.F=Date.now(),mi(B)}Rt(b)}function ac(b){b.g&&(Zo(b),b.g.cancel(),b.g=null)}function be(b){ac(b),b.u&&(u.clearTimeout(b.u),b.u=null),zs(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&u.clearTimeout(b.s),b.s=null)}function at(b){if(!At(b.h)&&!b.s){b.s=!0;var B=b.Ga;Y||ce(),re||(Y(),re=!0),ne.add(B,b),b.B=0}}function Hn(b,B){return ht(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=B.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=fi(w(b.Ga,b,B),Jo(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const me=new hi(this,this.j,b);let Ae=this.o;if(this.S&&(Ae?(Ae=D(Ae),E(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(me.H=Ae,Ae=null),this.P)e:{for(var B=0,q=0;q<this.i.length;q++){t:{var Z=this.i[q];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(B+=Z,4096<B){B=q;break e}if(B===4096||q===this.i.length-1){B=q+1;break e}}B=1e3}else B=1e3;B=n0(this,me,B),q=yt(this.I),Fe(q,"RID",b),Fe(q,"CVER",22),this.D&&Fe(q,"X-HTTP-Session-Id",this.D),Us(this,q),Ae&&(this.O?B="headers="+encodeURIComponent(String($s(Ae)))+"&"+B:this.m&&as(q,this.m,Ae)),zo(this.h,me),this.Ua&&Fe(q,"TYPE","init"),this.P?(Fe(q,"$req",B),Fe(q,"SID","null"),me.T=!0,Xr(me,q,null)):Xr(me,q,B),this.G=2}}else this.G==3&&(b?Qo(this,b):this.i.length==0||At(this.h)||Qo(this))};function Qo(b,B){var q;B?q=B.l:q=b.U++;const Z=yt(b.I);Fe(Z,"SID",b.K),Fe(Z,"RID",q),Fe(Z,"AID",b.T),Us(b,Z),b.m&&b.o&&as(Z,b.m,b.o),q=new hi(b,b.j,q,b.B+1),b.m===null&&(q.H=b.o),B&&(b.i=B.D.concat(b.i)),B=n0(b,q,1e3),q.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),zo(b.h,q),Xr(q,Z,B)}function Us(b,B){b.H&&R(b.H,function(q,Z){Fe(B,Z,q)}),b.l&&pn({},function(q,Z){Fe(B,Z,q)})}function n0(b,B,q){q=Math.min(b.i.length,q);var Z=b.l?w(b.l.Na,b.l,b):null;e:{var me=b.i;let Ae=-1;for(;;){const Le=["count="+q];Ae==-1?0<q?(Ae=me[0].g,Le.push("ofs="+Ae)):Ae=0:Le.push("ofs="+Ae);let Ft=!0;for(let bn=0;bn<q;bn++){let _t=me[bn].g;const an=me[bn].map;if(_t-=Ae,0>_t)Ae=Math.max(0,me[bn].g-100),Ft=!1;else try{kg(an,Le,"req"+_t+"_")}catch{Z&&Z(an)}}if(Ft){Z=Le.join("&");break e}}}return b=b.i.splice(0,q),B.D=b,Z}function r0(b){if(!b.g&&!b.u){b.Y=1;var B=b.Fa;Y||ce(),re||(Y(),re=!0),ne.add(B,b),b.v=0}}function md(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=fi(w(b.Fa,b),Jo(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,Tn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=fi(w(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),ac(this),Tn(this))};function Zo(b){b.A!=null&&(u.clearTimeout(b.A),b.A=null)}function Tn(b){b.g=new hi(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var B=yt(b.qa);Fe(B,"RID","rpc"),Fe(B,"SID",b.K),Fe(B,"AID",b.T),Fe(B,"CI",b.F?"0":"1"),!b.F&&b.ja&&Fe(B,"TO",b.ja),Fe(B,"TYPE","xmlhttp"),Us(b,B),b.m&&b.o&&as(B,b.m,b.o),b.L&&(b.g.I=b.L);var q=b.g;b=b.ia,q.L=1,q.v=vn(yt(B)),q.m=null,q.P=!0,ir(q,b)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),md(this),Yt(19))};function zs(b){b.C!=null&&(u.clearTimeout(b.C),b.C=null)}function rn(b,B){var q=null;if(b.g==B){zs(b),Zo(b),b.g=null;var Z=2}else if(Uo(b.h,B))q=B.D,rc(b.h,B),Z=1;else return;if(b.G!=0){if(B.o)if(Z==1){q=B.m?B.m.length:0,B=Date.now()-B.F;var me=b.B;Z=Rs(),nr(Z,new Xh(Z,q)),at(b)}else r0(b);else if(me=B.s,me==3||me==0&&0<B.X||!(Z==1&&Hn(b,B)||Z==2&&md(b)))switch(q&&0<q.length&&(B=b.h,B.i=B.i.concat(q)),me){case 1:Rr(b,5);break;case 4:Rr(b,10);break;case 3:Rr(b,6);break;default:Rr(b,2)}}}function Jo(b,B){let q=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(q*=2),q*B}function Rr(b,B){if(b.j.info("Error code "+B),B==2){var q=w(b.fb,b),Z=b.Xa;const me=!Z;Z=new Yr(Z||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||On(Z,"https"),vn(Z),me?et(Z.toString(),q):jg(Z.toString(),q)}else Yt(2);b.G=0,b.l&&b.l.sa(B),Rt(b),be(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Rt(b){if(b.G=0,b.ka=[],b.l){const B=Sn(b.h);(B.length!=0||b.i.length!=0)&&(M(b.ka,B),M(b.ka,b.i),b.h.i.length=0,N(b.i),b.i.length=0),b.l.ra()}}function Qe(b,B,q){var Z=q instanceof Yr?yt(q):new Yr(q);if(Z.g!="")B&&(Z.g=B+"."+Z.g),ge(Z,Z.s);else{var me=u.location;Z=me.protocol,B=B?B+"."+me.hostname:me.hostname,me=+me.port;var Ae=new Yr(null);Z&&On(Ae,Z),B&&(Ae.g=B),me&&ge(Ae,me),q&&(Ae.l=q),Z=Ae}return q=b.D,B=b.ya,q&&B&&Fe(Z,q,B),Fe(Z,"VER",b.la),Us(b,Z),Z}function i0(b,B,q){if(B&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=b.Ca&&!b.pa?new nn(new Fs({eb:q})):new nn(b.pa),B.Ha(b.J),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ht(){}t=Ht.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bi(){}Bi.prototype.g=function(b,B){return new Dn(b,B)};function Dn(b,B){qt.call(this),this.g=new Yo(B),this.l=b,this.h=B&&B.messageUrlParams||null,b=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(b?b["X-WebChannel-Content-Type"]=B.messageContentType:b={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(b?b["X-WebChannel-Client-Profile"]=B.va:b={"X-WebChannel-Client-Profile":B.va}),this.g.S=b,(b=B&&B.Sb)&&!S(b)&&(this.g.m=b),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!S(B)&&(this.g.D=B,b=this.h,b!==null&&B in b&&(b=this.h,B in b&&delete b[B])),this.j=new ja(this)}I(Dn,qt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Li(this.g)},Dn.prototype.o=function(b){var B=this.g;if(typeof b=="string"){var q={};q.__data__=b,b=q}else this.u&&(q={},q.__data__=yn(b),b=q);B.i.push(new Ng(B.Ya++,b)),B.G==3&&at(B)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Li(this.g),delete this.g,Dn.aa.N.call(this)};function a0(b){ra.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var B=b.__sm__;if(B){e:{for(const q in B){b=q;break e}b=void 0}(this.i=b)&&(b=this.i,B=B!==null&&b in B?B[b]:void 0),this.data=B}else this.data=b}I(a0,ra);function xi(){tc.call(this),this.status=1}I(xi,tc);function ja(b){this.g=b}I(ja,Ht),ja.prototype.ua=function(){nr(this.g,"a")},ja.prototype.ta=function(b){nr(this.g,new a0(b))},ja.prototype.sa=function(b){nr(this.g,new xi)},ja.prototype.ra=function(){nr(this.g,"b")},Bi.prototype.createWebChannel=Bi.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,zI=function(){return new Bi},UI=function(){return Rs()},VI=Ta,Xy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,ip=Bs,fr.COMPLETE="complete",$I=fr,ud.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",qt.prototype.listen=qt.prototype.K,Ud=ud,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,FI=nn}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});const tE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new jI("@firebase/firestore");function Td(){return jl.logLevel}function Xe(t,...e){if(jl.logLevel<=Nt.DEBUG){const n=e.map(zb);jl.debug(`Firestore (${zu}): ${t}`,...n)}}function Ts(t,...e){if(jl.logLevel<=Nt.ERROR){const n=e.map(zb);jl.error(`Firestore (${zu}): ${t}`,...n)}}function nu(t,...e){if(jl.logLevel<=Nt.WARN){const n=e.map(zb);jl.warn(`Firestore (${zu}): ${t}`,...n)}}function zb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t="Unexpected state"){const e=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function Ut(t,e){t||it()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Uu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ER{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ir.UNAUTHENTICATED))}shutdown(){}}class SR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TR{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string"),new qI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string"),new Ir(e)}}class CR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ut(this.o===void 0);const r=a=>{a.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new IR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PR(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function ru(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new er(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new er(0,0))}static max(){return new st(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(),r===void 0?r=e.length-n:r>e.length-n&&it(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Df.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Df?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dn extends Df{construct(e,n,r){return new dn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dn(n)}static emptyPath(){return new dn([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Df{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return jR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new qe(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new qe(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new qe(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(dn.fromString(e))}static fromName(e){return new Je(dn.fromString(e).popFirst(5))}static empty(){return new Je(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new dn(e.slice()))}}function kR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new er(n+1,0):new er(n,r));return new _o(i,Je.empty(),e)}function MR(t){return new _o(t.readTime,t.key,-1)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(st.min(),Je.empty(),-1)}static max(){return new _o(st.max(),Je.empty(),-1)}}function DR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Je.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){if(t.code!==Ne.FAILED_PRECONDITION||t.message!==RR)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.reject(n)}static resolve(e){return new Pe((n,r)=>{n(e)})}static reject(e){return new Pe((n,r)=>{r(e)})}static waitFor(e){return new Pe((n,r)=>{let i=0,a=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++a,o&&a===i&&n()},f=>r(f))}),o=!0,a===i&&n()})}static or(e){let n=Pe.resolve(!1);for(const r of e)n=n.next(i=>i?Pe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Pe((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next(x=>{o[h]=x,++u,u===a&&r(o)},x=>i(x))}})}static doWhile(e,n){return new Pe((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function BR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ph(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qb.oe=-1;function m1(t){return t==null}function Bp(t){return t===0&&1/t==-1/0}function FR(t){return typeof t=="number"&&Number.isInteger(t)&&!Bp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.comparator=e,this.root=n||xr.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new S0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new S0(this.root,e,this.comparator,!1)}getReverseIterator(){return new S0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new S0(this.root,e,this.comparator,!0)}}class S0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=a??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,n,r,i,a){return this}insert(e,n,r){return new xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new br(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GI("Invalid base64 string: "+a):a}}(e);return new Ar(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(t){if(Ut(!!t),typeof t=="string"){let e=0;const n=$R.exec(t);if(Ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(t.seconds),nanos:kn(t.nanos)}}function kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kl(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wb(t){const e=t.mapValue.fields.__previous_value__;return Hb(e)?Wb(e):e}function Rf(t){const e=Eo(t.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r,i,a,o,u,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h}}class Lf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={mapValue:{}};function Ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hb(t)?4:zR(t)?9007199254740991:UR(t)?10:11:it()}function Ga(t,e){if(t===e)return!0;const n=Ml(t);if(n!==Ml(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rf(t).isEqual(Rf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Eo(i.timestampValue),u=Eo(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return kl(i.bytesValue).isEqual(kl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return kn(i.geoPointValue.latitude)===kn(a.geoPointValue.latitude)&&kn(i.geoPointValue.longitude)===kn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return kn(i.integerValue)===kn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=kn(i.doubleValue),u=kn(a.doubleValue);return o===u?Bp(o)===Bp(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return ru(t.arrayValue.values||[],e.arrayValue.values||[],Ga);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(nE(o)!==nE(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!Ga(o[f],u[f])))return!1;return!0}(t,e);default:return it()}}function Bf(t,e){return(t.values||[]).find(n=>Ga(n,e))!==void 0}function iu(t,e){if(t===e)return 0;const n=Ml(t),r=Ml(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(a,o){const u=kn(a.integerValue||a.doubleValue),f=kn(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(t,e);case 3:return iE(t.timestampValue,e.timestampValue);case 4:return iE(Rf(t),Rf(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(a,o){const u=kl(a),f=kl(o);return u.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const u=a.split("/"),f=o.split("/");for(let h=0;h<u.length&&h<f.length;h++){const x=Ot(u[h],f[h]);if(x!==0)return x}return Ot(u.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const u=Ot(kn(a.latitude),kn(o.latitude));return u!==0?u:Ot(kn(a.longitude),kn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aE(t.arrayValue,e.arrayValue);case 10:return function(a,o){var u,f,h,x;const y=a.fields||{},w=o.fields||{},_=(u=y.value)===null||u===void 0?void 0:u.arrayValue,I=(f=w.value)===null||f===void 0?void 0:f.arrayValue,N=Ot(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((x=I==null?void 0:I.values)===null||x===void 0?void 0:x.length)||0);return N!==0?N:aE(_,I)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===T0.mapValue&&o===T0.mapValue)return 0;if(a===T0.mapValue)return 1;if(o===T0.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=o.fields||{},x=Object.keys(h);f.sort(),x.sort();for(let y=0;y<f.length&&y<x.length;++y){const w=Ot(f[y],x[y]);if(w!==0)return w;const _=iu(u[f[y]],h[x[y]]);if(_!==0)return _}return Ot(f.length,x.length)}(t.mapValue,e.mapValue);default:throw it()}}function iE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=Eo(t),r=Eo(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function aE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=iu(n[i],r[i]);if(a)return a}return Ot(n.length,r.length)}function au(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Eo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Yy(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Yy(n.fields[o])}`;return i+"}"}(t.mapValue):it()}function sE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qy(t){return!!t&&"integerValue"in t}function Gb(t){return!!t&&"arrayValue"in t}function oE(t){return!!t&&"nullValue"in t}function lE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ap(t){return!!t&&"mapValue"in t}function UR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=rf(o):i.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ga(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wl(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ni(rf(this.value))}}function KI(t){const e=[];return Wl(t.fields,(n,r)=>{const i=new yr([n]);if(ap(r)){const a=KI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Pr(e,0,st.min(),st.min(),st.min(),ni.empty(),0)}static newFoundDocument(e,n,r,i){return new Pr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new Pr(e,2,n,st.min(),st.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new Pr(e,3,n,st.min(),st.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.position=e,this.inclusive=n}}function cE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Je.comparator(Je.fromName(o.referenceValue),n.key):r=iu(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function uE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ga(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n="asc"){this.field=e,this.dir=n}}function qR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XI=class{};class $n extends XI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WR(e,n,r):n==="array-contains"?new XR(e,r):n==="in"?new YR(e,r):n==="not-in"?new QR(e,r):n==="array-contains-any"?new ZR(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GR(e,r):new KR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(iu(n,this.value)):n!==null&&Ml(this.value)===Ml(n)&&this.matchesComparison(iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _a extends XI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _a(e,n)}matches(e){return YI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YI(t){return t.op==="and"}function QI(t){return HR(t)&&YI(t)}function HR(t){for(const e of t.filters)if(e instanceof _a)return!1;return!0}function Zy(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+au(t.value);if(QI(t))return t.filters.map(e=>Zy(e)).join(",");{const e=t.filters.map(n=>Zy(n)).join(",");return`${t.op}(${e})`}}function ZI(t,e){return t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.field.isEqual(i.field)&&Ga(r.value,i.value)}(t,e):t instanceof _a?function(r,i){return i instanceof _a&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,u)=>a&&ZI(o,i.filters[u]),!0):!1}(t,e):void it()}function JI(t){return t instanceof $n?function(n){return`${n.field.canonicalString()} ${n.op} ${au(n.value)}`}(t):t instanceof _a?function(n){return n.op.toString()+" {"+n.getFilters().map(JI).join(" ,")+"}"}(t):"Filter"}class WR extends $n{constructor(e,n,r){super(e,n,r),this.key=Je.fromName(r.referenceValue)}matches(e){const n=Je.comparator(e.key,this.key);return this.matchesComparison(n)}}class GR extends $n{constructor(e,n){super(e,"in",n),this.keys=e6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KR extends $n{constructor(e,n){super(e,"not-in",n),this.keys=e6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Je.fromName(r.referenceValue))}class XR extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gb(n)&&Bf(n.arrayValue,this.value)}}class YR extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bf(this.value.arrayValue,n)}}class QR extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bf(this.value.arrayValue,n)}}class ZR extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ue=null}}function dE(t,e=null,n=[],r=[],i=null,a=null,o=null){return new JR(t,e,n,r,i,a,o)}function Kb(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),m1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),e.ue=n}return e.ue}function Xb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uE(t.startAt,e.startAt)&&uE(t.endAt,e.endAt)}function Jy(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function e9(t,e,n,r,i,a,o,u){return new jh(t,e,n,r,i,a,o,u)}function Yb(t){return new jh(t)}function fE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t6(t){return t.collectionGroup!==null}function af(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new br(yr.comparator);return o.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new $p(a,r))}),n.has(yr.keyField().canonicalString())||e.ce.push(new $p(yr.keyField(),r))}return e.ce}function za(t){const e=ot(t);return e.le||(e.le=t9(e,af(t))),e.le}function t9(t,e){if(t.limitType==="F")return dE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new $p(i.field,a)});const n=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return dE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tv(t,e,n){return new jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function g1(t,e){return Xb(za(t),za(e))&&t.limitType===e.limitType}function n6(t){return`${Kb(za(t))}|lt:${t.limitType}`}function fc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JI(i)).join(", ")}]`),m1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>au(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>au(i)).join(",")),`Target(${r})`}(za(t))}; limitType=${t.limitType})`}function x1(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of af(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,f){const h=cE(o,u,f);return o.inclusive?h<=0:h<0}(r.startAt,af(r),i)||r.endAt&&!function(o,u,f){const h=cE(o,u,f);return o.inclusive?h>=0:h>0}(r.endAt,af(r),i))}(t,e)}function n9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r6(t){return(e,n)=>{let r=!1;for(const i of af(t)){const a=r9(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function r9(t,e,n){const r=t.field.isKeyField()?Je.comparator(e.key,n.key):function(a,o,u){const f=o.data.field(a),h=u.data.field(a);return f!==null&&h!==null?iu(f,h):it()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return WI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new En(Je.comparator);function Cs(){return i9}const i6=new En(Je.comparator);function zd(...t){let e=i6;for(const n of t)e=e.insert(n.key,n);return e}function a6(t){let e=i6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ml(){return sf()}function s6(){return sf()}function sf(){return new qu(t=>t.toString(),(t,e)=>t.isEqual(e))}const a9=new En(Je.comparator),s9=new br(Je.comparator);function bt(...t){let e=s9;for(const n of t)e=e.add(n);return e}const o9=new br(Ot);function l9(){return o9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(e)?"-0":e}}function o6(t){return{integerValue:""+t}}function c9(t,e){return FR(e)?o6(e):Qb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this._=void 0}}function u9(t,e,n){return t instanceof Vp?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Hb(a)&&(a=Wb(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Ff?c6(t,e):t instanceof $f?u6(t,e):function(i,a){const o=l6(i,a),u=hE(o)+hE(i.Pe);return Qy(o)&&Qy(i.Pe)?o6(u):Qb(i.serializer,u)}(t,e)}function d9(t,e,n){return t instanceof Ff?c6(t,e):t instanceof $f?u6(t,e):n}function l6(t,e){return t instanceof Up?function(r){return Qy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Vp extends y1{}class Ff extends y1{constructor(e){super(),this.elements=e}}function c6(t,e){const n=d6(e);for(const r of t.elements)n.some(i=>Ga(i,r))||n.push(r);return{arrayValue:{values:n}}}class $f extends y1{constructor(e){super(),this.elements=e}}function u6(t,e){let n=d6(e);for(const r of t.elements)n=n.filter(i=>!Ga(i,r));return{arrayValue:{values:n}}}class Up extends y1{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hE(t){return kn(t.integerValue||t.doubleValue)}function d6(t){return Gb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function f9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ff&&i instanceof Ff||r instanceof $f&&i instanceof $f?ru(r.elements,i.elements,Ga):r instanceof Up&&i instanceof Up?Ga(r.Pe,i.Pe):r instanceof Vp&&i instanceof Vp}(t.transform,e.transform)}class h9{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class v1{}function f6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new b1(t.key,zr.none()):new kh(t.key,t.data,zr.none());{const n=t.data,r=ni.empty();let i=new br(yr.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ko(t.key,r,new Ni(i.toArray()),zr.none())}}function p9(t,e,n){t instanceof kh?function(i,a,o){const u=i.value.clone(),f=mE(i.fieldTransforms,a,o.transformResults);u.setAll(f),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,a,o){if(!sp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=mE(i.fieldTransforms,a,o.transformResults),f=a.data;f.setAll(h6(i)),f.setAll(u),a.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function of(t,e,n,r){return t instanceof kh?function(a,o,u,f){if(!sp(a.precondition,o))return u;const h=a.value.clone(),x=gE(a.fieldTransforms,f,o);return h.setAll(x),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(a,o,u,f){if(!sp(a.precondition,o))return u;const h=gE(a.fieldTransforms,f,o),x=o.data;return x.setAll(h6(a)),x.setAll(h),o.convertToFoundDocument(o.version,x).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,o,u){return sp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function m9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=l6(r.transform,i||null);a!=null&&(n===null&&(n=ni.empty()),n.set(r.field,a))}return n||null}function pE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ru(r,i,(a,o)=>f9(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kh extends v1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends v1{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function h6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mE(t,e,n){const r=new Map;Ut(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,d9(o,u,n[i]))}return r}function gE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,u9(a,o,e))}return r}class b1 extends v1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g9 extends v1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&p9(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=of(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=of(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=s6();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const f=f6(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),bt())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(n,r)=>pE(n,r))&&ru(this.baseMutations,e.baseMutations,(n,r)=>pE(n,r))}}class Zb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length);let i=function(){return a9}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new Zb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,Et;function b9(t){switch(t){default:return it();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function p6(t){if(t===void 0)return Ts("GRPC error has no .code"),Ne.UNKNOWN;switch(t){case Rn.OK:return Ne.OK;case Rn.CANCELLED:return Ne.CANCELLED;case Rn.UNKNOWN:return Ne.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return Ne.INTERNAL;case Rn.UNAVAILABLE:return Ne.UNAVAILABLE;case Rn.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Rn.NOT_FOUND:return Ne.NOT_FOUND;case Rn.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Rn.ABORTED:return Ne.ABORTED;case Rn.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Rn.DATA_LOSS:return Ne.DATA_LOSS;default:return it()}}(Et=Rn||(Rn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=new _l([4294967295,4294967295],0);function xE(t){const e=w9().encode(t),n=new BI;return n.update(e),new Uint8Array(n.digest())}function yE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _l([n,r],0),new _l([i,a],0)]}class Jb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qd(`Invalid padding: ${n}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_l.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(_l.fromNumber(r)));return i.compare(A9)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xE(e),[r,i]=yE(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Jb(a,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const n=xE(e),[r,i]=yE(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new w1(st.min(),i,new En(Ot),Cs(),bt())}}class Mh{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mh(r,n,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class m6{constructor(e,n){this.targetId=e,this.me=n}}class g6{constructor(e,n,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vE{constructor(){this.fe=0,this.ge=wE(),this.pe=Ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=bt(),n=bt(),r=bt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:it()}}),new Mh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cs(),this.qe=bE(),this.Qe=new En(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:it()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Jy(a))if(r===0){const o=new Je(a.path);this.Ue(n,o,Pr.newNoDocument(o,st.min()))}else Ut(r===1);else{const o=this.Ye(n);if(o!==r){const u=this.Ze(e),f=u?this.Xe(u,e,o):1;if(f!==0){this.je(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=kl(r).toUint8Array()}catch(f){if(f instanceof GI)return nu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Jb(o,i,a)}catch(f){return nu(f instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const u=this.Je(o);if(u){if(a.current&&Jy(u.target)){const f=new Je(u.target.path);this.ke.get(f)!==null||this.it(o,f)||this.Ue(o,f,Pr.newNoDocument(f,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=bt();this.qe.forEach((a,o)=>{let u=!0;o.forEachWhile(f=>{const h=this.Je(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new w1(e,n,this.Qe,this.ke,r);return this.ke=Cs(),this.qe=bE(),this.Qe=new En(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new br(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bE(){return new En(Je.comparator)}function wE(){return new En(Je.comparator)}const E9={asc:"ASCENDING",desc:"DESCENDING"},S9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T9={and:"AND",or:"OR"};class C9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||m1(e)?e:{value:e}}function zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N9(t,e){return zp(t,e.toTimestamp())}function qa(t){return Ut(!!t),st.fromTimestamp(function(n){const r=Eo(n);return new er(r.seconds,r.nanos)}(t))}function ew(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=function(i){return new dn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function y6(t){const e=dn.fromString(t);return Ut(_6(e)),e}function iv(t,e){return ew(t.databaseId,e.path)}function fx(t,e){const n=y6(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Je(b6(n))}function v6(t,e){return ew(t.databaseId,e)}function I9(t){const e=y6(t);return e.length===4?dn.emptyPath():b6(e)}function av(t){return new dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b6(t){return Ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AE(t,e,n){return{name:iv(t,e),fields:n.value.mapValue.fields}}function O9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:it()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,x){return h.useProto3Json?(Ut(x===void 0||typeof x=="string"),Ar.fromBase64String(x||"")):(Ut(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Ar.fromUint8Array(x||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const x=h.code===void 0?Ne.UNKNOWN:p6(h.code);return new qe(x,h.message||"")}(o);n=new g6(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fx(t,r.document.name),a=qa(r.document.updateTime),o=r.document.createTime?qa(r.document.createTime):st.min(),u=new ni({mapValue:{fields:r.document.fields}}),f=Pr.newFoundDocument(i,a,o,u),h=r.targetIds||[],x=r.removedTargetIds||[];n=new op(h,x,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fx(t,r.document),a=r.readTime?qa(r.readTime):st.min(),o=Pr.newNoDocument(i,a),u=r.removedTargetIds||[];n=new op([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fx(t,r.document),a=r.removedTargetIds||[];n=new op([],a,i,null)}else{if(!("filter"in e))return it();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new v9(i,a),u=r.targetId;n=new m6(u,o)}}return n}function P9(t,e){let n;if(e instanceof kh)n={update:AE(t,e.key,e.value)};else if(e instanceof b1)n={delete:iv(t,e.key)};else if(e instanceof ko)n={update:AE(t,e.key,e.data),updateMask:$9(e.fieldMask)};else{if(!(e instanceof g9))return it();n={verify:iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const u=o.transform;if(u instanceof Vp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ff)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $f)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Up)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw it()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:N9(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:it()}(t,e.precondition)),n}function j9(t,e){return t&&t.length>0?(Ut(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?qa(i.updateTime):qa(a);return o.isEqual(st.min())&&(o=qa(a)),new h9(o,i.transformResults||[])}(n,e))):[]}function k9(t,e){return{documents:[v6(t,e.path)]}}function M9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=v6(t,i);const a=function(h){if(h.length!==0)return A6(_a.create(h,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(h){if(h.length!==0)return h.map(x=>function(w){return{field:hc(w.field),direction:L9(w.dir)}}(x))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=nv(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function D9(t){let e=I9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1);const x=n.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let a=[];n.where&&(a=function(y){const w=w6(y);return w instanceof _a&&QI(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(y){return y.map(w=>function(I){return new $p(pc(I.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let u=null;n.limit&&(u=function(y){let w;return w=typeof y=="object"?y.value:y,m1(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(y){const w=!!y.before,_=y.values||[];return new Fp(_,w)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const w=!y.before,_=y.values||[];return new Fp(_,w)}(n.endAt)),e9(e,i,o,a,u,"F",f,h)}function R9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pc(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pc(n.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pc(n.unaryFilter.field);return $n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pc(n.unaryFilter.field);return $n.create(o,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(t):t.fieldFilter!==void 0?function(n){return $n.create(pc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _a.create(n.compositeFilter.filters.map(r=>w6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it()}}(n.compositeFilter.op))}(t):it()}function L9(t){return E9[t]}function B9(t){return S9[t]}function F9(t){return T9[t]}function hc(t){return{fieldPath:t.canonicalString()}}function pc(t){return yr.fromServerFormat(t.fieldPath)}function A6(t){return t instanceof $n?function(n){if(n.op==="=="){if(lE(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lE(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(n.field),op:B9(n.op),value:n.value}}}(t):t instanceof _a?function(n){const r=n.getFilters().map(i=>A6(i));return r.length===1?r[0]:{compositeFilter:{op:F9(n.op),filters:r}}}(t):it()}function $9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,i,a=st.min(),o=st.min(),u=Ar.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.ct=e}}function U9(t){const e=D9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.un=new q9}addToCollectionParentIndex(e,n){return this.un.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(_o.min())}updateCollectionGroup(e,n,r){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class q9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new br(dn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new br(dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new su(0)}static kn(){return new su(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.changes=new qu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&of(r.mutation,i,Ni.empty(),er.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,bt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=bt()){const i=ml();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=zd();return a.forEach((u,f)=>{o=o.insert(u,f.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ml();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,bt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let a=Cs();const o=sf(),u=function(){return sf()}();return n.forEach((f,h)=>{const x=r.get(h.key);i.has(h.key)&&(x===void 0||x.mutation instanceof ko)?a=a.insert(h.key,h):x!==void 0?(o.set(h.key,x.mutation.getFieldMask()),of(x.mutation,h,x.mutation.getFieldMask(),er.now())):o.set(h.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,x)=>o.set(h,x)),n.forEach((h,x)=>{var y;return u.set(h,new W9(x,(y=o.get(h))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,n){const r=sf();let i=new En((o,u)=>o-u),a=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(f=>{const h=n.get(f);if(h===null)return;let x=r.get(f)||Ni.empty();x=u.applyToLocalView(h,x),r.set(f,x);const y=(i.get(u.batchId)||bt()).add(f);i=i.insert(u.batchId,y)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,x=f.value,y=s6();x.forEach(w=>{if(!a.has(w)){const _=f6(n.get(w),r.get(w));_!==null&&y.set(w,_),a=a.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Pe.resolve(ml());let u=-1,f=a;return o.next(h=>Pe.forEach(h,(x,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),a.get(x)?Pe.resolve():this.remoteDocumentCache.getEntry(e,x).next(w=>{f=f.insert(x,w)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,bt())).next(x=>({batchId:u,changes:a6(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Je(n)).next(r=>{let i=zd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=zd();return this.indexManager.getCollectionParents(e,a).next(u=>Pe.forEach(u,f=>{const h=function(y,w){return new jh(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(x=>{x.forEach((y,w)=>{o=o.insert(y,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((f,h)=>{const x=h.getKey();o.get(x)===null&&(o=o.insert(x,Pr.newInvalidDocument(x)))});let u=zd();return o.forEach((f,h)=>{const x=a.get(f);x!==void 0&&of(x.mutation,h,Ni.empty(),er.now()),x1(n,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qa(i.createTime)}}(n)),Pe.resolve()}getNamedQuery(e,n){return Pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:U9(i.bundledQuery),readTime:qa(i.readTime)}}(n)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.overlays=new En(Je.comparator),this.Ir=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ml();return Pe.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),Pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Pe.resolve()}getOverlaysForCollection(e,n,r){const i=ml(),a=n.length+1,o=new Je(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new En((h,x)=>h-x);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let x=a.get(h.largestBatchId);x===null&&(x=ml(),a=a.insert(h.largestBatchId,x)),x.set(h.getKey(),h)}}const u=ml(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,x)=>u.set(h,x)),!(u.size()>=i)););return Pe.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y9(n,r));let a=this.Ir.get(n);a===void 0&&(a=bt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Tr=new br(sr.Er),this.dr=new br(sr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new sr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new sr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Je(new dn([])),r=new sr(n,e),i=new sr(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Je(new dn([])),r=new sr(n,e),i=new sr(n,e+1);let a=bt();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new sr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Je.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new br(sr.Er)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new x9(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.br=this.br.add(new sr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Pe.resolve(o)}lookupMutationBatch(e,n){return Pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),i=new sr(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const u=this.Dr(o.wr);a.push(u)}),Pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(Ot);return n.forEach(i=>{const a=new sr(i,0),o=new sr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],u=>{r=r.add(u.wr)})}),Pe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Je.isDocumentKey(a)||(a=a.child(""));const o=new sr(new Je(a),0);let u=new br(Ot);return this.br.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.wr)),!0)},o),Pe.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Pe.forEach(n.mutations,i=>{const a=new sr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new sr(n,0),i=this.br.firstAfterOrEqual(r);return Pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.Mr=e,this.docs=function(){return new En(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Pe.resolve(r?r.document.mutableCopy():Pr.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Pr.newInvalidDocument(i))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Cs();const o=n.path,u=new Je(o.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:x}}=f.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||DR(MR(x),r)<=0||(i.has(x.key)||x1(n,x))&&(a=a.insert(x.key,x.mutableCopy()))}return Pe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){it()}Or(e,n){return Pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new J9(this)}getSize(e){return Pe.resolve(this.size)}}class J9 extends H9{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.persistence=e,this.Nr=new qu(n=>Kb(n),Xb),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tw,this.targetCount=0,this.kr=su.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new su(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.Kn(n),Pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Pe.waitFor(a).next(()=>i)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Pe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Pe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Pe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Pe.resolve(r)}containsKey(e,n){return Pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qb(0),this.Kr=!1,this.Kr=!0,this.$r=new Y9,this.referenceDelegate=e(this),this.Ur=new e7(this),this.indexManager=new z9,this.remoteDocumentCache=function(i){return new Z9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new V9(n),this.Gr=new K9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Q9(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new n7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return Pe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class n7 extends LR{constructor(e){super(),this.currentSequenceNumber=e}}class nw{constructor(e){this.persistence=e,this.Jr=new tw,this.Yr=null}static Zr(e){return new nw(e)}get Xr(){if(this.Yr)return this.Yr;throw it()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Pe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Xr,r=>{const i=Je.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Pe.or([()=>Pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=bt(),i=bt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new rw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lD()?8:BR(sD())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new r7;return this.Xi(e,n,o).next(u=>{if(a.result=u,this.zi)return this.es(e,n,o,u.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Td()<=Nt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",fc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Pe.resolve()):(Td()<=Nt.DEBUG&&Xe("QueryEngine","Query:",fc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Td()<=Nt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",fc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,za(n))):Pe.resolve())}Yi(e,n){if(fE(n))return Pe.resolve(null);let r=za(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tv(n,null,"F"),r=za(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=bt(...a);return this.Ji.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.ts(n,u);return this.ns(n,h,o,f.readTime)?this.Yi(e,tv(n,null,"F")):this.rs(e,h,n,f)}))})))}Zi(e,n,r,i){return fE(n)||i.isEqual(st.min())?Pe.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?Pe.resolve(null):(Td()<=Nt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fc(n)),this.rs(e,o,n,kR(i,-1)).next(u=>u))})}ts(e,n){let r=new br(r6(e));return n.forEach((i,a)=>{x1(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Td()<=Nt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",fc(n)),this.Ji.getDocumentsMatchingQuery(e,n,_o.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new En(Ot),this._s=new qu(a=>Kb(a),Xb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G9(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function s7(t,e,n,r){return new a7(t,e,n,r)}async function E6(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],u=[];let f=bt();for(const h of i){o.push(h.batchId);for(const x of h.mutations)f=f.add(x.key)}for(const h of a){u.push(h.batchId);for(const x of h.mutations)f=f.add(x.key)}return n.localDocuments.getDocuments(r,f).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:u}))})})}function o7(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,f,h,x){const y=h.batch,w=y.keys();let _=Pe.resolve();return w.forEach(I=>{_=_.next(()=>x.getEntry(f,I)).next(N=>{const M=h.docVersions.get(I);Ut(M!==null),N.version.compareTo(M)<0&&(y.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),x.addEntry(N)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(f,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=bt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function S6(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function l7(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((x,y)=>{const w=i.get(y);if(!w)return;u.push(n.Ur.removeMatchingKeys(a,x.removedDocuments,y).next(()=>n.Ur.addMatchingKeys(a,x.addedDocuments,y)));let _=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Ar.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):x.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(x.resumeToken,r)),i=i.insert(y,_),function(N,M,P){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,_,x)&&u.push(n.Ur.updateTargetData(a,_))});let f=Cs(),h=bt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,x))}),u.push(c7(a,o,e.documentUpdates).next(x=>{f=x.Ps,h=x.Is})),!r.isEqual(st.min())){const x=n.Ur.getLastRemoteSnapshotVersion(a).next(y=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(x)}return Pe.waitFor(u).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(n.os=i,a))}function c7(t,e,n){let r=bt(),i=bt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Cs();return n.forEach((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(st.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):Xe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{Ps:o,Is:i}})}function u7(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d7(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,Pe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new to(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function sv(t,e,n){const r=ot(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ph(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function _E(t,e,n){const r=ot(t);let i=st.min(),a=bt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(f,h,x){const y=ot(f),w=y._s.get(x);return w!==void 0?Pe.resolve(y.os.get(w)):y.Ur.getTargetData(h,x)}(r,o,za(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,u.targetId).next(f=>{a=f})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?a:bt())).next(u=>(f7(r,n9(e),u),{documents:u,Ts:a})))}function f7(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class EE{constructor(){this.activeTargetIds=l9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h7{constructor(){this.so=new EE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new EE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0=null;function hx(){return C0===null?C0=function(){return 268435456+Math.round(2147483648*Math.random())}():C0++,"0x"+C0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="WebChannelConnection";class x7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const u=hx(),f=this.xo(n,r.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,o),this.No(n,f,h,i).then(x=>(Xe("RestConnection",`Received RPC '${n}' ${u}: `,x),x),x=>{throw nu("RestConnection",`RPC '${n}' ${u} failed with error: `,x,"url: ",f,"request:",i),x})}Lo(n,r,i,a,o,u){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=m7[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=hx();return new Promise((o,u)=>{const f=new FI;f.setWithCredentials(!0),f.listenOnce($I.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ip.NO_ERROR:const x=f.getResponseJson();Xe(Cr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(x)),o(x);break;case ip.TIMEOUT:Xe(Cr,`RPC '${e}' ${a} timed out`),u(new qe(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const y=f.getStatus();if(Xe(Cr,`RPC '${e}' ${a} failed with status:`,y,"response text:",f.getResponseText()),y>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const _=w==null?void 0:w.error;if(_&&_.status&&_.message){const I=function(M){const P=M.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(P)>=0?P:Ne.UNKNOWN}(_.status);u(new qe(I,_.message))}else u(new qe(Ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new qe(Ne.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Xe(Cr,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);Xe(Cr,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=hx(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zI(),u=UI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const x=a.join("");Xe(Cr,`Creating RPC '${e}' stream ${i}: ${x}`,f);const y=o.createWebChannel(x,f);let w=!1,_=!1;const I=new g7({Io:M=>{_?Xe(Cr,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(w||(Xe(Cr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),Xe(Cr,`RPC '${e}' stream ${i} sending:`,M),y.send(M))},To:()=>y.close()}),N=(M,P,S)=>{M.listen(P,C=>{try{S(C)}catch(V){setTimeout(()=>{throw V},0)}})};return N(y,Ud.EventType.OPEN,()=>{_||(Xe(Cr,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),N(y,Ud.EventType.CLOSE,()=>{_||(_=!0,Xe(Cr,`RPC '${e}' stream ${i} transport closed`),I.So())}),N(y,Ud.EventType.ERROR,M=>{_||(_=!0,nu(Cr,`RPC '${e}' stream ${i} transport errored:`,M),I.So(new qe(Ne.UNAVAILABLE,"The operation could not be completed")))}),N(y,Ud.EventType.MESSAGE,M=>{var P;if(!_){const S=M.data[0];Ut(!!S);const C=S,V=C.error||((P=C[0])===null||P===void 0?void 0:P.error);if(V){Xe(Cr,`RPC '${e}' stream ${i} received error:`,V);const k=V.status;let R=function(L){const E=Rn[L];if(E!==void 0)return p6(E)}(k),j=V.message;R===void 0&&(R=Ne.INTERNAL,j="Unknown error status: "+k+" with message "+V.message),_=!0,I.So(new qe(R,j)),y.close()}else Xe(Cr,`RPC '${e}' stream ${i} received:`,S),I.bo(S)}}),N(u,VI.STAT_EVENT,M=>{M.stat===Xy.PROXY?Xe(Cr,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Xy.NOPROXY&&Xe(Cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function px(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){return new C9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,i,a,o,u,f){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new T6(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new qe(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y7 extends C6{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=O9(this.serializer,e),r=function(a){if(!("targetChange"in a))return st.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?qa(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=av(this.serializer),n.addTarget=function(a,o){let u;const f=o.target;if(u=Jy(f)?{documents:k9(a,f)}:{query:M9(a,f)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=x6(a,o.resumeToken);const h=nv(a,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(st.min())>0){u.readTime=zp(a,o.snapshotVersion.toTimestamp());const h=nv(a,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=R9(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=av(this.serializer),n.removeTarget=e,this.a_(n)}}class v7 extends C6{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=j9(e.writeResults,e.commitTime),r=qa(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=av(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>P9(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new qe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,rv(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new qe(Ne.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(e,rv(n,r),i,o,u,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Ne.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class w7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ts(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Gl(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(f){const h=ot(f);h.L_.add(4),await Dh(h),h.q_.set("Unknown"),h.L_.delete(4),await _1(h)}(this))})}),this.q_=new w7(r,i)}}async function _1(t){if(Gl(t))for(const e of t.B_)await e(!0)}async function Dh(t){for(const e of t.B_)await e(!1)}function N6(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ow(n)?sw(n):Hu(n).r_()&&aw(n,e))}function iw(t,e){const n=ot(t),r=Hu(n);n.N_.delete(e),r.r_()&&I6(n,e),n.N_.size===0&&(r.r_()?r.o_():Gl(n)&&n.q_.set("Unknown"))}function aw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hu(t).A_(e)}function I6(t,e){t.Q_.xe(e),Hu(t).R_(e)}function sw(t){t.Q_=new _9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Hu(t).start(),t.q_.v_()}function ow(t){return Gl(t)&&!Hu(t).n_()&&t.N_.size>0}function Gl(t){return ot(t).L_.size===0}function O6(t){t.Q_=void 0}async function _7(t){t.q_.set("Online")}async function E7(t){t.N_.forEach((e,n)=>{aw(t,e)})}async function S7(t,e){O6(t),ow(t)?(t.q_.M_(e),sw(t)):t.q_.set("Unknown")}async function T7(t,e,n){if(t.q_.set("Online"),e instanceof g6&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(t,r)}else if(e instanceof op?t.Q_.Ke(e):e instanceof m6?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await S6(t.localStore);n.compareTo(r)>=0&&await function(a,o){const u=a.Q_.rt(o);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const x=a.N_.get(h);x&&a.N_.set(h,x.withResumeToken(f.resumeToken,o))}}),u.targetMismatches.forEach((f,h)=>{const x=a.N_.get(f);if(!x)return;a.N_.set(f,x.withResumeToken(Ar.EMPTY_BYTE_STRING,x.snapshotVersion)),I6(a,f);const y=new to(x.target,f,h,x.sequenceNumber);aw(a,y)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await qp(t,r)}}async function qp(t,e,n){if(!Ph(e))throw e;t.L_.add(1),await Dh(t),t.q_.set("Offline"),n||(n=()=>S6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await _1(t)})}function P6(t,e){return e().catch(n=>qp(t,n,e))}async function E1(t){const e=ot(t),n=So(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;C7(e);)try{const i=await u7(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,N7(e,i)}catch(i){await qp(e,i)}j6(e)&&k6(e)}function C7(t){return Gl(t)&&t.O_.length<10}function N7(t,e){t.O_.push(e);const n=So(t);n.r_()&&n.V_&&n.m_(e.mutations)}function j6(t){return Gl(t)&&!So(t).n_()&&t.O_.length>0}function k6(t){So(t).start()}async function I7(t){So(t).p_()}async function O7(t){const e=So(t);for(const n of t.O_)e.m_(n.mutations)}async function P7(t,e,n){const r=t.O_.shift(),i=Zb.from(r,e,n);await P6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await E1(t)}async function j7(t,e){e&&So(t).V_&&await async function(r,i){if(function(o){return b9(o)&&o!==Ne.ABORTED}(i.code)){const a=r.O_.shift();So(r).s_(),await P6(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await E1(r)}}(t,e),j6(t)&&k6(t)}async function TE(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=Gl(n);n.L_.add(3),await Dh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await _1(n)}async function k7(t,e){const n=ot(t);e?(n.L_.delete(2),await _1(n)):e||(n.L_.add(2),await Dh(n),n.q_.set("Unknown"))}function Hu(t){return t.K_||(t.K_=function(n,r,i){const a=ot(n);return a.w_(),new y7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_7.bind(null,t),Ro:E7.bind(null,t),mo:S7.bind(null,t),d_:T7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ow(t)?sw(t):t.q_.set("Unknown")):(await t.K_.stop(),O6(t))})),t.K_}function So(t){return t.U_||(t.U_=function(n,r,i){const a=ot(n);return a.w_(),new v7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:I7.bind(null,t),mo:j7.bind(null,t),f_:O7.bind(null,t),g_:P7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await E1(t)):(await t.U_.stop(),t.O_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new lw(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cw(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),Ph(t))return new qe(Ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Je.comparator(n.key,r.key):(n,r)=>Je.comparator(n.key,r.key),this.keyedMap=zd(),this.sortedSet=new En(this.comparator)}static emptySet(e){return new qc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.W_=new En(Je.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):it():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ou{constructor(e,n,r,i,a,o,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new ou(e,n,qc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class D7{constructor(){this.queries=NE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),a=i.queries;i.queries=NE(),a.forEach((o,u)=>{for(const f of u.j_)f.onError(r)})})(this,new qe(Ne.ABORTED,"Firestore shutting down"))}}function NE(){return new qu(t=>n6(t),g1)}async function M6(t,e){const n=ot(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new M7,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=cw(o,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&uw(n)}async function D6(t,e){const n=ot(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R7(t,e){const n=ot(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.j_)u.X_(i)&&(r=!0);o.z_=i}}r&&uw(n)}function L7(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function uw(t){t.Y_.forEach(e=>{e.next()})}var ov,IE;(IE=ov||(ov={})).ea="default",IE.Cache="cache";class R6{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ov.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.key=e}}class B6{constructor(e){this.key=e}}class B7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=bt(),this.mutatedKeys=bt(),this.Aa=r6(e),this.Ra=new qc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new CE,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,y)=>{const w=i.get(x),_=x1(this.query,y)?y:null,I=!!w&&this.mutatedKeys.has(w.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let M=!1;w&&_?w.data.isEqual(_.data)?I!==N&&(r.track({type:3,doc:_}),M=!0):this.ga(w,_)||(r.track({type:2,doc:_}),M=!0,(f&&this.Aa(_,f)>0||h&&this.Aa(_,h)<0)&&(u=!0)):!w&&_?(r.track({type:0,doc:_}),M=!0):w&&!_&&(r.track({type:1,doc:w}),M=!0,(f||h)&&(u=!0)),M&&(_?(o=o.add(_),a=N?a.add(x):a.delete(x)):(o=o.delete(x),a=a.delete(x)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const x=this.query.limitType==="F"?o.last():o.first();o=o.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{Ra:o,fa:r,ns:u,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((x,y)=>function(_,I){const N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return N(_)-N(I)}(x.type,y.type)||this.Aa(x.doc,y.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],f=this.da.size===0&&this.current&&!i?1:0,h=f!==this.Ea;return this.Ea=f,o.length!==0||h?{snapshot:new ou(this.query,e.Ra,a,o,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new CE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=bt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new B6(r))}),this.da.forEach(r=>{e.has(r)||n.push(new L6(r))}),n}ba(e){this.Ta=e.Ts,this.da=bt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ou.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class F7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $7{constructor(e){this.key=e,this.va=!1}}class V7{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new qu(u=>n6(u),g1),this.Ma=new Map,this.xa=new Set,this.Oa=new En(Je.comparator),this.Na=new Map,this.La=new tw,this.Ba={},this.ka=new Map,this.qa=su.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function U7(t,e,n=!0){const r=q6(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await F6(r,e,n,!0),i}async function z7(t,e){const n=q6(t);await F6(n,e,!0,!1)}async function F6(t,e,n,r){const i=await d7(t.localStore,za(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await q7(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&N6(t.remoteStore,i),u}async function q7(t,e,n,r,i){t.Ka=(y,w,_)=>async function(N,M,P,S){let C=M.view.ma(P);C.ns&&(C=await _E(N.localStore,M.query,!1).then(({documents:j})=>M.view.ma(j,C)));const V=S&&S.targetChanges.get(M.targetId),k=S&&S.targetMismatches.get(M.targetId)!=null,R=M.view.applyChanges(C,N.isPrimaryClient,V,k);return PE(N,M.targetId,R.wa),R.snapshot}(t,y,w,_);const a=await _E(t.localStore,e,!0),o=new B7(e,a.Ts),u=o.ma(a.documents),f=Mh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,f);PE(t,n,h.wa);const x=new F7(e,n,o);return t.Fa.set(e,x),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function H7(t,e,n){const r=ot(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!g1(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iw(r.remoteStore,i.targetId),lv(r,i.targetId)}).catch(Oh)):(lv(r,i.targetId),await sv(r.localStore,i.targetId,!0))}async function W7(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iw(n.remoteStore,r.targetId))}async function G7(t,e,n){const r=eL(t);try{const i=await function(o,u){const f=ot(o),h=er.now(),x=u.reduce((_,I)=>_.add(I.key),bt());let y,w;return f.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=Cs(),N=bt();return f.cs.getEntries(_,x).next(M=>{I=M,I.forEach((P,S)=>{S.isValidDocument()||(N=N.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(_,I)).next(M=>{y=M;const P=[];for(const S of u){const C=m9(S,y.get(S.key).overlayedDocument);C!=null&&P.push(new ko(S.key,C,KI(C.value.mapValue),zr.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,P,u)}).next(M=>{w=M;const P=M.applyToLocalDocumentSet(y,N);return f.documentOverlayCache.saveOverlays(_,M.batchId,P)})}).then(()=>({batchId:w.batchId,changes:a6(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,f){let h=o.Ba[o.currentUser.toKey()];h||(h=new En(Ot)),h=h.insert(u,f),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await Rh(r,i.changes),await E1(r.remoteStore)}catch(i){const a=cw(i,"Failed to persist write");n.reject(a)}}async function $6(t,e){const n=ot(t);try{const r=await l7(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ut(o.va):i.removedDocuments.size>0&&(Ut(o.va),o.va=!1))}),await Rh(n,r,e)}catch(r){await Oh(r)}}function OE(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const u=o.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const f=ot(o);f.onlineState=u;let h=!1;f.queries.forEach((x,y)=>{for(const w of y.j_)w.Z_(u)&&(h=!0)}),h&&uw(f)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K7(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new En(Je.comparator);o=o.insert(a,Pr.newNoDocument(a,st.min()));const u=bt().add(a),f=new w1(st.min(),new Map,new En(Ot),o,u);await $6(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),dw(r)}else await sv(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(Oh)}async function X7(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await o7(n.localStore,e);U6(n,r,null),V6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rh(n,i)}catch(i){await Oh(i)}}async function Y7(t,e,n){const r=ot(t);try{const i=await function(o,u){const f=ot(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let x;return f.mutationQueue.lookupMutationBatch(h,u).next(y=>(Ut(y!==null),x=y.keys(),f.mutationQueue.removeMutationBatch(h,y))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,x,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,x)).next(()=>f.localDocuments.getDocuments(h,x))})}(r.localStore,e);U6(r,e,n),V6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rh(r,i)}catch(i){await Oh(i)}}function V6(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function U6(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||z6(t,r)})}function z6(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(iw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),dw(t))}function PE(t,e,n){for(const r of n)r instanceof L6?(t.La.addReference(r.key,e),Q7(t,r)):r instanceof B6?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||z6(t,r.key)):it()}function Q7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),dw(t))}function dw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Je(dn.fromString(e)),r=t.qa.next();t.Na.set(r,new $7(n)),t.Oa=t.Oa.insert(n,r),N6(t.remoteStore,new to(za(Yb(n.path)),r,"TargetPurposeLimboResolution",qb.oe))}}async function Rh(t,e,n){const r=ot(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((u,f)=>{o.push(r.Ka(f,e,n).then(h=>{var x;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(x=n==null?void 0:n.targetChanges.get(f.targetId))===null||x===void 0?void 0:x.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(h){i.push(h);const y=rw.Wi(f.targetId,h);a.push(y)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(f,h){const x=ot(f);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Pe.forEach(h,w=>Pe.forEach(w.$i,_=>x.persistence.referenceDelegate.addReference(y,w.targetId,_)).next(()=>Pe.forEach(w.Ui,_=>x.persistence.referenceDelegate.removeReference(y,w.targetId,_)))))}catch(y){if(!Ph(y))throw y;Xe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const w=y.targetId;if(!y.fromCache){const _=x.os.get(w),I=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(I);x.os=x.os.insert(w,N)}}}(r.localStore,a))}async function Z7(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=await E6(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(u=>{u.forEach(f=>{f.reject(new qe(Ne.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rh(n,r.hs)}}function J7(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return bt().add(r.key);{let i=bt();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const u=n.Fa.get(o);i=i.unionWith(u.view.Va)}return i}}function q6(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K7.bind(null,e),e.Ca.d_=R7.bind(null,e.eventManager),e.Ca.$a=L7.bind(null,e.eventManager),e}function eL(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y7.bind(null,e),e}class Hp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=A1(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return s7(this.persistence,new i7,e.initialUser,this.serializer)}Ga(e){return new t7(nw.Zr,this.serializer)}Wa(e){return new h7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hp.provider={build:()=>new Hp};class cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z7.bind(null,this.syncEngine),await k7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D7}()}createDatastore(e){const n=A1(e.databaseInfo.databaseId),r=function(a){return new x7(a)}(e.databaseInfo);return function(a,o,u,f){return new b7(a,o,u,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,u){return new A7(r,i,a,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>OE(this.syncEngine,n,0),function(){return SE.D()?new SE:new p7}())}createSyncEngine(e,n){return function(i,a,o,u,f,h,x){const y=new V7(i,a,o,u,f,h);return x&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ot(i);Xe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Dh(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cv.provider={build:()=>new cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ir.UNAUTHENTICATED,this.clientId=HI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mx(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await E6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nL(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>TE(e.remoteStore,i)),t._onlineComponents=e}async function nL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await mx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ne.FAILED_PRECONDITION||i.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;nu("Error using user provided cache. Falling back to memory cache: "+n),await mx(t,new Hp)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await mx(t,new Hp);return t._offlineComponents}async function W6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await jE(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await jE(t,new cv))),t._onlineComponents}function rL(t){return W6(t).then(e=>e.syncEngine)}async function G6(t){const e=await W6(t),n=e.eventManager;return n.onListen=U7.bind(null,e.syncEngine),n.onUnlisten=H7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W7.bind(null,e.syncEngine),n}function iL(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,u,f,h){const x=new H6({next:w=>{x.Za(),o.enqueueAndForget(()=>D6(a,y));const _=w.docs.has(u);!_&&w.fromCache?h.reject(new qe(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&f&&f.source==="server"?h.reject(new qe(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),y=new R6(Yb(u.path),x,{includeMetadataChanges:!0,_a:!0});return M6(a,y)}(await G6(t),t.asyncQueue,e,n,r)),r.promise}function aL(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,u,f,h){const x=new H6({next:w=>{x.Za(),o.enqueueAndForget(()=>D6(a,y)),w.fromCache&&f.source==="server"?h.reject(new qe(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),y=new R6(u,x,{includeMetadataChanges:!0,_a:!0});return M6(a,y)}(await G6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e,n){if(!n)throw new qe(Ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sL(t,e,n,r){if(e===!0&&r===!0)throw new qe(Ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ME(t){if(!Je.isDocumentKey(t))throw new qe(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DE(t){if(Je.isDocumentKey(t))throw new qe(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it()}function Ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S1(t);throw new qe(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new qe(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new qe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new qe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new qe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ER;switch(r.type){case"firstParty":return new NR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kE.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),kE.delete(n),r.terminate())}(this),Promise.resolve()}}function oL(t,e,n,r={}){var i;const a=(t=Ji(t,T1))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Ir.MOCK_USER;else{u=aD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new qe(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ir(h)}t._authCredentials=new SR(new qI(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wu(this.firestore,e,this._query)}}class qr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qr(this.firestore,e,this._key)}}class yo extends Wu{constructor(e,n,r){super(e,n,Yb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new Je(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function dt(t,e,...n){if(t=Aa(t),X6("collection","path",e),t instanceof T1){const r=dn.fromString(e,...n);return DE(r),new yo(t,null,r)}{if(!(t instanceof qr||t instanceof yo))throw new qe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dn.fromString(e,...n));return DE(r),new yo(t.firestore,null,r)}}function jt(t,e,...n){if(t=Aa(t),arguments.length===1&&(e=HI.newId()),X6("doc","path",e),t instanceof T1){const r=dn.fromString(e,...n);return ME(r),new qr(t,null,new Je(r))}{if(!(t instanceof qr||t instanceof yo))throw new qe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dn.fromString(e,...n));return ME(r),new qr(t.firestore,t instanceof yo?t.converter:null,new Je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new T6(this,"async_queue_retry"),this.Vu=()=>{const r=px();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=px();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=px();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new xs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ph(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw Ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=lw.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&it()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Mo extends T1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new LE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function lL(t,e){const n=typeof t=="object"?t:pR(),r=typeof t=="string"?t:"(default)",i=uR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=rD("firestore");a&&oL(i,...a)}return i}function C1(t){if(t._terminated)throw new qe(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cL(t),t._firestoreClient}function cL(t){var e,n,r;const i=t._freezeSettings(),a=function(u,f,h,x){return new VR(u,f,h,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,K6(x.experimentalLongPollingOptions),x.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new tL(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(Ar.fromBase64String(e))}catch(n){throw new qe(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lu(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=/^__.*__$/;class dL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new kh(e,this.data,n,this.fieldTransforms)}}class Y6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Q6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class mw{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Q6(this.Cu)&&uL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class fL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||A1(e)}Qu(e,n,r,i=!1){return new mw({Cu:e,methodName:n,qu:r,path:yr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bh(t){const e=t._freezeSettings(),n=A1(t._databaseId);return new fL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gw(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);xw("Data must be an object, but it was:",o,r);const u=eO(r,o);let f,h;if(a.merge)f=new Ni(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const x=[];for(const y of a.mergeFields){const w=uv(e,y,n);if(!o.contains(w))throw new qe(Ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nO(x,w)||x.push(w)}f=new Ni(x),h=o.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,h=o.fieldTransforms;return new dL(new ni(u),f,h)}class N1 extends fw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof N1}}function Z6(t,e,n,r){const i=t.Qu(1,e,n);xw("Data must be an object, but it was:",i,r);const a=[],o=ni.empty();Wl(r,(f,h)=>{const x=yw(e,f,n);h=Aa(h);const y=i.Nu(x);if(h instanceof N1)a.push(x);else{const w=Fh(h,y);w!=null&&(a.push(x),o.set(x,w))}});const u=new Ni(a);return new Y6(o,u,i.fieldTransforms)}function J6(t,e,n,r,i,a){const o=t.Qu(1,e,n),u=[uv(e,r,n)],f=[i];if(a.length%2!=0)throw new qe(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)u.push(uv(e,a[w])),f.push(a[w+1]);const h=[],x=ni.empty();for(let w=u.length-1;w>=0;--w)if(!nO(h,u[w])){const _=u[w];let I=f[w];I=Aa(I);const N=o.Nu(_);if(I instanceof N1)h.push(_);else{const M=Fh(I,N);M!=null&&(h.push(_),x.set(_,M))}}const y=new Ni(h);return new Y6(x,y,o.fieldTransforms)}function hL(t,e,n,r=!1){return Fh(n,t.Qu(r?4:3,e))}function Fh(t,e){if(tO(t=Aa(t)))return xw("Unsupported field value:",e,t),eO(t,e);if(t instanceof fw)return function(r,i){if(!Q6(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const u of r){let f=Fh(u,i.Lu(o));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Aa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=er.fromDate(r);return{timestampValue:zp(i.serializer,a)}}if(r instanceof er){const a=new er(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(i.serializer,a)}}if(r instanceof hw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lu)return{bytesValue:x6(i.serializer,r._byteString)};if(r instanceof qr){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ew(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pw)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw u.Bu("VectorValues must only contain numeric values.");return Qb(u.serializer,f)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${S1(r)}`)}(t,e)}function eO(t,e){const n={};return WI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(t,(r,i)=>{const a=Fh(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function tO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof hw||t instanceof lu||t instanceof qr||t instanceof fw||t instanceof pw)}function xw(t,e,n){if(!tO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=S1(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function uv(t,e,n){if((e=Aa(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return yw(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const pL=new RegExp("[~\\*/\\[\\]]");function yw(t,e,n){if(e.search(pL)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lh(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||o)&&(f+=" (found",a&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new qe(Ne.INVALID_ARGUMENT,u+t+f)}function nO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mL extends rO{data(){return super.data()}}function vw(t,e){return typeof e=="string"?yw(t,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bw{}class xL extends bw{}function Yn(t,e,...n){let r=[];e instanceof bw&&r.push(e),r=r.concat(n),function(a){const o=a.filter(f=>f instanceof ww).length,u=a.filter(f=>f instanceof I1).length;if(o>1||o>0&&u>0)throw new qe(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class I1 extends xL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new I1(e,n,r)}_apply(e){const n=this._parse(e);return iO(e._query,n),new Wu(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=Bh(e.firestore);return function(a,o,u,f,h,x,y){let w;if(h.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new qe(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){FE(y,x);const _=[];for(const I of y)_.push(BE(f,a,I));w={arrayValue:{values:_}}}else w=BE(f,a,y)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||FE(y,x),w=hL(u,o,y,x==="in"||x==="not-in");return $n.create(h,x,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bn(t,e,n){const r=e,i=vw("where",t);return I1._create(i,r,n)}class ww extends bw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ww(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_a.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const u=a.getFlattenedFilters();for(const f of u)iO(o,f),o=ev(o,f)}(e._query,n),new Wu(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BE(t,e,n){if(typeof(n=Aa(n))=="string"){if(n==="")throw new qe(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t6(e)&&n.indexOf("/")!==-1)throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dn.fromString(n));if(!Je.isDocumentKey(r))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sE(t,new Je(r))}if(n instanceof qr)return sE(t,n._key);throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${S1(n)}.`)}function FE(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iO(t,e){const n=function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new qe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yL{convertValue(e,n="none"){switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw it()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wl(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>kn(o.doubleValue));return new pw(a)}convertGeoPoint(e){return new hw(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rf(e));default:return null}}convertTimestamp(e){const n=Eo(e);return new er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dn.fromString(e);Ut(_6(r));const i=new Lf(r.get(1),r.get(3)),a=new Je(r.popFirst(5));return i.isEqual(n)||Ts(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aO extends rO{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lp extends aO{data(e={}){return super.data(e)}}class vL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lp(this._firestore,this._userDataWriter,r.key,r,new Hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const f=new lp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Hd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new lp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Hd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,x=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),x=o.indexOf(u.doc.key)),{type:bL(u.type),doc:f,oldIndex:h,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){t=Ji(t,qr);const e=Ji(t.firestore,Mo);return iL(C1(e),t._key).then(n=>wL(e,t,n))}class sO extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,n)}}function un(t){t=Ji(t,Wu);const e=Ji(t.firestore,Mo),n=C1(e),r=new sO(e);return gL(t._query),aL(n,t._query).then(i=>new vL(e,r,t,i))}function gx(t,e,n){t=Ji(t,qr);const r=Ji(t.firestore,Mo),i=Aw(t.converter,e,n);return $h(r,[gw(Bh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zr.none())])}function kr(t,e,n,...r){t=Ji(t,qr);const i=Ji(t.firestore,Mo),a=Bh(i);let o;return o=typeof(e=Aa(e))=="string"||e instanceof Lh?J6(a,"updateDoc",t._key,e,n,r):Z6(a,"updateDoc",t._key,e),$h(i,[o.toMutation(t._key,zr.exists(!0))])}function Vf(t){return $h(Ji(t.firestore,Mo),[new b1(t._key,zr.none())])}function xa(t,e){const n=Ji(t.firestore,Mo),r=jt(t),i=Aw(t.converter,e);return $h(n,[gw(Bh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function $h(t,e){return function(r,i){const a=new xs;return r.asyncQueue.enqueueAndForget(async()=>G7(await rL(r),i,a)),a.promise}(C1(t),e)}function wL(t,e,n){const r=n.docs.get(e._key),i=new sO(t);return new aO(t,i,e._key,r,new Hd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bh(e)}set(e,n,r){this._verifyNotCommitted();const i=xx(e,this._firestore),a=Aw(i.converter,n,r),o=gw(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,zr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=xx(e,this._firestore);let o;return o=typeof(n=Aa(n))=="string"||n instanceof Lh?J6(this._dataReader,"WriteBatch.update",a._key,n,r,i):Z6(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xx(e,this._firestore);return this._mutations=this._mutations.concat(new b1(n._key,zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xx(t,e){if((t=Aa(t)).firestore!==e)throw new qe(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){return C1(t=Ji(t,Mo)),new AL(t,e=>$h(t,e))}(function(e,n=!0){(function(i){zu=i})(hR),Lp(new kf("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new Mo(new TR(r.getProvider("auth-internal")),new OR(r.getProvider("app-check-internal")),function(h,x){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new qe(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(h.options.projectId,x)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),zc(tE,"4.7.3",e),zc(tE,"4.7.3","esm2017")})();var _L="firebase",EL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zc(_L,EL,"app");const SL={apiKey:"AIzaSyAZNQDKsjEFVCr_pe4ErQ5gRDVazAusEa0",authDomain:"inventory-f1315.firebaseapp.com",projectId:"inventory-f1315",storageBucket:"inventory-f1315.firebasestorage.app",messagingSenderId:"271690039778",appId:"1:271690039778:web:cfd7cad3be480d3f44f9bb"},TL=DI(SL),ze=lL(TL);function oO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=oO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function no(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=oO(t))&&(r&&(r+=" "),r+=e);return r}const lf=t=>typeof t=="number"&&!isNaN(t),Dl=t=>typeof t=="string",ii=t=>typeof t=="function",cp=t=>Dl(t)||ii(t)?t:null,yx=t=>ee.isValidElement(t)||Dl(t)||ii(t)||lf(t);function CL(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function O1(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=t;return function(o){let{children:u,position:f,preventExitTransition:h,done:x,nodeRef:y,isIn:w}=o;const _=r?`${e}--${f}`:e,I=r?`${n}--${f}`:n,N=ee.useRef(0);return ee.useLayoutEffect(()=>{const M=y.current,P=_.split(" "),S=C=>{C.target===y.current&&(M.dispatchEvent(new Event("d")),M.removeEventListener("animationend",S),M.removeEventListener("animationcancel",S),N.current===0&&C.type!=="animationcancel"&&M.classList.remove(...P))};M.classList.add(...P),M.addEventListener("animationend",S),M.addEventListener("animationcancel",S)},[]),ee.useEffect(()=>{const M=y.current,P=()=>{M.removeEventListener("animationend",P),i?CL(M,x,a):x()};w||(h?P():(N.current=1,M.className+=` ${I}`,M.addEventListener("animationend",P)))},[w]),ae.createElement(ae.Fragment,null,u)}}function VE(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Ui={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},N0=t=>{let{theme:e,type:n,...r}=t;return ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},vx={info:function(t){return ae.createElement(N0,{...t},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ae.createElement(N0,{...t},ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ae.createElement(N0,{...t},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ae.createElement(N0,{...t},ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ae.createElement("div",{className:"Toastify__spinner"})}};function NL(t){const[,e]=ee.useReducer(_=>_+1,0),[n,r]=ee.useState([]),i=ee.useRef(null),a=ee.useRef(new Map).current,o=_=>n.indexOf(_)!==-1,u=ee.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:_=>a.get(_)}).current;function f(_){let{containerId:I}=_;const{limit:N}=u.props;!N||I&&u.containerId!==I||(u.count-=u.queue.length,u.queue=[])}function h(_){r(I=>_==null?[]:I.filter(N=>N!==_))}function x(){const{toastContent:_,toastProps:I,staleId:N}=u.queue.shift();w(_,I,N)}function y(_,I){let{delay:N,staleId:M,...P}=I;if(!yx(_)||function($){return!i.current||u.props.enableMultiContainer&&$.containerId!==u.props.containerId||a.has($.toastId)&&$.updateId==null}(P))return;const{toastId:S,updateId:C,data:V}=P,{props:k}=u,R=()=>h(S),j=C==null;j&&u.count++;const D={...k,style:k.toastStyle,key:u.toastKey++,...Object.fromEntries(Object.entries(P).filter($=>{let[F,H]=$;return H!=null})),toastId:S,updateId:C,data:V,closeToast:R,isIn:!1,className:cp(P.className||k.toastClassName),bodyClassName:cp(P.bodyClassName||k.bodyClassName),progressClassName:cp(P.progressClassName||k.progressClassName),autoClose:!P.isLoading&&(L=P.autoClose,E=k.autoClose,L===!1||lf(L)&&L>0?L:E),deleteToast(){const $=VE(a.get(S),"removed");a.delete(S),Ui.emit(4,$);const F=u.queue.length;if(u.count=S==null?u.count-u.displayedToast:u.count-1,u.count<0&&(u.count=0),F>0){const H=S==null?u.props.limit:1;if(F===1||H===1)u.displayedToast++,x();else{const z=H>F?F:H;u.displayedToast=z;for(let W=0;W<z;W++)x()}}else e()}};var L,E;D.iconOut=function($){let{theme:F,type:H,isLoading:z,icon:W}=$,Y=null;const re={theme:F,type:H};return W===!1||(ii(W)?Y=W(re):ee.isValidElement(W)?Y=ee.cloneElement(W,re):Dl(W)||lf(W)?Y=W:z?Y=vx.spinner():(ne=>ne in vx)(H)&&(Y=vx[H](re))),Y}(D),ii(P.onOpen)&&(D.onOpen=P.onOpen),ii(P.onClose)&&(D.onClose=P.onClose),D.closeButton=k.closeButton,P.closeButton===!1||yx(P.closeButton)?D.closeButton=P.closeButton:P.closeButton===!0&&(D.closeButton=!yx(k.closeButton)||k.closeButton);let O=_;ee.isValidElement(_)&&!Dl(_.type)?O=ee.cloneElement(_,{closeToast:R,toastProps:D,data:V}):ii(_)&&(O=_({closeToast:R,toastProps:D,data:V})),k.limit&&k.limit>0&&u.count>k.limit&&j?u.queue.push({toastContent:O,toastProps:D,staleId:M}):lf(N)?setTimeout(()=>{w(O,D,M)},N):w(O,D,M)}function w(_,I,N){const{toastId:M}=I;N&&a.delete(N);const P={content:_,props:I};a.set(M,P),r(S=>[...S,M].filter(C=>C!==N)),Ui.emit(4,VE(P,P.props.updateId==null?"added":"updated"))}return ee.useEffect(()=>(u.containerId=t.containerId,Ui.cancelEmit(3).on(0,y).on(1,_=>i.current&&h(_)).on(5,f).emit(2,u),()=>{a.clear(),Ui.emit(3,u)}),[]),ee.useEffect(()=>{u.props=t,u.isToastActive=o,u.displayedToast=n.length}),{getToastToRender:function(_){const I=new Map,N=Array.from(a.values());return t.newestOnTop&&N.reverse(),N.forEach(M=>{const{position:P}=M.props;I.has(P)||I.set(P,[]),I.get(P).push(M)}),Array.from(I,M=>_(M[0],M[1]))},containerRef:i,isToastActive:o}}function UE(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function zE(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function IL(t){const[e,n]=ee.useState(!1),[r,i]=ee.useState(!1),a=ee.useRef(null),o=ee.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=ee.useRef(t),{autoClose:f,pauseOnHover:h,closeToast:x,onClick:y,closeOnClick:w}=t;function _(V){if(t.draggable){V.nativeEvent.type==="touchstart"&&V.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",P),document.addEventListener("mouseup",S),document.addEventListener("touchmove",P),document.addEventListener("touchend",S);const k=a.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=k.getBoundingClientRect(),k.style.transition="",o.x=UE(V.nativeEvent),o.y=zE(V.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=k.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function I(V){if(o.boundingRect){const{top:k,bottom:R,left:j,right:D}=o.boundingRect;V.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=j&&o.x<=D&&o.y>=k&&o.y<=R?M():N()}}function N(){n(!0)}function M(){n(!1)}function P(V){const k=a.current;o.canDrag&&k&&(o.didMove=!0,e&&M(),o.x=UE(V),o.y=zE(V),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),k.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,k.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function S(){document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",S);const V=a.current;if(o.canDrag&&o.didMove&&V){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();V.style.transition="transform 0.2s, opacity 0.2s",V.style.transform=`translate${t.draggableDirection}(0)`,V.style.opacity="1"}}ee.useEffect(()=>{u.current=t}),ee.useEffect(()=>(a.current&&a.current.addEventListener("d",N,{once:!0}),ii(t.onOpen)&&t.onOpen(ee.isValidElement(t.children)&&t.children.props),()=>{const V=u.current;ii(V.onClose)&&V.onClose(ee.isValidElement(V.children)&&V.children.props)}),[]),ee.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||M(),window.addEventListener("focus",N),window.addEventListener("blur",M)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",N),window.removeEventListener("blur",M))}),[t.pauseOnFocusLoss]);const C={onMouseDown:_,onTouchStart:_,onMouseUp:I,onTouchEnd:I};return f&&h&&(C.onMouseEnter=M,C.onMouseLeave=N),w&&(C.onClick=V=>{y&&y(V),o.canCloseOnClick&&x()}),{playToast:N,pauseToast:M,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:C}}function lO(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function OL(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:u,controlledProgress:f,progress:h,rtl:x,isIn:y,theme:w}=t;const _=a||f&&h===0,I={...u,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:_?0:1};f&&(I.transform=`scaleX(${h})`);const N=no("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":x}),M=ii(o)?o({rtl:x,type:i,defaultClassName:N}):no(N,o);return ae.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:M,style:I,[f&&h>=1?"onTransitionEnd":"onAnimationEnd"]:f&&h<1?null:()=>{y&&r()}})}const PL=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=IL(t),{closeButton:a,children:o,autoClose:u,onClick:f,type:h,hideProgressBar:x,closeToast:y,transition:w,position:_,className:I,style:N,bodyClassName:M,bodyStyle:P,progressClassName:S,progressStyle:C,updateId:V,role:k,progress:R,rtl:j,toastId:D,deleteToast:L,isIn:E,isLoading:O,iconOut:$,closeOnClick:F,theme:H}=t,z=no("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":F}),W=ii(I)?I({rtl:j,position:_,type:h,defaultClassName:z}):no(z,I),Y=!!R||!u,re={closeToast:y,type:h,theme:H};let ne=null;return a===!1||(ne=ii(a)?a(re):ee.isValidElement(a)?ee.cloneElement(a,re):lO(re)),ae.createElement(w,{isIn:E,done:L,position:_,preventExitTransition:n,nodeRef:r},ae.createElement("div",{id:D,onClick:f,className:W,...i,style:N,ref:r},ae.createElement("div",{...E&&{role:k},className:ii(M)?M({type:h}):no("Toastify__toast-body",M),style:P},$!=null&&ae.createElement("div",{className:no("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},$),ae.createElement("div",null,o)),ne,ae.createElement(OL,{...V&&!Y?{key:`pb-${V}`}:{},rtl:j,theme:H,delay:u,isRunning:e,isIn:E,closeToast:y,hide:x,type:h,style:C,className:S,controlledProgress:Y,progress:R||0})))},P1=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},jL=O1(P1("bounce",!0));O1(P1("slide",!0));O1(P1("zoom"));O1(P1("flip"));const Nc=ee.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=NL(t),{className:a,style:o,rtl:u,containerId:f}=t;function h(x){const y=no("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":u});return ii(a)?a({position:x,rtl:u,defaultClassName:y}):no(y,cp(a))}return ee.useEffect(()=>{e&&(e.current=r.current)},[]),ae.createElement("div",{ref:r,className:"Toastify",id:f},n((x,y)=>{const w=y.length?{...o}:{...o,pointerEvents:"none"};return ae.createElement("div",{className:h(x),style:w,key:`container-${x}`},y.map((_,I)=>{let{content:N,props:M}=_;return ae.createElement(PL,{...M,isIn:i(M.toastId),style:{...M.style,"--nth":I+1,"--len":y.length},key:`toast-${M.key}`},N)}))}))});Nc.displayName="ToastContainer",Nc.defaultProps={position:"top-right",transition:jL,autoClose:5e3,closeButton:lO,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let bx,sl=new Map,Wd=[],kL=1;function cO(){return""+kL++}function ML(t){return t&&(Dl(t.toastId)||lf(t.toastId))?t.toastId:cO()}function cf(t,e){return sl.size>0?Ui.emit(0,t,e):Wd.push({content:t,options:e}),e.toastId}function Kp(t,e){return{...e,type:e&&e.type||t,toastId:ML(e)}}function I0(t){return(e,n)=>cf(e,Kp(t,n))}function we(t,e){return cf(t,Kp("default",e))}we.loading=(t,e)=>cf(t,Kp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),we.promise=function(t,e,n){let r,{pending:i,error:a,success:o}=e;i&&(r=Dl(i)?we.loading(i,n):we.loading(i.render,{...n,...i}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(x,y,w)=>{if(y==null)return void we.dismiss(r);const _={type:x,...u,...n,data:w},I=Dl(y)?{render:y}:y;return r?we.update(r,{..._,...I}):we(I.render,{..._,...I}),w},h=ii(t)?t():t;return h.then(x=>f("success",o,x)).catch(x=>f("error",a,x)),h},we.success=I0("success"),we.info=I0("info"),we.error=I0("error"),we.warning=I0("warning"),we.warn=we.warning,we.dark=(t,e)=>cf(t,Kp("default",{theme:"dark",...e})),we.dismiss=t=>{sl.size>0?Ui.emit(1,t):Wd=Wd.filter(e=>t!=null&&e.options.toastId!==t)},we.clearWaitingQueue=function(t){return t===void 0&&(t={}),Ui.emit(5,t)},we.isActive=t=>{let e=!1;return sl.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},we.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:a}=i;const o=sl.get(a||bx);return o&&o.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:cO()};a.toastId!==t&&(a.staleId=t);const o=a.render||i;delete a.render,cf(o,a)}},0)},we.done=t=>{we.update(t,{progress:1})},we.onChange=t=>(Ui.on(4,t),()=>{Ui.off(4,t)}),we.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},we.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ui.on(2,t=>{bx=t.containerId||t,sl.set(bx,t),Wd.forEach(e=>{Ui.emit(0,e.content,e.options)}),Wd=[]}).on(3,t=>{sl.delete(t.containerId||t),sl.size===0&&Ui.off(0).off(1).off(5)});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Re=(t,e)=>{const n=ee.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:u="",children:f,...h},x)=>ee.createElement("svg",{ref:x,...DL,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${RL(t)}`,u].join(" "),...h},[...e.map(([y,w])=>ee.createElement(y,w)),...Array.isArray(f)?f:[f]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=Re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Re("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=Re("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Re("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=Re("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=Re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=Re("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=Re("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=Re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Re("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=Re("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Re("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Re("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=Re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Re("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=Re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=Re("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Re("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Re("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Re("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Re("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=Re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=Re("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Re("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=Re("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Re("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=Re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Re("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=Re("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=Re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=Re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=Re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=Re("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Re("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=Re("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=Re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function _B(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xO={exports:{}};const EB={},SB=Object.freeze(Object.defineProperty({__proto__:null,default:EB},Symbol.toStringTag,{value:"Module"})),TB=wj(SB);(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,n){typeof _B=="function"&&t&&t.exports?t.exports=n():(e.dcodeIO=e.dcodeIO||{}).bcrypt=n()})(La,function(){var e={},n=null;function r(O){if(t&&t.exports)try{return TB.randomBytes(O)}catch{}try{var $;return(self.crypto||self.msCrypto).getRandomValues($=new Uint32Array(O)),Array.prototype.slice.call($)}catch{}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n(O)}var i=!1;try{r(1),i=!0}catch{}n=null,e.setRandomFallback=function(O){n=O},e.genSaltSync=function(O,$){if(O=O||N,typeof O!="number")throw Error("Illegal arguments: "+typeof O+", "+typeof $);O<4?O=4:O>31&&(O=31);var F=[];return F.push("$2a$"),O<10&&F.push("0"),F.push(O.toString()),F.push("$"),F.push(y(r(I),I)),F.join("")},e.genSalt=function(O,$,F){if(typeof $=="function"&&(F=$,$=void 0),typeof O=="function"&&(F=O,O=void 0),typeof O>"u")O=N;else if(typeof O!="number")throw Error("illegal arguments: "+typeof O);function H(z){o(function(){try{z(null,e.genSaltSync(O))}catch(W){z(W)}})}if(F){if(typeof F!="function")throw Error("Illegal callback: "+typeof F);H(F)}else return new Promise(function(z,W){H(function(Y,re){if(Y){W(Y);return}z(re)})})},e.hashSync=function(O,$){if(typeof $>"u"&&($=N),typeof $=="number"&&($=e.genSaltSync($)),typeof O!="string"||typeof $!="string")throw Error("Illegal arguments: "+typeof O+", "+typeof $);return E(O,$)},e.hash=function(O,$,F,H){function z(W){typeof O=="string"&&typeof $=="number"?e.genSalt($,function(Y,re){E(O,re,W,H)}):typeof O=="string"&&typeof $=="string"?E(O,$,W,H):o(W.bind(this,Error("Illegal arguments: "+typeof O+", "+typeof $)))}if(F){if(typeof F!="function")throw Error("Illegal callback: "+typeof F);z(F)}else return new Promise(function(W,Y){z(function(re,ne){if(re){Y(re);return}W(ne)})})};function a(O,$){for(var F=0,H=0,z=0,W=O.length;z<W;++z)O.charCodeAt(z)===$.charCodeAt(z)?++F:++H;return F<0?!1:H===0}e.compareSync=function(O,$){if(typeof O!="string"||typeof $!="string")throw Error("Illegal arguments: "+typeof O+", "+typeof $);return $.length!==60?!1:a(e.hashSync(O,$.substr(0,$.length-31)),$)},e.compare=function(O,$,F,H){function z(W){if(typeof O!="string"||typeof $!="string"){o(W.bind(this,Error("Illegal arguments: "+typeof O+", "+typeof $)));return}if($.length!==60){o(W.bind(this,null,!1));return}e.hash(O,$.substr(0,29),function(Y,re){Y?W(Y):W(null,a(re,$))},H)}if(F){if(typeof F!="function")throw Error("Illegal callback: "+typeof F);z(F)}else return new Promise(function(W,Y){z(function(re,ne){if(re){Y(re);return}W(ne)})})},e.getRounds=function(O){if(typeof O!="string")throw Error("Illegal arguments: "+typeof O);return parseInt(O.split("$")[2],10)},e.getSalt=function(O){if(typeof O!="string")throw Error("Illegal arguments: "+typeof O);if(O.length!==60)throw Error("Illegal hash length: "+O.length+" != 60");return O.substring(0,29)};var o=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function u(O){var $=[],F=0;return _.encodeUTF16toUTF8(function(){return F>=O.length?null:O.charCodeAt(F++)},function(H){$.push(H)}),$}var f="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),h=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],x=String.fromCharCode;function y(O,$){var F=0,H=[],z,W;if($<=0||$>O.length)throw Error("Illegal len: "+$);for(;F<$;){if(z=O[F++]&255,H.push(f[z>>2&63]),z=(z&3)<<4,F>=$){H.push(f[z&63]);break}if(W=O[F++]&255,z|=W>>4&15,H.push(f[z&63]),z=(W&15)<<2,F>=$){H.push(f[z&63]);break}W=O[F++]&255,z|=W>>6&3,H.push(f[z&63]),H.push(f[W&63])}return H.join("")}function w(O,$){var F=0,H=O.length,z=0,W=[],Y,re,ne,ce,ve,ye;if($<=0)throw Error("Illegal len: "+$);for(;F<H-1&&z<$&&(ye=O.charCodeAt(F++),Y=ye<h.length?h[ye]:-1,ye=O.charCodeAt(F++),re=ye<h.length?h[ye]:-1,!(Y==-1||re==-1||(ve=Y<<2>>>0,ve|=(re&48)>>4,W.push(x(ve)),++z>=$||F>=H)||(ye=O.charCodeAt(F++),ne=ye<h.length?h[ye]:-1,ne==-1)||(ve=(re&15)<<4>>>0,ve|=(ne&60)>>2,W.push(x(ve)),++z>=$||F>=H)));)ye=O.charCodeAt(F++),ce=ye<h.length?h[ye]:-1,ve=(ne&3)<<6>>>0,ve|=ce,W.push(x(ve)),++z;var pe=[];for(F=0;F<z;F++)pe.push(W[F].charCodeAt(0));return pe}var _=function(){var O={};return O.MAX_CODEPOINT=1114111,O.encodeUTF8=function($,F){var H=null;for(typeof $=="number"&&(H=$,$=function(){return null});H!==null||(H=$())!==null;)H<128?F(H&127):H<2048?(F(H>>6&31|192),F(H&63|128)):H<65536?(F(H>>12&15|224),F(H>>6&63|128),F(H&63|128)):(F(H>>18&7|240),F(H>>12&63|128),F(H>>6&63|128),F(H&63|128)),H=null},O.decodeUTF8=function($,F){for(var H,z,W,Y,re=function(ne){ne=ne.slice(0,ne.indexOf(null));var ce=Error(ne.toString());throw ce.name="TruncatedError",ce.bytes=ne,ce};(H=$())!==null;)if(!(H&128))F(H);else if((H&224)===192)(z=$())===null&&re([H,z]),F((H&31)<<6|z&63);else if((H&240)===224)((z=$())===null||(W=$())===null)&&re([H,z,W]),F((H&15)<<12|(z&63)<<6|W&63);else if((H&248)===240)((z=$())===null||(W=$())===null||(Y=$())===null)&&re([H,z,W,Y]),F((H&7)<<18|(z&63)<<12|(W&63)<<6|Y&63);else throw RangeError("Illegal starting byte: "+H)},O.UTF16toUTF8=function($,F){for(var H,z=null;(H=z!==null?z:$())!==null;){if(H>=55296&&H<=57343&&(z=$())!==null&&z>=56320&&z<=57343){F((H-55296)*1024+z-56320+65536),z=null;continue}F(H)}z!==null&&F(z)},O.UTF8toUTF16=function($,F){var H=null;for(typeof $=="number"&&(H=$,$=function(){return null});H!==null||(H=$())!==null;)H<=65535?F(H):(H-=65536,F((H>>10)+55296),F(H%1024+56320)),H=null},O.encodeUTF16toUTF8=function($,F){O.UTF16toUTF8($,function(H){O.encodeUTF8(H,F)})},O.decodeUTF8toUTF16=function($,F){O.decodeUTF8($,function(H){O.UTF8toUTF16(H,F)})},O.calculateCodePoint=function($){return $<128?1:$<2048?2:$<65536?3:4},O.calculateUTF8=function($){for(var F,H=0;(F=$())!==null;)H+=O.calculateCodePoint(F);return H},O.calculateUTF16asUTF8=function($){var F=0,H=0;return O.UTF16toUTF8($,function(z){++F,H+=O.calculateCodePoint(z)}),[F,H]},O}();Date.now=Date.now||function(){return+new Date};var I=16,N=10,M=16,P=100,S=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],C=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],V=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function k(O,$,F,H){var z,W=O[$],Y=O[$+1];return W^=F[0],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[1],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[2],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[3],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[4],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[5],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[6],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[7],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[8],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[9],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[10],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[11],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[12],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[13],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[14],z=H[W>>>24],z+=H[256|W>>16&255],z^=H[512|W>>8&255],z+=H[768|W&255],Y^=z^F[15],z=H[Y>>>24],z+=H[256|Y>>16&255],z^=H[512|Y>>8&255],z+=H[768|Y&255],W^=z^F[16],O[$]=Y^F[M+1],O[$+1]=W,O}function R(O,$){for(var F=0,H=0;F<4;++F)H=H<<8|O[$]&255,$=($+1)%O.length;return{key:H,offp:$}}function j(O,$,F){for(var H=0,z=[0,0],W=$.length,Y=F.length,re,ne=0;ne<W;ne++)re=R(O,H),H=re.offp,$[ne]=$[ne]^re.key;for(ne=0;ne<W;ne+=2)z=k(z,0,$,F),$[ne]=z[0],$[ne+1]=z[1];for(ne=0;ne<Y;ne+=2)z=k(z,0,$,F),F[ne]=z[0],F[ne+1]=z[1]}function D(O,$,F,H){for(var z=0,W=[0,0],Y=F.length,re=H.length,ne,ce=0;ce<Y;ce++)ne=R($,z),z=ne.offp,F[ce]=F[ce]^ne.key;for(z=0,ce=0;ce<Y;ce+=2)ne=R(O,z),z=ne.offp,W[0]^=ne.key,ne=R(O,z),z=ne.offp,W[1]^=ne.key,W=k(W,0,F,H),F[ce]=W[0],F[ce+1]=W[1];for(ce=0;ce<re;ce+=2)ne=R(O,z),z=ne.offp,W[0]^=ne.key,ne=R(O,z),z=ne.offp,W[1]^=ne.key,W=k(W,0,F,H),H[ce]=W[0],H[ce+1]=W[1]}function L(O,$,F,H,z){var W=V.slice(),Y=W.length,re;if(F<4||F>31)if(re=Error("Illegal number of rounds (4-31): "+F),H){o(H.bind(this,re));return}else throw re;if($.length!==I)if(re=Error("Illegal salt length: "+$.length+" != "+I),H){o(H.bind(this,re));return}else throw re;F=1<<F>>>0;var ne,ce,ve=0,ye;Int32Array?(ne=new Int32Array(S),ce=new Int32Array(C)):(ne=S.slice(),ce=C.slice()),D($,O,ne,ce);function pe(){if(z&&z(ve/F),ve<F)for(var Te=Date.now();ve<F&&(ve=ve+1,j(O,ne,ce),j($,ne,ce),!(Date.now()-Te>P)););else{for(ve=0;ve<64;ve++)for(ye=0;ye<Y>>1;ye++)k(W,ye<<1,ne,ce);var oe=[];for(ve=0;ve<Y;ve++)oe.push((W[ve]>>24&255)>>>0),oe.push((W[ve]>>16&255)>>>0),oe.push((W[ve]>>8&255)>>>0),oe.push((W[ve]&255)>>>0);if(H){H(null,oe);return}else return oe}H&&o(pe)}if(typeof H<"u")pe();else for(var se;;)if(typeof(se=pe())<"u")return se||[]}function E(O,$,F,H){var z;if(typeof O!="string"||typeof $!="string")if(z=Error("Invalid string / salt: Not a string"),F){o(F.bind(this,z));return}else throw z;var W,Y;if($.charAt(0)!=="$"||$.charAt(1)!=="2")if(z=Error("Invalid salt version: "+$.substring(0,2)),F){o(F.bind(this,z));return}else throw z;if($.charAt(2)==="$")W="\0",Y=3;else{if(W=$.charAt(2),W!=="a"&&W!=="b"&&W!=="y"||$.charAt(3)!=="$")if(z=Error("Invalid salt revision: "+$.substring(2,4)),F){o(F.bind(this,z));return}else throw z;Y=4}if($.charAt(Y+2)>"$")if(z=Error("Missing salt rounds"),F){o(F.bind(this,z));return}else throw z;var re=parseInt($.substring(Y,Y+1),10)*10,ne=parseInt($.substring(Y+1,Y+2),10),ce=re+ne,ve=$.substring(Y+3,Y+25);O+=W>="a"?"\0":"";var ye=u(O),pe=w(ve,I);function se(Te){var oe=[];return oe.push("$2"),W>="a"&&oe.push(W),oe.push("$"),ce<10&&oe.push("0"),oe.push(ce.toString()),oe.push("$"),oe.push(y(pe,pe.length)),oe.push(y(Te,V.length*4-1)),oe.join("")}if(typeof F>"u")return se(L(ye,pe,ce));L(ye,pe,ce,function(Te,oe){Te?F(Te,null):F(null,se(oe))},H)}return e.encodeBase64=y,e.decodeBase64=w,e})})(xO);var CB=xO.exports;const gv=kt(CB),NB=10,Oc=async t=>{try{const e=await gv.genSalt(NB);return await gv.hash(t,e)}catch(e){throw console.error("Parol hash xatosi:",e),new Error("Parol shifrlashda xatolik")}},eS=async(t,e)=>{try{return e.startsWith("$2")?await gv.compare(t,e):t===e}catch(n){return console.error("Parol tekshirish xatosi:",n),!1}},tS=t=>{const e={isValid:!1,score:0,message:"",suggestions:[]};if(!t)return e.message="Parol kiritilmagan",e;if(t.length<4)return e.message="Parol juda qisqa",e.suggestions.push("Kamida 4 ta belgi kiriting"),e;let n=0;return t.length>=4&&(n+=1),t.length>=6&&(n+=1),t.length>=8&&(n+=1),/\d/.test(t)&&(n+=1),/[A-Z]/.test(t)&&(n+=1),/[a-z]/.test(t)&&(n+=1),/[!@#$%^&*(),.?":{}|<>]/.test(t)&&(n+=1),e.score=n,e.isValid=n>=2,n<=2?e.message="Kuchsiz parol":n<=4?e.message="O'rtacha parol":n<=6?e.message="Yaxshi parol":e.message="Juda kuchli parol",t.length<8&&e.suggestions.push("8+ belgi ishlating"),/\d/.test(t)||e.suggestions.push("Raqam qo'shing"),/[A-Z]/.test(t)||e.suggestions.push("Katta harf qo'shing"),e};class IB{async registerCompany(e,n){try{const r=dt(ze,"users"),i=Yn(r,Bn("username","==",n.username.toLowerCase()));if(!(await un(i)).empty)return{success:!1,error:"Bu login allaqachon band!"};const o=await Oc(n.password),u=jt(dt(ze,"companies")),f=u.id,h=new Date;h.setDate(h.getDate()+14),await gx(u,{...e,plan:"trial",planName:"Sinov (Trial)",maxUsers:2,maxProducts:50,trialEndsAt:h,subscriptionEnd:null,currentUsers:1,currentProducts:0,createdAt:new Date,isActive:!0,isDeleted:!1});const x=jt(dt(ze,"users")),y={name:n.name,username:n.username.toLowerCase(),password:o,role:"admin",companyId:f,createdAt:new Date,isActive:!0,isDeleted:!1};return await gx(x,y),{success:!0,user:{id:x.id,...y},company:{id:f,...e}}}catch(r){return console.error("Registration error:",r),{success:!1,error:"Ro'yxatdan o'tishda xatolik: "+r.message}}}async login(e,n){try{const r=dt(ze,"users"),i=Yn(r,Bn("username","==",e.toLowerCase())),a=await un(i);if(a.empty)return{success:!1,error:"Foydalanuvchi topilmadi!"};const o=a.docs[0],u=o.data();if(u.isDeleted)return{success:!1,error:"Hisob o'chirilgan!"};if(!u.isActive)return{success:!1,error:"Hisob bloklangan!"};const f=await Gp(jt(ze,"companies",u.companyId));if(f.exists()){const x=f.data();if(x.isDeleted)return{success:!1,error:"Kompaniya o'chirilgan!"};if(x.isActive===!1)return{success:!1,error:"Kompaniya bloklangan! Admin bilan bog'laning."};if(x.trialEnds&&!x.plan){const y=x.trialEnds.toDate?x.trialEnds.toDate():new Date(x.trialEnds);if(new Date>y)return{success:!1,error:"Trial muddat tugadi! Tarif tanlang."}}}return await eS(n,u.password)?(await kr(jt(ze,"users",o.id),{lastLogin:new Date}),{success:!0,user:{id:o.id,...u}}):{success:!1,error:"Parol noto'g'ri!"}}catch(r){return console.error("Login error:",r),{success:!1,error:"Tizimga kirishda xatolik!"}}}async logout(){try{return localStorage.removeItem("currentUser"),localStorage.removeItem("loginTime"),{success:!0}}catch(e){return console.error("Logout error:",e),{success:!1,error:"Chiqishda xatolik"}}}async addUser(e,n){try{const r=dt(ze,"users"),i=Yn(r,Bn("username","==",e.username.toLowerCase()));if(!(await un(i)).empty)return{success:!1,error:"Bu login band!"};const o=await Oc(e.password),u=jt(dt(ze,"users")),f={name:e.name,username:e.username.toLowerCase(),password:o,role:e.role||"seller",companyId:n,createdAt:new Date,isActive:!0,isDeleted:!1};return await gx(u,f),{success:!0,user:{id:u.id,...f}}}catch(r){return console.error("Add user error:",r),{success:!1,error:"Foydalanuvchi qo'shishda xatolik!"}}}async changePassword(e,n,r){try{const i=await Gp(jt(ze,"users",e));if(!i.exists())return{success:!1,error:"Foydalanuvchi topilmadi!"};const a=i.data();if(!await eS(n,a.password))return{success:!1,error:"Joriy parol noto'g'ri!"};const u=await Oc(r);return await kr(jt(ze,"users",e),{password:u,passwordChangedAt:new Date}),{success:!0,message:"Parol muvaffaqiyatli o'zgartirildi!"}}catch(i){return console.error("Change password error:",i),{success:!1,error:"Parol o'zgartirishda xatolik!"}}}async deleteUser(e){try{return await kr(jt(ze,"users",e),{isDeleted:!0,isActive:!1,deletedAt:new Date}),{success:!0}}catch(n){return console.error("Delete user error:",n),{success:!1,error:"O'chirishda xatolik!"}}}async migratePasswords(){try{const e=dt(ze,"users"),n=await un(e);let r=0;for(const i of n.docs){const a=i.data();if(a.password&&!a.password.startsWith("$2")){const o=await Oc(a.password);await kr(jt(ze,"users",i.id),{password:o,passwordMigratedAt:new Date}),r++}}return{success:!0,migrated:r}}catch(e){return console.error("Migration error:",e),{success:!1,error:"Migratsiya xatosi!"}}}}const xv=new IB,OB=({onLogin:t})=>{var re;const[e,n]=ee.useState(!1),[r,i]=ee.useState(1),[a,o]=ee.useState(!1),[u,f]=ee.useState(!1),[h,x]=ee.useState(null),[y,w]=ee.useState(""),[_,I]=ee.useState(""),[N,M]=ee.useState(""),[P,S]=ee.useState(""),[C,V]=ee.useState(""),[k,R]=ee.useState(""),[j,D]=ee.useState(""),[L,E]=ee.useState(""),O=[{id:"electronics",name:"Elektronika",icon:gB,color:"blue",categories:["Telefonlar","Noutbuklar","Planshetlar","Aksessuarlar","Quloqchinlar","Zaryadka","Kabellar","Qo'riqlash kameralari","Smart soatlar","Boshqa"]},{id:"grocery",name:"Oziq-ovqat",icon:bB,color:"emerald",categories:["Ichimliklar","Sut mahsulotlari","Non mahsulotlari","Go'sht","Sabzavotlar","Mevalar","Konservalar","Yog'lar","Shirinliklar","Boshqa"]},{id:"clothing",name:"Kiyim-kechak",icon:pB,color:"violet",categories:["Erkaklar kiyimi","Ayollar kiyimi","Bolalar kiyimi","Poyabzal","Sumkalar","Aksessuarlar","Sport kiyimi","Ichki kiyim","Bosh kiyimlar","Boshqa"]},{id:"pharmacy",name:"Apteka",icon:uB,color:"rose",categories:["Dorilar","Vitaminlar","Tibbiy jihozlar","Gigiyena","Bog'lovchi materiallar","Bolalar uchun","Kosmetika","Optika","Ortopediya","Boshqa"]},{id:"auto",name:"Avto zapchastlar",icon:HL,color:"amber",categories:["Dvigatel qismlari","Tormoz tizimi","Yoritish","Akkumulyatorlar","Moylar","Filtrlar","Shinalar","Disklar","Avto kimyo","Boshqa"]},{id:"construction",name:"Qurilish mollari",icon:JL,color:"orange",categories:["Sement","G'isht","Yog'och","Metall","Bo'yoqlar","Santexnika","Elektrika","Plitka","Izolyatsiya","Boshqa"]},{id:"cosmetics",name:"Kosmetika",icon:ZL,color:"pink",categories:["Yuz pardozi","Soch mahsulotlari","Parfyumeriya","Tana parvarishi","Tirnoq uchun","Erkaklar uchun","Bolalar uchun","Aksessuarlar","Organik","Boshqa"]},{id:"household",name:"Uy-ro'zg'or",icon:mB,color:"cyan",categories:["Idish-tovoq","Maishiy texnika","Mebel","Dekor","Tozalash vositalari","To'qimachilik","Bog' uchun","Yoritish","Saqlash jihozlari","Boshqa"]},{id:"agriculture",name:"Qishloq xo'jaligi",icon:nB,color:"lime",categories:["Urug'lar","O'g'itlar","Pestitsidlar","Asboblar","Sug'orish","Issiqxona","Chorvachilik","Parrandachilik","Texnika","Boshqa"]},{id:"kids",name:"Bolalar mollari",icon:FL,color:"sky",categories:["O'yinchoqlar","Bolalar kiyimi","Ovqatlanish","Gigiyena","Mebel","Transport","Maktab uchun","Sport","Kitoblar","Boshqa"]},{id:"books",name:"Kitob/Kantselyariya",icon:UL,color:"indigo",categories:["Kitoblar","Daftarlar","Yozuv qurollari","O'quv qurollari","Ofis jihozlari","San'at mollari","Sovg'alar","Sumkalar","Sport jihozlari","Boshqa"]},{id:"sports",name:"Sport mollari",icon:YL,color:"red",categories:["Kiyim","Poyabzal","Trenajerlar","Og'irliklar","Yoga","Velosiped","Futbol","Suzish","Turizm","Boshqa"]},{id:"other",name:"Boshqa",icon:lB,color:"slate",categories:["Kategoriya 1","Kategoriya 2","Kategoriya 3","Kategoriya 4","Kategoriya 5","Boshqa"]}],$=async ne=>{if(ne.preventDefault(),!y||!_){we.error("Login va parolni kiriting!");return}o(!0);const ce=await xv.login(y,_);ce.success?(we.success("Xush kelibsiz!"),t(ce.user)):we.error(ce.error),o(!1)},F=async ne=>{if(ne.preventDefault(),!k||!j||!L){we.error("Barcha maydonlarni to'ldiring!");return}const ce=tS(L);if(!ce.isValid){we.error(ce.message);return}o(!0);const ve=new Date;ve.setDate(ve.getDate()+14);const ye={name:N,phone:P,storeType:C,plan:null,trialEnds:ve,maxUsers:2,maxProducts:50,isActive:!0,isDeleted:!1},pe={name:k,username:j,password:L},se=await xv.registerCompany(ye,pe);if(se.success){const Te=O.find(oe=>oe.id===C);if(Te)for(const oe of Te.categories)await xa(dt(ze,"categories"),{name:oe,companyId:se.company.id,createdAt:new Date});we.success(" Ro'yxatdan o'tdingiz! 14 kunlik sinov davri boshlandi."),t(se.user)}else we.error(se.error);o(!1)},H=ne=>{E(ne),ne.length>0?x(tS(ne)):x(null)},z=()=>{r>1?i(r-1):n(!1)},W=(ne,ce)=>{const ve={blue:ce?"bg-blue-500 text-white border-blue-500":"bg-blue-50 text-blue-600 border-blue-200 hover:border-blue-400",emerald:ce?"bg-emerald-500 text-white border-emerald-500":"bg-emerald-50 text-emerald-600 border-emerald-200 hover:border-emerald-400",violet:ce?"bg-violet-500 text-white border-violet-500":"bg-violet-50 text-violet-600 border-violet-200 hover:border-violet-400",rose:ce?"bg-rose-500 text-white border-rose-500":"bg-rose-50 text-rose-600 border-rose-200 hover:border-rose-400",amber:ce?"bg-amber-500 text-white border-amber-500":"bg-amber-50 text-amber-600 border-amber-200 hover:border-amber-400",orange:ce?"bg-orange-500 text-white border-orange-500":"bg-orange-50 text-orange-600 border-orange-200 hover:border-orange-400",pink:ce?"bg-pink-500 text-white border-pink-500":"bg-pink-50 text-pink-600 border-pink-200 hover:border-pink-400",cyan:ce?"bg-cyan-500 text-white border-cyan-500":"bg-cyan-50 text-cyan-600 border-cyan-200 hover:border-cyan-400",lime:ce?"bg-lime-500 text-white border-lime-500":"bg-lime-50 text-lime-600 border-lime-200 hover:border-lime-400",sky:ce?"bg-sky-500 text-white border-sky-500":"bg-sky-50 text-sky-600 border-sky-200 hover:border-sky-400",indigo:ce?"bg-indigo-500 text-white border-indigo-500":"bg-indigo-50 text-indigo-600 border-indigo-200 hover:border-indigo-400",red:ce?"bg-red-500 text-white border-red-500":"bg-red-50 text-red-600 border-red-200 hover:border-red-400",slate:ce?"bg-slate-500 text-white border-slate-500":"bg-slate-50 text-slate-600 border-slate-200 hover:border-slate-400"};return ve[ne]||ve.slate},Y=ne=>ne<=2?"bg-rose-500":ne<=4?"bg-amber-500":"bg-emerald-500";return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-white/20 backdrop-blur flex items-center justify-center shadow-2xl ring-4 ring-white/10",children:d.jsx(mO,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold text-white",children:"CRM Pro"}),d.jsx("p",{className:"text-emerald-100 mt-2",children:"Do'kon boshqaruv tizimi"})]}),d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[!e&&d.jsxs("form",{onSubmit:$,className:"p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Kirish"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Login"}),d.jsxs("div",{className:"relative",children:[d.jsx(ma,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:y,onChange:ne=>w(ne.target.value),placeholder:"Login kiriting",className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Parol"}),d.jsxs("div",{className:"relative",children:[d.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:u?"text":"password",value:_,onChange:ne=>I(ne.target.value),placeholder:"Parol kiriting",className:"w-full pl-12 pr-12 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all"}),d.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:u?d.jsx(du,{className:"w-5 h-5"}):d.jsx(Rl,{className:"w-5 h-5"})})]})]})]}),d.jsx("button",{type:"submit",disabled:a,className:"w-full mt-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold hover:from-emerald-600 hover:to-emerald-700 disabled:opacity-50 transition-all shadow-lg shadow-emerald-500/25 active:scale-[0.98]",children:a?"Kirilmoqda...":"Kirish"}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-slate-500",children:["Hisobingiz yo'qmi?"," ",d.jsx("button",{type:"button",onClick:()=>{n(!0),i(1)},className:"text-emerald-600 font-semibold hover:underline",children:"Ro'yxatdan o'tish"})]})}),d.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-slate-400 text-sm",children:[d.jsx(io,{className:"w-4 h-4"}),d.jsx("span",{children:"256-bit shifrlash bilan himoyalangan"})]})]}),e&&r===1&&d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-100 rounded-lg",children:d.jsx(mc,{className:"w-5 h-5 text-slate-400 rotate-180"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Do'kon ma'lumotlari"}),d.jsx("p",{className:"text-sm text-slate-500",children:"1-qadam: Kompaniya haqida"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Do'kon nomi *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Uf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:N,onChange:ne=>M(ne.target.value),placeholder:"Misol: Texno Market",className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Telefon raqami"}),d.jsxs("div",{className:"relative",children:[d.jsx(zf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"tel",value:P,onChange:ne=>S(ne.target.value),placeholder:"+998 90 123 45 67",className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]})]}),d.jsxs("button",{onClick:()=>{if(!N.trim()){we.error("Do'kon nomini kiriting!");return}i(2)},className:"w-full mt-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold hover:from-emerald-600 hover:to-emerald-700 transition-all shadow-lg shadow-emerald-500/25 flex items-center justify-center gap-2",children:["Davom etish",d.jsx(mc,{className:"w-5 h-5"})]})]}),e&&r===2&&d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-100 rounded-lg",children:d.jsx(mc,{className:"w-5 h-5 text-slate-400 rotate-180"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Faoliyat turini tanlang"}),d.jsx("p",{className:"text-sm text-slate-500",children:"2-qadam: Do'kon turi"})]})]}),d.jsx("div",{className:"grid grid-cols-3 gap-3 max-h-[400px] overflow-y-auto pr-2",children:O.map(ne=>d.jsxs("button",{onClick:()=>V(ne.id),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${W(ne.color,C===ne.id)}`,children:[d.jsx(ne.icon,{className:"w-8 h-8"}),d.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:ne.name})]},ne.id))}),d.jsxs("button",{onClick:()=>{if(!C){we.error("Faoliyat turini tanlang!");return}i(3)},disabled:!C,className:"w-full mt-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold hover:from-emerald-600 hover:to-emerald-700 disabled:opacity-50 transition-all shadow-lg shadow-emerald-500/25 flex items-center justify-center gap-2",children:["Davom etish",d.jsx(mc,{className:"w-5 h-5"})]})]}),e&&r===3&&d.jsxs("form",{onSubmit:F,className:"p-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("button",{type:"button",onClick:z,className:"p-2 hover:bg-slate-100 rounded-lg",children:d.jsx(mc,{className:"w-5 h-5 text-slate-400 rotate-180"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Admin ma'lumotlari"}),d.jsx("p",{className:"text-sm text-slate-500",children:"3-qadam: Hisob yaratish"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Ismingiz *"}),d.jsx("input",{type:"text",value:k,onChange:ne=>R(ne.target.value),placeholder:"To'liq ism",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Login *"}),d.jsxs("div",{className:"relative",children:[d.jsx(ma,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",value:j,onChange:ne=>D(ne.target.value.toLowerCase().replace(/\s/g,"")),placeholder:"admin",className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"Parol *"}),d.jsxs("div",{className:"relative",children:[d.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:u?"text":"password",value:L,onChange:ne=>H(ne.target.value),placeholder:"Kuchli parol kiriting",className:"w-full pl-12 pr-12 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),d.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:u?d.jsx(du,{className:"w-5 h-5"}):d.jsx(Rl,{className:"w-5 h-5"})})]}),h&&d.jsxs("div",{className:"mt-2",children:[d.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3,4,5].map(ne=>d.jsx("div",{className:`h-1 flex-1 rounded-full ${ne<=h.score?Y(h.score):"bg-slate-200"}`},ne))}),d.jsx("p",{className:`text-xs ${h.score<=2?"text-rose-500":h.score<=4?"text-amber-500":"text-emerald-500"}`,children:h.message})]})]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-emerald-50 rounded-xl border border-emerald-100",children:[d.jsx("p",{className:"text-sm text-emerald-800 font-medium",children:"Tanlangan:"}),d.jsxs("p",{className:"text-emerald-600",children:[" ",N]}),d.jsxs("p",{className:"text-emerald-600",children:[" ",(re=O.find(ne=>ne.id===C))==null?void 0:re.name]}),d.jsx("p",{className:"text-xs text-emerald-500 mt-2",children:" 14 kunlik bepul trial"})]}),d.jsx("button",{type:"submit",disabled:a,className:"w-full mt-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold hover:from-emerald-600 hover:to-emerald-700 disabled:opacity-50 transition-all shadow-lg shadow-emerald-500/25",children:a?"Yaratilmoqda...":"Hisob yaratish"}),d.jsxs("p",{className:"text-center text-slate-500 text-sm mt-4",children:["Hisobingiz bormi?"," ",d.jsx("button",{type:"button",onClick:()=>{n(!1),i(1)},className:"text-emerald-600 font-semibold hover:underline",children:"Kirish"})]})]})]}),d.jsx("p",{className:"text-center text-emerald-200 text-sm mt-6",children:" 2024 CRM Pro. Barcha huquqlar himoyalangan."})]})})},PB=({activeMenu:t,setActiveMenu:e,onLogout:n,currentUser:r,isOpen:i,setIsOpen:a})=>{var x,y;const o=(r==null?void 0:r.role)==="admin",f=[{id:"dashboard",label:"Dashboard",icon:tB},{id:"income",label:"Kirim",icon:Hi},{id:"outcome",label:"Sotish",icon:M1},{id:"products",label:"Mahsulotlar",icon:fv},{id:"sales",label:"Sotuvlar",icon:j1},{id:"debtors",label:"Qarzdorlar",icon:wB},{id:"statistics",label:"Statistika",icon:Ew},{id:"inventory",label:"Ombor tahlili",icon:cu,adminOnly:!0},{id:"stockcount",label:"Inventarizatsiya",icon:XL,adminOnly:!0},{id:"backup",label:"Backup",icon:ul,adminOnly:!0},{id:"users",label:"Foydalanuvchilar",icon:Ll,adminOnly:!0},{id:"settings",label:"Sozlamalar",icon:hB,adminOnly:!0}].filter(w=>!w.adminOnly||o),h=w=>{e(w),a(!1)};return d.jsxs(d.Fragment,{children:[i&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm lg:hidden",onClick:()=>a(!1)}),d.jsxs("aside",{className:`
        fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-slate-900 to-slate-800 
        z-50 transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:z-auto asideHeight
        ${i?"translate-x-0":"-translate-x-full"}
      `,children:[d.jsx("div",{className:"p-6 border-b border-slate-700/50",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 shadow-lg rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-emerald-500/25",children:d.jsx(mO,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold text-white",children:"CRM Pro"}),d.jsx("p",{className:"text-xs text-slate-400",children:"Boshqaruv tizimi"})]})]}),d.jsx("button",{onClick:()=>a(!1),className:"p-2 lg:hidden text-slate-400 hover:text-white",children:d.jsx(Co,{className:"w-6 h-6"})})]})}),d.jsx("div",{className:"p-4 mx-4 mt-4 bg-slate-700/30 rounded-xl",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o?"bg-amber-500":"bg-emerald-500"}`,children:d.jsx("span",{className:"font-bold text-white",children:((y=(x=r==null?void 0:r.name)==null?void 0:x.charAt(0))==null?void 0:y.toUpperCase())||"U"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-white truncate",children:r==null?void 0:r.name}),d.jsx("p",{className:`text-xs font-semibold ${o?"text-amber-400":"text-emerald-400"}`,children:o?" Admin":" Sotuvchi"})]})]})}),d.jsx("nav",{className:"p-4 space-y-1 overflow-y-auto max-h-[calc(100vh-280px)]",children:f.map(w=>d.jsxs("button",{onClick:()=>h(w.id),className:`
                w-full flex items-center gap-3 px-4 py-3 rounded-xl
                transition-all duration-200 group
                ${t===w.id?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}
              `,children:[d.jsx(w.icon,{className:`w-5 h-5 ${t===w.id?"":"group-hover:text-emerald-400"}`}),d.jsx("span",{className:"font-medium",children:w.label}),w.id==="debtors"&&d.jsx("span",{className:"ml-auto px-2 py-0.5 bg-rose-500 text-white text-xs font-bold rounded-full",children:"!"}),w.id==="inventory"&&d.jsx("span",{className:"ml-auto px-2 py-0.5 bg-amber-500 text-white text-xs font-bold rounded-full",children:"!"})]},w.id))}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-700/50",children:d.jsxs("button",{onClick:n,className:"flex items-center w-full gap-3 px-4 py-3 transition-all duration-200 rounded-xl text-slate-300 hover:bg-rose-500/10 hover:text-rose-400",children:[d.jsx(rB,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Chiqish"})]})})]}),d.jsx("button",{onClick:()=>a(!0),className:"fixed z-30 p-3 bg-white border shadow-lg top-4 left-4 lg:hidden rounded-xl border-slate-200",children:d.jsx(sB,{className:"w-6 h-6 text-slate-700"})})]})};function yO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yO(t))&&(r&&(r+=" "),r+=e);return r}var jB=Array.isArray,ci=jB,kB=typeof La=="object"&&La&&La.Object===Object&&La,vO=kB,MB=vO,DB=typeof self=="object"&&self&&self.Object===Object&&self,RB=MB||DB||Function("return this")(),Ya=RB,LB=Ya,BB=LB.Symbol,Uh=BB,nS=Uh,bO=Object.prototype,FB=bO.hasOwnProperty,$B=bO.toString,Cd=nS?nS.toStringTag:void 0;function VB(t){var e=FB.call(t,Cd),n=t[Cd];try{t[Cd]=void 0;var r=!0}catch{}var i=$B.call(t);return r&&(e?t[Cd]=n:delete t[Cd]),i}var UB=VB,zB=Object.prototype,qB=zB.toString;function HB(t){return qB.call(t)}var WB=HB,rS=Uh,GB=UB,KB=WB,XB="[object Null]",YB="[object Undefined]",iS=rS?rS.toStringTag:void 0;function QB(t){return t==null?t===void 0?YB:XB:iS&&iS in Object(t)?GB(t):KB(t)}var ks=QB;function ZB(t){return t!=null&&typeof t=="object"}var Ms=ZB,JB=ks,eF=Ms,tF="[object Symbol]";function nF(t){return typeof t=="symbol"||eF(t)&&JB(t)==tF}var Gu=nF,rF=ci,iF=Gu,aF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sF=/^\w*$/;function oF(t,e){if(rF(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||iF(t)?!0:sF.test(t)||!aF.test(t)||e!=null&&t in Object(e)}var Sw=oF;function lF(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Do=lF;const Ku=kt(Do);var cF=ks,uF=Do,dF="[object AsyncFunction]",fF="[object Function]",hF="[object GeneratorFunction]",pF="[object Proxy]";function mF(t){if(!uF(t))return!1;var e=cF(t);return e==fF||e==hF||e==dF||e==pF}var Tw=mF;const rt=kt(Tw);var gF=Ya,xF=gF["__core-js_shared__"],yF=xF,wx=yF,aS=function(){var t=/[^.]+$/.exec(wx&&wx.keys&&wx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vF(t){return!!aS&&aS in t}var bF=vF,wF=Function.prototype,AF=wF.toString;function _F(t){if(t!=null){try{return AF.call(t)}catch{}try{return t+""}catch{}}return""}var wO=_F,EF=Tw,SF=bF,TF=Do,CF=wO,NF=/[\\^$.*+?()[\]{}|]/g,IF=/^\[object .+?Constructor\]$/,OF=Function.prototype,PF=Object.prototype,jF=OF.toString,kF=PF.hasOwnProperty,MF=RegExp("^"+jF.call(kF).replace(NF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DF(t){if(!TF(t)||SF(t))return!1;var e=EF(t)?MF:IF;return e.test(CF(t))}var RF=DF;function LF(t,e){return t==null?void 0:t[e]}var BF=LF,FF=RF,$F=BF;function VF(t,e){var n=$F(t,e);return FF(n)?n:void 0}var Kl=VF,UF=Kl,zF=UF(Object,"create"),D1=zF,sS=D1;function qF(){this.__data__=sS?sS(null):{},this.size=0}var HF=qF;function WF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var GF=WF,KF=D1,XF="__lodash_hash_undefined__",YF=Object.prototype,QF=YF.hasOwnProperty;function ZF(t){var e=this.__data__;if(KF){var n=e[t];return n===XF?void 0:n}return QF.call(e,t)?e[t]:void 0}var JF=ZF,e$=D1,t$=Object.prototype,n$=t$.hasOwnProperty;function r$(t){var e=this.__data__;return e$?e[t]!==void 0:n$.call(e,t)}var i$=r$,a$=D1,s$="__lodash_hash_undefined__";function o$(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=a$&&e===void 0?s$:e,this}var l$=o$,c$=HF,u$=GF,d$=JF,f$=i$,h$=l$;function Xu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xu.prototype.clear=c$;Xu.prototype.delete=u$;Xu.prototype.get=d$;Xu.prototype.has=f$;Xu.prototype.set=h$;var p$=Xu;function m$(){this.__data__=[],this.size=0}var g$=m$;function x$(t,e){return t===e||t!==t&&e!==e}var Cw=x$,y$=Cw;function v$(t,e){for(var n=t.length;n--;)if(y$(t[n][0],e))return n;return-1}var R1=v$,b$=R1,w$=Array.prototype,A$=w$.splice;function _$(t){var e=this.__data__,n=b$(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():A$.call(e,n,1),--this.size,!0}var E$=_$,S$=R1;function T$(t){var e=this.__data__,n=S$(e,t);return n<0?void 0:e[n][1]}var C$=T$,N$=R1;function I$(t){return N$(this.__data__,t)>-1}var O$=I$,P$=R1;function j$(t,e){var n=this.__data__,r=P$(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var k$=j$,M$=g$,D$=E$,R$=C$,L$=O$,B$=k$;function Yu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yu.prototype.clear=M$;Yu.prototype.delete=D$;Yu.prototype.get=R$;Yu.prototype.has=L$;Yu.prototype.set=B$;var L1=Yu,F$=Kl,$$=Ya,V$=F$($$,"Map"),Nw=V$,oS=p$,U$=L1,z$=Nw;function q$(){this.size=0,this.__data__={hash:new oS,map:new(z$||U$),string:new oS}}var H$=q$;function W$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var G$=W$,K$=G$;function X$(t,e){var n=t.__data__;return K$(e)?n[typeof e=="string"?"string":"hash"]:n.map}var B1=X$,Y$=B1;function Q$(t){var e=Y$(this,t).delete(t);return this.size-=e?1:0,e}var Z$=Q$,J$=B1;function eV(t){return J$(this,t).get(t)}var tV=eV,nV=B1;function rV(t){return nV(this,t).has(t)}var iV=rV,aV=B1;function sV(t,e){var n=aV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oV=sV,lV=H$,cV=Z$,uV=tV,dV=iV,fV=oV;function Qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qu.prototype.clear=lV;Qu.prototype.delete=cV;Qu.prototype.get=uV;Qu.prototype.has=dV;Qu.prototype.set=fV;var Iw=Qu,AO=Iw,hV="Expected a function";function Ow(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hV);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ow.Cache||AO),n}Ow.Cache=AO;var _O=Ow;const pV=kt(_O);var mV=_O,gV=500;function xV(t){var e=mV(t,function(r){return n.size===gV&&n.clear(),r}),n=e.cache;return e}var yV=xV,vV=yV,bV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wV=/\\(\\)?/g,AV=vV(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bV,function(n,r,i,a){e.push(i?a.replace(wV,"$1"):r||n)}),e}),_V=AV;function EV(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Pw=EV,lS=Uh,SV=Pw,TV=ci,CV=Gu,cS=lS?lS.prototype:void 0,uS=cS?cS.toString:void 0;function EO(t){if(typeof t=="string")return t;if(TV(t))return SV(t,EO)+"";if(CV(t))return uS?uS.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var NV=EO,IV=NV;function OV(t){return t==null?"":IV(t)}var SO=OV,PV=ci,jV=Sw,kV=_V,MV=SO;function DV(t,e){return PV(t)?t:jV(t,e)?[t]:kV(MV(t))}var TO=DV,RV=Gu;function LV(t){if(typeof t=="string"||RV(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var F1=LV,BV=TO,FV=F1;function $V(t,e){e=BV(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[FV(e[n++])];return n&&n==r?t:void 0}var jw=$V,VV=jw;function UV(t,e,n){var r=t==null?void 0:VV(t,e);return r===void 0?n:r}var CO=UV;const Pi=kt(CO);function zV(t){return t==null}var qV=zV;const ct=kt(qV);var HV=ks,WV=ci,GV=Ms,KV="[object String]";function XV(t){return typeof t=="string"||!WV(t)&&GV(t)&&HV(t)==KV}var YV=XV;const Bl=kt(YV);var NO={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw=Symbol.for("react.element"),Mw=Symbol.for("react.portal"),$1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),U1=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),QV=Symbol.for("react.server_context"),H1=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),K1=Symbol.for("react.memo"),X1=Symbol.for("react.lazy"),ZV=Symbol.for("react.offscreen"),IO;IO=Symbol.for("react.module.reference");function ta(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kw:switch(t=t.type,t){case $1:case U1:case V1:case W1:case G1:return t;default:switch(t=t&&t.$$typeof,t){case QV:case q1:case H1:case X1:case K1:case z1:return t;default:return e}}case Mw:return e}}}zt.ContextConsumer=q1;zt.ContextProvider=z1;zt.Element=kw;zt.ForwardRef=H1;zt.Fragment=$1;zt.Lazy=X1;zt.Memo=K1;zt.Portal=Mw;zt.Profiler=U1;zt.StrictMode=V1;zt.Suspense=W1;zt.SuspenseList=G1;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(t){return ta(t)===q1};zt.isContextProvider=function(t){return ta(t)===z1};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kw};zt.isForwardRef=function(t){return ta(t)===H1};zt.isFragment=function(t){return ta(t)===$1};zt.isLazy=function(t){return ta(t)===X1};zt.isMemo=function(t){return ta(t)===K1};zt.isPortal=function(t){return ta(t)===Mw};zt.isProfiler=function(t){return ta(t)===U1};zt.isStrictMode=function(t){return ta(t)===V1};zt.isSuspense=function(t){return ta(t)===W1};zt.isSuspenseList=function(t){return ta(t)===G1};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$1||t===U1||t===V1||t===W1||t===G1||t===ZV||typeof t=="object"&&t!==null&&(t.$$typeof===X1||t.$$typeof===K1||t.$$typeof===z1||t.$$typeof===q1||t.$$typeof===H1||t.$$typeof===IO||t.getModuleId!==void 0)};zt.typeOf=ta;NO.exports=zt;var JV=NO.exports,eU=ks,tU=Ms,nU="[object Number]";function rU(t){return typeof t=="number"||tU(t)&&eU(t)==nU}var OO=rU;const iU=kt(OO);var aU=OO;function sU(t){return aU(t)&&t!=+t}var oU=sU;const Zu=kt(oU);var Fr=function(e){return e===0?0:e>0?1:-1},gl=function(e){return Bl(e)&&e.indexOf("%")===e.length-1},je=function(e){return iU(e)&&!Zu(e)},lU=function(e){return ct(e)},Jn=function(e){return je(e)||Bl(e)},cU=0,Ju=function(e){var n=++cU;return"".concat(e||"").concat(n)},$r=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!Bl(e))return r;var a;if(gl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Zu(a)&&(a=r),i&&a>n&&(a=n),a},Zs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},uU=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ti=function(e,n){return je(e)&&je(n)?function(r){return e+r*(n-e)}:function(){return n}};function Xp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Pi(r,e))===n})}var dU=function(e,n){return je(e)&&je(n)?e-n:Bl(e)&&Bl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Hc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}var fU=["viewBox","children"],hU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dS=["points","pathLength"],Ax={svg:fU,polygon:dS,polyline:dS},Dw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ee.isValidElement(e)&&(r=e.props),!Ku(r))return null;var i={};return Object.keys(r).forEach(function(a){Dw.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},pU=function(e,n,r){return function(i){return e(n,r,i),null}},Fl=function(e,n,r){if(!Ku(e)||yv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Dw.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=pU(o,n,r))}),i},mU=["children"],gU=["children"];function fS(t,e){if(t==null)return{};var n=xU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}var hS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ys=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},pS=null,_x=null,Rw=function t(e){if(e===pS&&Array.isArray(_x))return _x;var n=[];return ee.Children.forEach(e,function(r){ct(r)||(JV.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),_x=n,pS=e,n};function Yi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ys(i)}):r=[ys(e)],Rw(t).forEach(function(i){var a=Pi(i,"type.displayName")||Pi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function _i(t,e){var n=Yi(t,e);return n&&n[0]}var mS=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!je(r)||r<=0||!je(i)||i<=0)},yU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vU=function(e){return e&&e.type&&Bl(e.type)&&yU.indexOf(e.type)>=0},bU=function(e){return e&&vv(e)==="object"&&"clipDot"in e},wU=function(e,n,r,i){var a,o=(a=Ax==null?void 0:Ax[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!rt(e)&&(i&&o.includes(n)||hU.includes(n))||r&&Dw.includes(n)},Ze=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ee.isValidElement(e)&&(i=e.props),!Ku(i))return null;var a={};return Object.keys(i).forEach(function(o){var u;wU((u=i)===null||u===void 0?void 0:u[o],o,n,r)&&(a[o]=i[o])}),a},bv=function t(e,n){if(e===n)return!0;var r=ee.Children.count(e);if(r!==ee.Children.count(n))return!1;if(r===0)return!0;if(r===1)return gS(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!gS(a,o))return!1}return!0},gS=function(e,n){if(ct(e)&&ct(n))return!0;if(!ct(e)&&!ct(n)){var r=e.props||{},i=r.children,a=fS(r,mU),o=n.props||{},u=o.children,f=fS(o,gU);return i&&u?Hc(a,f)&&bv(i,u):!i&&!u?Hc(a,f):!1}return!1},xS=function(e,n){var r=[],i={};return Rw(e).forEach(function(a,o){if(vU(a))r.push(a);else if(a){var u=ys(a.type),f=n[u]||{},h=f.handler,x=f.once;if(h&&(!x||!i[u])){var y=h(a,u,o);r.push(y),i[u]=!0}}}),r},AU=function(e){var n=e&&e.type;return n&&hS[n]?hS[n]:null},_U=function(e,n){return Rw(n).indexOf(e)},EU=["children","width","height","viewBox","className","style","title","desc"];function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function SU(t,e){if(t==null)return{};var n=TU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Av(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,u=t.title,f=t.desc,h=SU(t,EU),x=i||{width:n,height:r,x:0,y:0},y=ft("recharts-surface",a);return ae.createElement("svg",wv({},Ze(h,!0,"svg"),{className:y,width:n,height:r,style:o,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height)}),ae.createElement("title",null,u),ae.createElement("desc",null,f),e)}var CU=["children","className"];function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function NU(t,e){if(t==null)return{};var n=IU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var St=ae.forwardRef(function(t,e){var n=t.children,r=t.className,i=NU(t,CU),a=ft("recharts-layer",r);return ae.createElement("g",_v({className:a},Ze(i,!0),{ref:e}),n)}),ba=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function OU(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var PU=OU,jU=PU;function kU(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:jU(t,e,n)}var MU=kU,DU="\\ud800-\\udfff",RU="\\u0300-\\u036f",LU="\\ufe20-\\ufe2f",BU="\\u20d0-\\u20ff",FU=RU+LU+BU,$U="\\ufe0e\\ufe0f",VU="\\u200d",UU=RegExp("["+VU+DU+FU+$U+"]");function zU(t){return UU.test(t)}var PO=zU;function qU(t){return t.split("")}var HU=qU,jO="\\ud800-\\udfff",WU="\\u0300-\\u036f",GU="\\ufe20-\\ufe2f",KU="\\u20d0-\\u20ff",XU=WU+GU+KU,YU="\\ufe0e\\ufe0f",QU="["+jO+"]",Ev="["+XU+"]",Sv="\\ud83c[\\udffb-\\udfff]",ZU="(?:"+Ev+"|"+Sv+")",kO="[^"+jO+"]",MO="(?:\\ud83c[\\udde6-\\uddff]){2}",DO="[\\ud800-\\udbff][\\udc00-\\udfff]",JU="\\u200d",RO=ZU+"?",LO="["+YU+"]?",ez="(?:"+JU+"(?:"+[kO,MO,DO].join("|")+")"+LO+RO+")*",tz=LO+RO+ez,nz="(?:"+[kO+Ev+"?",Ev,MO,DO,QU].join("|")+")",rz=RegExp(Sv+"(?="+Sv+")|"+nz+tz,"g");function iz(t){return t.match(rz)||[]}var az=iz,sz=HU,oz=PO,lz=az;function cz(t){return oz(t)?lz(t):sz(t)}var uz=cz,dz=MU,fz=PO,hz=uz,pz=SO;function mz(t){return function(e){e=pz(e);var n=fz(e)?hz(e):void 0,r=n?n[0]:e.charAt(0),i=n?dz(n,1).join(""):e.slice(1);return r[t]()+i}}var gz=mz,xz=gz,yz=xz("toUpperCase"),vz=yz;const Y1=kt(vz);function Zt(t){return function(){return t}}const BO=Math.cos,Qp=Math.sin,Ea=Math.sqrt,Zp=Math.PI,Q1=2*Zp,Tv=Math.PI,Cv=2*Tv,ol=1e-6,bz=Cv-ol;function FO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FO;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Az{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FO:wz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,f=r-e,h=i-n,x=o-e,y=u-n,w=x*x+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(w>ol)if(!(Math.abs(y*f-h*x)>ol)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-o,I=i-u,N=f*f+h*h,M=_*_+I*I,P=Math.sqrt(N),S=Math.sqrt(w),C=a*Math.tan((Tv-Math.acos((N+w-M)/(2*P*S)))/2),V=C/S,k=C/P;Math.abs(V-1)>ol&&this._append`L${e+V*x},${n+V*y}`,this._append`A${a},${a},0,0,${+(y*_>x*I)},${this._x1=e+k*f},${this._y1=n+k*h}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),h=e+u,x=n+f,y=1^o,w=o?i-a:a-i;this._x1===null?this._append`M${h},${x}`:(Math.abs(this._x1-h)>ol||Math.abs(this._y1-x)>ol)&&this._append`L${h},${x}`,r&&(w<0&&(w=w%Cv+Cv),w>bz?this._append`A${r},${r},0,1,${y},${e-u},${n-f}A${r},${r},0,1,${y},${this._x1=h},${this._y1=x}`:w>ol&&this._append`A${r},${r},0,${+(w>=Tv)},${y},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Lw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Az(e)}function Bw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $O(t){this._context=t}$O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Z1(t){return new $O(t)}function VO(t){return t[0]}function UO(t){return t[1]}function zO(t,e){var n=Zt(!0),r=null,i=Z1,a=null,o=Lw(u);t=typeof t=="function"?t:t===void 0?VO:Zt(t),e=typeof e=="function"?e:e===void 0?UO:Zt(e);function u(f){var h,x=(f=Bw(f)).length,y,w=!1,_;for(r==null&&(a=i(_=o())),h=0;h<=x;++h)!(h<x&&n(y=f[h],h,f))===w&&((w=!w)?a.lineStart():a.lineEnd()),w&&a.point(+t(y,h,f),+e(y,h,f));if(_)return a=null,_+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Zt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function j0(t,e,n){var r=null,i=Zt(!0),a=null,o=Z1,u=null,f=Lw(h);t=typeof t=="function"?t:t===void 0?VO:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?UO:Zt(+n);function h(y){var w,_,I,N=(y=Bw(y)).length,M,P=!1,S,C=new Array(N),V=new Array(N);for(a==null&&(u=o(S=f())),w=0;w<=N;++w){if(!(w<N&&i(M=y[w],w,y))===P)if(P=!P)_=w,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),I=w-1;I>=_;--I)u.point(C[I],V[I]);u.lineEnd(),u.areaEnd()}P&&(C[w]=+t(M,w,y),V[w]=+e(M,w,y),u.point(r?+r(M,w,y):C[w],n?+n(M,w,y):V[w]))}if(S)return u=null,S+""||null}function x(){return zO().defined(i).curve(o).context(a)}return h.x=function(y){return arguments.length?(t=typeof y=="function"?y:Zt(+y),r=null,h):t},h.x0=function(y){return arguments.length?(t=typeof y=="function"?y:Zt(+y),h):t},h.x1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:Zt(+y),h):r},h.y=function(y){return arguments.length?(e=typeof y=="function"?y:Zt(+y),n=null,h):e},h.y0=function(y){return arguments.length?(e=typeof y=="function"?y:Zt(+y),h):e},h.y1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:Zt(+y),h):n},h.lineX0=h.lineY0=function(){return x().x(t).y(e)},h.lineY1=function(){return x().x(t).y(n)},h.lineX1=function(){return x().x(r).y(e)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:Zt(!!y),h):i},h.curve=function(y){return arguments.length?(o=y,a!=null&&(u=o(a)),h):o},h.context=function(y){return arguments.length?(y==null?a=u=null:u=o(a=y),h):a},h}class qO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _z(t){return new qO(t,!0)}function Ez(t){return new qO(t,!1)}const Fw={draw(t,e){const n=Ea(e/Zp);t.moveTo(n,0),t.arc(0,0,n,0,Q1)}},Sz={draw(t,e){const n=Ea(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},HO=Ea(1/3),Tz=HO*2,Cz={draw(t,e){const n=Ea(e/Tz),r=n*HO;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Nz={draw(t,e){const n=Ea(e),r=-n/2;t.rect(r,r,n,n)}},Iz=.8908130915292852,WO=Qp(Zp/10)/Qp(7*Zp/10),Oz=Qp(Q1/10)*WO,Pz=-BO(Q1/10)*WO,jz={draw(t,e){const n=Ea(e*Iz),r=Oz*n,i=Pz*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Q1*a/5,u=BO(o),f=Qp(o);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},Ex=Ea(3),kz={draw(t,e){const n=-Ea(e/(Ex*3));t.moveTo(0,n*2),t.lineTo(-Ex*n,-n),t.lineTo(Ex*n,-n),t.closePath()}},Fi=-.5,$i=Ea(3)/2,Nv=1/Ea(12),Mz=(Nv/2+1)*3,Dz={draw(t,e){const n=Ea(e/Mz),r=n/2,i=n*Nv,a=r,o=n*Nv+n,u=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,f),t.lineTo(Fi*r-$i*i,$i*r+Fi*i),t.lineTo(Fi*a-$i*o,$i*a+Fi*o),t.lineTo(Fi*u-$i*f,$i*u+Fi*f),t.lineTo(Fi*r+$i*i,Fi*i-$i*r),t.lineTo(Fi*a+$i*o,Fi*o-$i*a),t.lineTo(Fi*u+$i*f,Fi*f-$i*u),t.closePath()}};function Rz(t,e){let n=null,r=Lw(i);t=typeof t=="function"?t:Zt(t||Fw),e=typeof e=="function"?e:Zt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Zt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Jp(){}function em(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function GO(t){this._context=t}GO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:em(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:em(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lz(t){return new GO(t)}function KO(t){this._context=t}KO.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:em(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bz(t){return new KO(t)}function XO(t){this._context=t}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:em(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fz(t){return new XO(t)}function YO(t){this._context=t}YO.prototype={areaStart:Jp,areaEnd:Jp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $z(t){return new YO(t)}function yS(t){return t<0?-1:1}function vS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(yS(a)+yS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function bS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Sx(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function tm(t){this._context=t}tm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sx(this,this._t0,bS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Sx(this,bS(this,n=vS(this,t,e)),n);break;default:Sx(this,this._t0,n=vS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function QO(t){this._context=new ZO(t)}(QO.prototype=Object.create(tm.prototype)).point=function(t,e){tm.prototype.point.call(this,e,t)};function ZO(t){this._context=t}ZO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Vz(t){return new tm(t)}function Uz(t){return new QO(t)}function JO(t){this._context=t}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wS(t),i=wS(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wS(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function zz(t){return new JO(t)}function J1(t,e){this._context=t,this._t=e}J1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qz(t){return new J1(t,.5)}function Hz(t){return new J1(t,0)}function Wz(t){return new J1(t,1)}function hu(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Iv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Gz(t,e){return t[e]}function Kz(t){const e=[];return e.key=t,e}function Xz(){var t=Zt([]),e=Iv,n=hu,r=Gz;function i(a){var o=Array.from(t.apply(this,arguments),Kz),u,f=o.length,h=-1,x;for(const y of a)for(u=0,++h;u<f;++u)(o[u][h]=[0,+r(y,o[u].key,h,a)]).data=y;for(u=0,x=Bw(e(o));u<f;++u)o[x[u]].index=u;return n(o,x),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Zt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Iv:typeof a=="function"?a:Zt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??hu,i):n},i}function Yz(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}hu(t,e)}}function Qz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}hu(t,e)}}function Zz(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,f=0,h=0;u<o;++u){for(var x=t[e[u]],y=x[r][1]||0,w=x[r-1][1]||0,_=(y-w)/2,I=0;I<u;++I){var N=t[e[I]],M=N[r][1]||0,P=N[r-1][1]||0;_+=M-P}f+=y,h+=_*y}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,hu(t,e)}}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var Jz=["type","size","sizeType"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function AS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(n),!0).forEach(function(r){eq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eq(t,e,n){return e=tq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tq(t){var e=nq(t,"string");return qf(e)=="symbol"?e:e+""}function nq(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rq(t,e){if(t==null)return{};var n=iq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var e5={symbolCircle:Fw,symbolCross:Sz,symbolDiamond:Cz,symbolSquare:Nz,symbolStar:jz,symbolTriangle:kz,symbolWye:Dz},aq=Math.PI/180,sq=function(e){var n="symbol".concat(Y1(e));return e5[n]||Fw},oq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*aq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lq=function(e,n){e5["symbol".concat(Y1(e))]=n},$w=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,f=rq(e,Jz),h=_S(_S({},f),{},{type:r,size:a,sizeType:u}),x=function(){var M=sq(r),P=Rz().type(M).size(oq(a,u,r));return P()},y=h.className,w=h.cx,_=h.cy,I=Ze(h,!0);return w===+w&&_===+_&&a===+a?ae.createElement("path",Ov({},I,{className:ft("recharts-symbols",y),transform:"translate(".concat(w,", ").concat(_,")"),d:x()})):null};$w.registerSymbol=lq;function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(n),!0).forEach(function(r){Hf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n5(r.key),r)}}function fq(t,e,n){return e&&dq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hq(t,e,n){return e=nm(e),pq(t,t5()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function pq(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mq(t)}function mq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function gq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jv(t,e)}function Hf(t,e,n){return e=n5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5(t){var e=xq(t,"string");return pu(e)=="symbol"?e:e+""}function xq(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vi=32,Vw=function(t){function e(){return uq(this,e),hq(this,e,arguments)}return gq(e,t),fq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Vi/2,o=Vi/6,u=Vi/3,f=r.inactive?i:r.color;if(r.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Vi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(Vi,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ae.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Vi/8,"h").concat(Vi,"v").concat(Vi*3/4,"h").concat(-Vi,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(r.legendIcon)){var h=cq({},r);return delete h.legendIcon,ae.cloneElement(r.legendIcon,h)}return ae.createElement($w,{fill:f,cx:a,cy:a,size:Vi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,u=i.layout,f=i.formatter,h=i.inactiveColor,x={x:0,y:0,width:Vi,height:Vi},y={display:u==="horizontal"?"inline-block":"block",marginRight:10},w={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,I){var N=_.formatter||f,M=ft(Hf(Hf({"recharts-legend-item":!0},"legend-item-".concat(I),!0),"inactive",_.inactive));if(_.type==="none")return null;var P=rt(_.value)?null:_.value;ba(!rt(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=_.inactive?h:_.color;return ae.createElement("li",Pv({className:M,style:y,key:"legend-item-".concat(I)},Fl(r.props,_,I)),ae.createElement(Av,{width:o,height:o,viewBox:x,style:w},r.renderIcon(_)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},N?N(P,_,I):P))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(ee.PureComponent);Hf(Vw,"displayName","Legend");Hf(Vw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yq=L1;function vq(){this.__data__=new yq,this.size=0}var bq=vq;function wq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Aq=wq;function _q(t){return this.__data__.get(t)}var Eq=_q;function Sq(t){return this.__data__.has(t)}var Tq=Sq,Cq=L1,Nq=Nw,Iq=Iw,Oq=200;function Pq(t,e){var n=this.__data__;if(n instanceof Cq){var r=n.__data__;if(!Nq||r.length<Oq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Iq(r)}return n.set(t,e),this.size=n.size,this}var jq=Pq,kq=L1,Mq=bq,Dq=Aq,Rq=Eq,Lq=Tq,Bq=jq;function ed(t){var e=this.__data__=new kq(t);this.size=e.size}ed.prototype.clear=Mq;ed.prototype.delete=Dq;ed.prototype.get=Rq;ed.prototype.has=Lq;ed.prototype.set=Bq;var r5=ed,Fq="__lodash_hash_undefined__";function $q(t){return this.__data__.set(t,Fq),this}var Vq=$q;function Uq(t){return this.__data__.has(t)}var zq=Uq,qq=Iw,Hq=Vq,Wq=zq;function rm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new qq;++e<n;)this.add(t[e])}rm.prototype.add=rm.prototype.push=Hq;rm.prototype.has=Wq;var i5=rm;function Gq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var a5=Gq;function Kq(t,e){return t.has(e)}var s5=Kq,Xq=i5,Yq=a5,Qq=s5,Zq=1,Jq=2;function eH(t,e,n,r,i,a){var o=n&Zq,u=t.length,f=e.length;if(u!=f&&!(o&&f>u))return!1;var h=a.get(t),x=a.get(e);if(h&&x)return h==e&&x==t;var y=-1,w=!0,_=n&Jq?new Xq:void 0;for(a.set(t,e),a.set(e,t);++y<u;){var I=t[y],N=e[y];if(r)var M=o?r(N,I,y,e,t,a):r(I,N,y,t,e,a);if(M!==void 0){if(M)continue;w=!1;break}if(_){if(!Yq(e,function(P,S){if(!Qq(_,S)&&(I===P||i(I,P,n,r,a)))return _.push(S)})){w=!1;break}}else if(!(I===N||i(I,N,n,r,a))){w=!1;break}}return a.delete(t),a.delete(e),w}var o5=eH,tH=Ya,nH=tH.Uint8Array,rH=nH;function iH(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var aH=iH;function sH(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Uw=sH,SS=Uh,TS=rH,oH=Cw,lH=o5,cH=aH,uH=Uw,dH=1,fH=2,hH="[object Boolean]",pH="[object Date]",mH="[object Error]",gH="[object Map]",xH="[object Number]",yH="[object RegExp]",vH="[object Set]",bH="[object String]",wH="[object Symbol]",AH="[object ArrayBuffer]",_H="[object DataView]",CS=SS?SS.prototype:void 0,Tx=CS?CS.valueOf:void 0;function EH(t,e,n,r,i,a,o){switch(n){case _H:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case AH:return!(t.byteLength!=e.byteLength||!a(new TS(t),new TS(e)));case hH:case pH:case xH:return oH(+t,+e);case mH:return t.name==e.name&&t.message==e.message;case yH:case bH:return t==e+"";case gH:var u=cH;case vH:var f=r&dH;if(u||(u=uH),t.size!=e.size&&!f)return!1;var h=o.get(t);if(h)return h==e;r|=fH,o.set(t,e);var x=lH(u(t),u(e),r,i,a,o);return o.delete(t),x;case wH:if(Tx)return Tx.call(t)==Tx.call(e)}return!1}var SH=EH;function TH(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var l5=TH,CH=l5,NH=ci;function IH(t,e,n){var r=e(t);return NH(t)?r:CH(r,n(t))}var OH=IH;function PH(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var jH=PH;function kH(){return[]}var MH=kH,DH=jH,RH=MH,LH=Object.prototype,BH=LH.propertyIsEnumerable,NS=Object.getOwnPropertySymbols,FH=NS?function(t){return t==null?[]:(t=Object(t),DH(NS(t),function(e){return BH.call(t,e)}))}:RH,$H=FH;function VH(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var UH=VH,zH=ks,qH=Ms,HH="[object Arguments]";function WH(t){return qH(t)&&zH(t)==HH}var GH=WH,IS=GH,KH=Ms,c5=Object.prototype,XH=c5.hasOwnProperty,YH=c5.propertyIsEnumerable,QH=IS(function(){return arguments}())?IS:function(t){return KH(t)&&XH.call(t,"callee")&&!YH.call(t,"callee")},zw=QH,im={exports:{}};function ZH(){return!1}var JH=ZH;im.exports;(function(t,e){var n=Ya,r=JH,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?n.Buffer:void 0,f=u?u.isBuffer:void 0,h=f||r;t.exports=h})(im,im.exports);var u5=im.exports,eW=9007199254740991,tW=/^(?:0|[1-9]\d*)$/;function nW(t,e){var n=typeof t;return e=e??eW,!!e&&(n=="number"||n!="symbol"&&tW.test(t))&&t>-1&&t%1==0&&t<e}var qw=nW,rW=9007199254740991;function iW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rW}var Hw=iW,aW=ks,sW=Hw,oW=Ms,lW="[object Arguments]",cW="[object Array]",uW="[object Boolean]",dW="[object Date]",fW="[object Error]",hW="[object Function]",pW="[object Map]",mW="[object Number]",gW="[object Object]",xW="[object RegExp]",yW="[object Set]",vW="[object String]",bW="[object WeakMap]",wW="[object ArrayBuffer]",AW="[object DataView]",_W="[object Float32Array]",EW="[object Float64Array]",SW="[object Int8Array]",TW="[object Int16Array]",CW="[object Int32Array]",NW="[object Uint8Array]",IW="[object Uint8ClampedArray]",OW="[object Uint16Array]",PW="[object Uint32Array]",ln={};ln[_W]=ln[EW]=ln[SW]=ln[TW]=ln[CW]=ln[NW]=ln[IW]=ln[OW]=ln[PW]=!0;ln[lW]=ln[cW]=ln[wW]=ln[uW]=ln[AW]=ln[dW]=ln[fW]=ln[hW]=ln[pW]=ln[mW]=ln[gW]=ln[xW]=ln[yW]=ln[vW]=ln[bW]=!1;function jW(t){return oW(t)&&sW(t.length)&&!!ln[aW(t)]}var kW=jW;function MW(t){return function(e){return t(e)}}var d5=MW,am={exports:{}};am.exports;(function(t,e){var n=vO,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,u=function(){try{var f=i&&i.require&&i.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u})(am,am.exports);var DW=am.exports,RW=kW,LW=d5,OS=DW,PS=OS&&OS.isTypedArray,BW=PS?LW(PS):RW,f5=BW,FW=UH,$W=zw,VW=ci,UW=u5,zW=qw,qW=f5,HW=Object.prototype,WW=HW.hasOwnProperty;function GW(t,e){var n=VW(t),r=!n&&$W(t),i=!n&&!r&&UW(t),a=!n&&!r&&!i&&qW(t),o=n||r||i||a,u=o?FW(t.length,String):[],f=u.length;for(var h in t)(e||WW.call(t,h))&&!(o&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||zW(h,f)))&&u.push(h);return u}var KW=GW,XW=Object.prototype;function YW(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||XW;return t===n}var QW=YW;function ZW(t,e){return function(n){return t(e(n))}}var h5=ZW,JW=h5,eG=JW(Object.keys,Object),tG=eG,nG=QW,rG=tG,iG=Object.prototype,aG=iG.hasOwnProperty;function sG(t){if(!nG(t))return rG(t);var e=[];for(var n in Object(t))aG.call(t,n)&&n!="constructor"&&e.push(n);return e}var oG=sG,lG=Tw,cG=Hw;function uG(t){return t!=null&&cG(t.length)&&!lG(t)}var zh=uG,dG=KW,fG=oG,hG=zh;function pG(t){return hG(t)?dG(t):fG(t)}var eg=pG,mG=OH,gG=$H,xG=eg;function yG(t){return mG(t,xG,gG)}var vG=yG,jS=vG,bG=1,wG=Object.prototype,AG=wG.hasOwnProperty;function _G(t,e,n,r,i,a){var o=n&bG,u=jS(t),f=u.length,h=jS(e),x=h.length;if(f!=x&&!o)return!1;for(var y=f;y--;){var w=u[y];if(!(o?w in e:AG.call(e,w)))return!1}var _=a.get(t),I=a.get(e);if(_&&I)return _==e&&I==t;var N=!0;a.set(t,e),a.set(e,t);for(var M=o;++y<f;){w=u[y];var P=t[w],S=e[w];if(r)var C=o?r(S,P,w,e,t,a):r(P,S,w,t,e,a);if(!(C===void 0?P===S||i(P,S,n,r,a):C)){N=!1;break}M||(M=w=="constructor")}if(N&&!M){var V=t.constructor,k=e.constructor;V!=k&&"constructor"in t&&"constructor"in e&&!(typeof V=="function"&&V instanceof V&&typeof k=="function"&&k instanceof k)&&(N=!1)}return a.delete(t),a.delete(e),N}var EG=_G,SG=Kl,TG=Ya,CG=SG(TG,"DataView"),NG=CG,IG=Kl,OG=Ya,PG=IG(OG,"Promise"),jG=PG,kG=Kl,MG=Ya,DG=kG(MG,"Set"),p5=DG,RG=Kl,LG=Ya,BG=RG(LG,"WeakMap"),FG=BG,kv=NG,Mv=Nw,Dv=jG,Rv=p5,Lv=FG,m5=ks,td=wO,kS="[object Map]",$G="[object Object]",MS="[object Promise]",DS="[object Set]",RS="[object WeakMap]",LS="[object DataView]",VG=td(kv),UG=td(Mv),zG=td(Dv),qG=td(Rv),HG=td(Lv),ll=m5;(kv&&ll(new kv(new ArrayBuffer(1)))!=LS||Mv&&ll(new Mv)!=kS||Dv&&ll(Dv.resolve())!=MS||Rv&&ll(new Rv)!=DS||Lv&&ll(new Lv)!=RS)&&(ll=function(t){var e=m5(t),n=e==$G?t.constructor:void 0,r=n?td(n):"";if(r)switch(r){case VG:return LS;case UG:return kS;case zG:return MS;case qG:return DS;case HG:return RS}return e});var WG=ll,Cx=r5,GG=o5,KG=SH,XG=EG,BS=WG,FS=ci,$S=u5,YG=f5,QG=1,VS="[object Arguments]",US="[object Array]",k0="[object Object]",ZG=Object.prototype,zS=ZG.hasOwnProperty;function JG(t,e,n,r,i,a){var o=FS(t),u=FS(e),f=o?US:BS(t),h=u?US:BS(e);f=f==VS?k0:f,h=h==VS?k0:h;var x=f==k0,y=h==k0,w=f==h;if(w&&$S(t)){if(!$S(e))return!1;o=!0,x=!1}if(w&&!x)return a||(a=new Cx),o||YG(t)?GG(t,e,n,r,i,a):KG(t,e,f,n,r,i,a);if(!(n&QG)){var _=x&&zS.call(t,"__wrapped__"),I=y&&zS.call(e,"__wrapped__");if(_||I){var N=_?t.value():t,M=I?e.value():e;return a||(a=new Cx),i(N,M,n,r,a)}}return w?(a||(a=new Cx),XG(t,e,n,r,i,a)):!1}var eK=JG,tK=eK,qS=Ms;function g5(t,e,n,r,i){return t===e?!0:t==null||e==null||!qS(t)&&!qS(e)?t!==t&&e!==e:tK(t,e,n,r,g5,i)}var Ww=g5,nK=r5,rK=Ww,iK=1,aK=2;function sK(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var u=n[i];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){u=n[i];var f=u[0],h=t[f],x=u[1];if(o&&u[2]){if(h===void 0&&!(f in t))return!1}else{var y=new nK;if(r)var w=r(h,x,f,t,e,y);if(!(w===void 0?rK(x,h,iK|aK,r,y):w))return!1}}return!0}var oK=sK,lK=Do;function cK(t){return t===t&&!lK(t)}var x5=cK,uK=x5,dK=eg;function fK(t){for(var e=dK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,uK(i)]}return e}var hK=fK;function pK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var y5=pK,mK=oK,gK=hK,xK=y5;function yK(t){var e=gK(t);return e.length==1&&e[0][2]?xK(e[0][0],e[0][1]):function(n){return n===t||mK(n,t,e)}}var vK=yK;function bK(t,e){return t!=null&&e in Object(t)}var wK=bK,AK=TO,_K=zw,EK=ci,SK=qw,TK=Hw,CK=F1;function NK(t,e,n){e=AK(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=CK(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&TK(i)&&SK(o,i)&&(EK(t)||_K(t)))}var IK=NK,OK=wK,PK=IK;function jK(t,e){return t!=null&&PK(t,e,OK)}var kK=jK,MK=Ww,DK=CO,RK=kK,LK=Sw,BK=x5,FK=y5,$K=F1,VK=1,UK=2;function zK(t,e){return LK(t)&&BK(e)?FK($K(t),e):function(n){var r=DK(n,t);return r===void 0&&r===e?RK(n,t):MK(e,r,VK|UK)}}var qK=zK;function HK(t){return t}var nd=HK;function WK(t){return function(e){return e==null?void 0:e[t]}}var GK=WK,KK=jw;function XK(t){return function(e){return KK(e,t)}}var YK=XK,QK=GK,ZK=YK,JK=Sw,eX=F1;function tX(t){return JK(t)?QK(eX(t)):ZK(t)}var nX=tX,rX=vK,iX=qK,aX=nd,sX=ci,oX=nX;function lX(t){return typeof t=="function"?t:t==null?aX:typeof t=="object"?sX(t)?iX(t[0],t[1]):rX(t):oX(t)}var Qa=lX;function cX(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var v5=cX;function uX(t){return t!==t}var dX=uX;function fX(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var hX=fX,pX=v5,mX=dX,gX=hX;function xX(t,e,n){return e===e?gX(t,e,n):pX(t,mX,n)}var yX=xX,vX=yX;function bX(t,e){var n=t==null?0:t.length;return!!n&&vX(t,e,0)>-1}var wX=bX;function AX(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var _X=AX;function EX(){}var SX=EX,Nx=p5,TX=SX,CX=Uw,NX=1/0,IX=Nx&&1/CX(new Nx([,-0]))[1]==NX?function(t){return new Nx(t)}:TX,OX=IX,PX=i5,jX=wX,kX=_X,MX=s5,DX=OX,RX=Uw,LX=200;function BX(t,e,n){var r=-1,i=jX,a=t.length,o=!0,u=[],f=u;if(n)o=!1,i=kX;else if(a>=LX){var h=e?null:DX(t);if(h)return RX(h);o=!1,i=MX,f=new PX}else f=e?[]:u;e:for(;++r<a;){var x=t[r],y=e?e(x):x;if(x=n||x!==0?x:0,o&&y===y){for(var w=f.length;w--;)if(f[w]===y)continue e;e&&f.push(y),u.push(x)}else i(f,y,n)||(f!==u&&f.push(y),u.push(x))}return u}var FX=BX,$X=Qa,VX=FX;function UX(t,e){return t&&t.length?VX(t,$X(e)):[]}var zX=UX;const HS=kt(zX);function b5(t,e,n){return e===!0?HS(t,n):rt(e)?HS(t,e):t}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}var qX=["ref"];function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(r){tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function WX(t,e,n){return e&&GS(t.prototype,e),n&&GS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GX(t,e,n){return e=sm(e),KX(t,w5()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function KX(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(t)}function XX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w5=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function YX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bv(t,e)}function tg(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A5(t){var e=QX(t,"string");return mu(e)=="symbol"?e:e+""}function QX(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZX(t,e){if(t==null)return{};var n=JX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eY(t){return t.value}function tY(t,e){if(ae.isValidElement(t))return ae.cloneElement(t,e);if(typeof t=="function")return ae.createElement(t,e);e.ref;var n=ZX(e,qX);return ae.createElement(Vw,n)}var KS=1,El=function(t){function e(){var n;HX(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=GX(this,e,[].concat(i)),tg(n,"lastBoundingBox",{width:-1,height:-1}),n}return YX(e,t),WX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>KS||Math.abs(i.height-this.lastBoundingBox.height)>KS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ss({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,u=i.verticalAlign,f=i.margin,h=i.chartWidth,x=i.chartHeight,y,w;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();y={left:((h||0)-_.width)/2}}else y=o==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var I=this.getBBoxSnapshot();w={top:((x||0)-I.height)/2}}else w=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return ss(ss({},y),w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,u=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,x=i.payload,y=ss(ss({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return ae.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:function(_){r.wrapperNode=_}},tY(a,ss(ss({},this.props),{},{payload:b5(x,h,eY)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ss(ss({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&je(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(ee.PureComponent);tg(El,"displayName","Legend");tg(El,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XS=Uh,nY=zw,rY=ci,YS=XS?XS.isConcatSpreadable:void 0;function iY(t){return rY(t)||nY(t)||!!(YS&&t&&t[YS])}var aY=iY,sY=l5,oY=aY;function _5(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=oY),i||(i=[]);++a<o;){var u=t[a];e>0&&n(u)?e>1?_5(u,e-1,n,r,i):sY(i,u):r||(i[i.length]=u)}return i}var E5=_5;function lY(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),u=o.length;u--;){var f=o[t?u:++i];if(n(a[f],f,a)===!1)break}return e}}var cY=lY,uY=cY,dY=uY(),fY=dY,hY=fY,pY=eg;function mY(t,e){return t&&hY(t,e,pY)}var S5=mY,gY=zh;function xY(t,e){return function(n,r){if(n==null)return n;if(!gY(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var yY=xY,vY=S5,bY=yY,wY=bY(vY),Gw=wY,AY=Gw,_Y=zh;function EY(t,e){var n=-1,r=_Y(t)?Array(t.length):[];return AY(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var T5=EY;function SY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var TY=SY,QS=Gu;function CY(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=QS(t),o=e!==void 0,u=e===null,f=e===e,h=QS(e);if(!u&&!h&&!a&&t>e||a&&o&&f&&!u&&!h||r&&o&&f||!n&&f||!i)return 1;if(!r&&!a&&!h&&t<e||h&&n&&i&&!r&&!a||u&&n&&i||!o&&i||!f)return-1}return 0}var NY=CY,IY=NY;function OY(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,u=n.length;++r<o;){var f=IY(i[r],a[r]);if(f){if(r>=u)return f;var h=n[r];return f*(h=="desc"?-1:1)}}return t.index-e.index}var PY=OY,Ix=Pw,jY=jw,kY=Qa,MY=T5,DY=TY,RY=d5,LY=PY,BY=nd,FY=ci;function $Y(t,e,n){e.length?e=Ix(e,function(a){return FY(a)?function(o){return jY(o,a.length===1?a[0]:a)}:a}):e=[BY];var r=-1;e=Ix(e,RY(kY));var i=MY(t,function(a,o,u){var f=Ix(e,function(h){return h(a)});return{criteria:f,index:++r,value:a}});return DY(i,function(a,o){return LY(a,o,n)})}var VY=$Y;function UY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var zY=UY,qY=zY,ZS=Math.max;function HY(t,e,n){return e=ZS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=ZS(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(o),qY(t,this,u)}}var WY=HY;function GY(t){return function(){return t}}var KY=GY,XY=Kl,YY=function(){try{var t=XY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),C5=YY,QY=KY,JS=C5,ZY=nd,JY=JS?function(t,e){return JS(t,"toString",{configurable:!0,enumerable:!1,value:QY(e),writable:!0})}:ZY,eQ=JY,tQ=800,nQ=16,rQ=Date.now;function iQ(t){var e=0,n=0;return function(){var r=rQ(),i=nQ-(r-n);if(n=r,i>0){if(++e>=tQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var aQ=iQ,sQ=eQ,oQ=aQ,lQ=oQ(sQ),cQ=lQ,uQ=nd,dQ=WY,fQ=cQ;function hQ(t,e){return fQ(dQ(t,e,uQ),t+"")}var pQ=hQ,mQ=Cw,gQ=zh,xQ=qw,yQ=Do;function vQ(t,e,n){if(!yQ(n))return!1;var r=typeof e;return(r=="number"?gQ(n)&&xQ(e,n.length):r=="string"&&e in n)?mQ(n[e],t):!1}var ng=vQ,bQ=E5,wQ=VY,AQ=pQ,e3=ng,_Q=AQ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&e3(t,e[0],e[1])?e=[]:n>2&&e3(e[0],e[1],e[2])&&(e=[e[0]]),wQ(t,bQ(e,1),[])}),EQ=_Q;const Kw=kt(EQ);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function SQ(t,e){return IQ(t)||NQ(t,e)||CQ(t,e)||TQ()}function TQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){if(t){if(typeof t=="string")return t3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t3(t,e)}}function t3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function IQ(t){if(Array.isArray(t))return t}function n3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(n),!0).forEach(function(r){OQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e,n){return e=PQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PQ(t){var e=jQ(t,"string");return Wf(e)=="symbol"?e:e+""}function jQ(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kQ(t){return Array.isArray(t)&&Jn(t[0])&&Jn(t[1])?t.join(" ~ "):t}var MQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,f=e.labelStyle,h=f===void 0?{}:f,x=e.payload,y=e.formatter,w=e.itemSorter,_=e.wrapperClassName,I=e.labelClassName,N=e.label,M=e.labelFormatter,P=e.accessibilityLayer,S=P===void 0?!1:P,C=function(){if(x&&x.length){var $={padding:0,margin:0},F=(w?Kw(x,w):x).map(function(H,z){if(H.type==="none")return null;var W=Ox({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},u),Y=H.formatter||y||kQ,re=H.value,ne=H.name,ce=re,ve=ne;if(Y&&ce!=null&&ve!=null){var ye=Y(re,ne,H,z,x);if(Array.isArray(ye)){var pe=SQ(ye,2);ce=pe[0],ve=pe[1]}else ce=ye}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:W},Jn(ve)?ae.createElement("span",{className:"recharts-tooltip-item-name"},ve):null,Jn(ve)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},ce),ae.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},V=Ox({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),k=Ox({margin:0},h),R=!ct(N),j=R?N:"",D=ft("recharts-default-tooltip",_),L=ft("recharts-tooltip-label",I);R&&M&&x!==void 0&&x!==null&&(j=M(N,x));var E=S?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",Fv({className:D,style:V},E),ae.createElement("p",{className:L,style:k},ae.isValidElement(j)?j:"".concat(j)),C())};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function M0(t,e,n){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=RQ(t,"string");return Gf(e)=="symbol"?e:e+""}function RQ(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nd="recharts-tooltip-wrapper",LQ={visibility:"hidden"};function BQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ft(Nd,M0(M0(M0(M0({},"".concat(Nd,"-right"),je(n)&&e&&je(e.x)&&n>=e.x),"".concat(Nd,"-left"),je(n)&&e&&je(e.x)&&n<e.x),"".concat(Nd,"-bottom"),je(r)&&e&&je(e.y)&&r>=e.y),"".concat(Nd,"-top"),je(r)&&e&&je(e.y)&&r<e.y))}function r3(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,u=t.tooltipDimension,f=t.viewBox,h=t.viewBoxDimension;if(a&&je(a[r]))return a[r];var x=n[r]-u-i,y=n[r]+i;if(e[r])return o[r]?x:y;if(o[r]){var w=x,_=f[r];return w<_?Math.max(y,f[r]):Math.max(x,f[r])}var I=y+u,N=f[r]+h;return I>N?Math.max(x,f[r]):Math.max(y,f[r])}function FQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $Q(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,f=t.viewBox,h,x,y;return o.height>0&&o.width>0&&n?(x=r3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),y=r3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),h=FQ({translateX:x,translateY:y,useTranslate3d:u})):h=LQ,{cssProperties:h,cssClasses:BQ({translateX:x,translateY:y,coordinate:n})}}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(r){Vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I5(r.key),r)}}function zQ(t,e,n){return e&&UQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qQ(t,e,n){return e=om(e),HQ(t,N5()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function HQ(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WQ(t)}function WQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N5=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function GQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$v(t,e)}function Vv(t,e,n){return e=I5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I5(t){var e=KQ(t,"string");return gu(e)=="symbol"?e:e+""}function KQ(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s3=1,XQ=function(t){function e(){var n;VQ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=qQ(this,e,[].concat(i)),Vv(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vv(n,"handleKeyDown",function(o){if(o.key==="Escape"){var u,f,h,x;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(h=(x=n.props.coordinate)===null||x===void 0?void 0:x.y)!==null&&h!==void 0?h:0}})}}),n}return GQ(e,t),zQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>s3||Math.abs(r.height-this.state.lastBoundingBox.height)>s3)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,h=i.children,x=i.coordinate,y=i.hasPayload,w=i.isAnimationActive,_=i.offset,I=i.position,N=i.reverseDirection,M=i.useTranslate3d,P=i.viewBox,S=i.wrapperStyle,C=$Q({allowEscapeViewBox:o,coordinate:x,offsetTopLeft:_,position:I,reverseDirection:N,tooltipBox:this.state.lastBoundingBox,useTranslate3d:M,viewBox:P}),V=C.cssClasses,k=C.cssProperties,R=a3(a3({transition:w&&a?"transform ".concat(u,"ms ").concat(f):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&y?"visible":"hidden",position:"absolute",top:0,left:0},S);return ae.createElement("div",{tabIndex:-1,className:V,style:R,ref:function(D){r.wrapperNode=D}},h)}}])}(ee.PureComponent),YQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xl={isSsr:YQ()};function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){Xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P5(r.key),r)}}function JQ(t,e,n){return e&&ZQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eZ(t,e,n){return e=lm(e),tZ(t,O5()?Reflect.construct(e,n||[],lm(t).constructor):e.apply(t,n))}function tZ(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nZ(t)}function nZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}function rZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uv(t,e)}function Xw(t,e,n){return e=P5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P5(t){var e=iZ(t,"string");return xu(e)=="symbol"?e:e+""}function iZ(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aZ(t){return t.dataKey}function sZ(t,e){return ae.isValidElement(t)?ae.cloneElement(t,e):typeof t=="function"?ae.createElement(t,e):ae.createElement(MQ,e)}var Ei=function(t){function e(){return QQ(this,e),eZ(this,e,arguments)}return rZ(e,t),JQ(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,h=i.content,x=i.coordinate,y=i.filterNull,w=i.isAnimationActive,_=i.offset,I=i.payload,N=i.payloadUniqBy,M=i.position,P=i.reverseDirection,S=i.useTranslate3d,C=i.viewBox,V=i.wrapperStyle,k=I??[];y&&k.length&&(k=b5(I.filter(function(j){return j.value!=null&&(j.hide!==!0||r.props.includeHidden)}),N,aZ));var R=k.length>0;return ae.createElement(XQ,{allowEscapeViewBox:o,animationDuration:u,animationEasing:f,isAnimationActive:w,active:a,coordinate:x,hasPayload:R,offset:_,position:M,reverseDirection:P,useTranslate3d:S,viewBox:C,wrapperStyle:V},sZ(h,l3(l3({},this.props),{},{payload:k})))}}])}(ee.PureComponent);Xw(Ei,"displayName","Tooltip");Xw(Ei,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oZ=Ya,lZ=function(){return oZ.Date.now()},cZ=lZ,uZ=/\s/;function dZ(t){for(var e=t.length;e--&&uZ.test(t.charAt(e)););return e}var fZ=dZ,hZ=fZ,pZ=/^\s+/;function mZ(t){return t&&t.slice(0,hZ(t)+1).replace(pZ,"")}var gZ=mZ,xZ=gZ,c3=Do,yZ=Gu,u3=NaN,vZ=/^[-+]0x[0-9a-f]+$/i,bZ=/^0b[01]+$/i,wZ=/^0o[0-7]+$/i,AZ=parseInt;function _Z(t){if(typeof t=="number")return t;if(yZ(t))return u3;if(c3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=c3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xZ(t);var n=bZ.test(t);return n||wZ.test(t)?AZ(t.slice(2),n?2:8):vZ.test(t)?u3:+t}var j5=_Z,EZ=Do,Px=cZ,d3=j5,SZ="Expected a function",TZ=Math.max,CZ=Math.min;function NZ(t,e,n){var r,i,a,o,u,f,h=0,x=!1,y=!1,w=!0;if(typeof t!="function")throw new TypeError(SZ);e=d3(e)||0,EZ(n)&&(x=!!n.leading,y="maxWait"in n,a=y?TZ(d3(n.maxWait)||0,e):a,w="trailing"in n?!!n.trailing:w);function _(R){var j=r,D=i;return r=i=void 0,h=R,o=t.apply(D,j),o}function I(R){return h=R,u=setTimeout(P,e),x?_(R):o}function N(R){var j=R-f,D=R-h,L=e-j;return y?CZ(L,a-D):L}function M(R){var j=R-f,D=R-h;return f===void 0||j>=e||j<0||y&&D>=a}function P(){var R=Px();if(M(R))return S(R);u=setTimeout(P,N(R))}function S(R){return u=void 0,w&&r?_(R):(r=i=void 0,o)}function C(){u!==void 0&&clearTimeout(u),h=0,r=f=i=u=void 0}function V(){return u===void 0?o:S(Px())}function k(){var R=Px(),j=M(R);if(r=arguments,i=this,f=R,j){if(u===void 0)return I(f);if(y)return clearTimeout(u),u=setTimeout(P,e),_(f)}return u===void 0&&(u=setTimeout(P,e)),o}return k.cancel=C,k.flush=V,k}var IZ=NZ,OZ=IZ,PZ=Do,jZ="Expected a function";function kZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(jZ);return PZ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),OZ(t,e,{leading:r,maxWait:e,trailing:i})}var MZ=kZ;const k5=kt(MZ);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){DZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZ(t,e,n){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=LZ(t,"string");return Kf(e)=="symbol"?e:e+""}function LZ(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BZ(t,e){return UZ(t)||VZ(t,e)||$Z(t,e)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(t,e){if(t){if(typeof t=="string")return h3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h3(t,e)}}function h3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function UZ(t){if(Array.isArray(t))return t}var cm=ee.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,u=t.height,f=u===void 0?"100%":u,h=t.minWidth,x=h===void 0?0:h,y=t.minHeight,w=t.maxHeight,_=t.children,I=t.debounce,N=I===void 0?0:I,M=t.id,P=t.className,S=t.onResize,C=t.style,V=C===void 0?{}:C,k=ee.useRef(null),R=ee.useRef();R.current=S,ee.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var j=ee.useState({containerWidth:i.width,containerHeight:i.height}),D=BZ(j,2),L=D[0],E=D[1],O=ee.useCallback(function(F,H){E(function(z){var W=Math.round(F),Y=Math.round(H);return z.containerWidth===W&&z.containerHeight===Y?z:{containerWidth:W,containerHeight:Y}})},[]);ee.useEffect(function(){var F=function(ne){var ce,ve=ne[0].contentRect,ye=ve.width,pe=ve.height;O(ye,pe),(ce=R.current)===null||ce===void 0||ce.call(R,ye,pe)};N>0&&(F=k5(F,N,{trailing:!0,leading:!1}));var H=new ResizeObserver(F),z=k.current.getBoundingClientRect(),W=z.width,Y=z.height;return O(W,Y),H.observe(k.current),function(){H.disconnect()}},[O,N]);var $=ee.useMemo(function(){var F=L.containerWidth,H=L.containerHeight;if(F<0||H<0)return null;ba(gl(o)||gl(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,f),ba(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=gl(o)?F:o,W=gl(f)?H:f;n&&n>0&&(z?W=z/n:W&&(z=W*n),w&&W>w&&(W=w)),ba(z>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,W,o,f,x,y,n);var Y=!Array.isArray(_)&&ys(_.type).endsWith("Chart");return ae.Children.map(_,function(re){return ae.isValidElement(re)?ee.cloneElement(re,D0({width:z,height:W},Y?{style:D0({height:"100%",width:"100%",maxHeight:W,maxWidth:z},re.props.style)}:{})):re})},[n,_,f,w,y,x,L,o]);return ae.createElement("div",{id:M?"".concat(M):void 0,className:ft("recharts-responsive-container",P),style:D0(D0({},V),{},{width:o,height:f,minWidth:x,minHeight:y,maxHeight:w}),ref:k},$)}),qh=function(e){return null};qh.displayName="Cell";function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function p3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(n),!0).forEach(function(r){zZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e,n){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=HZ(t,"string");return Xf(e)=="symbol"?e:e+""}function HZ(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cc={widthCache:{},cacheCount:0},WZ=2e3,GZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m3="recharts_measurement_span";function KZ(t){var e=zv({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var uf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xl.isSsr)return{width:0,height:0};var r=KZ(n),i=JSON.stringify({text:e,copyStyle:r});if(cc.widthCache[i])return cc.widthCache[i];try{var a=document.getElementById(m3);a||(a=document.createElement("span"),a.setAttribute("id",m3),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=zv(zv({},GZ),r);Object.assign(a.style,o),a.textContent="".concat(e);var u=a.getBoundingClientRect(),f={width:u.width,height:u.height};return cc.widthCache[i]=f,++cc.cacheCount>WZ&&(cc.cacheCount=0,cc.widthCache={}),f}catch{return{width:0,height:0}}},XZ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function um(t,e){return JZ(t)||ZZ(t,e)||QZ(t,e)||YZ()}function YZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QZ(t,e){if(t){if(typeof t=="string")return g3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g3(t,e)}}function g3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function JZ(t){if(Array.isArray(t))return t}function eJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nJ(r.key),r)}}function tJ(t,e,n){return e&&x3(t.prototype,e),n&&x3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nJ(t){var e=rJ(t,"string");return Yf(e)=="symbol"?e:e+""}function rJ(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,M5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sJ=Object.keys(M5),Pc="NaN";function oJ(t,e){return t*M5[e]}var R0=function(){function t(e,n){eJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!iJ.test(n)&&(this.num=NaN,this.unit=""),sJ.includes(n)&&(this.num=oJ(e,n),this.unit="px")}return tJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=aJ.exec(n))!==null&&r!==void 0?r:[],a=um(i,3),o=a[1],u=a[2];return new t(parseFloat(o),u??"")}}])}();function D5(t){if(t.includes(Pc))return Pc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=y3.exec(e))!==null&&n!==void 0?n:[],i=um(r,4),a=i[1],o=i[2],u=i[3],f=R0.parse(a??""),h=R0.parse(u??""),x=o==="*"?f.multiply(h):f.divide(h);if(x.isNaN())return Pc;e=e.replace(y3,x.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var y,w=(y=v3.exec(e))!==null&&y!==void 0?y:[],_=um(w,4),I=_[1],N=_[2],M=_[3],P=R0.parse(I??""),S=R0.parse(M??""),C=N==="+"?P.add(S):P.subtract(S);if(C.isNaN())return Pc;e=e.replace(v3,C.toString())}return e}var b3=/\(([^()]*)\)/;function lJ(t){for(var e=t;e.includes("(");){var n=b3.exec(e),r=um(n,2),i=r[1];e=e.replace(b3,D5(i))}return e}function cJ(t){var e=t.replace(/\s+/g,"");return e=lJ(e),e=D5(e),e}function uJ(t){try{return cJ(t)}catch{return Pc}}function jx(t){var e=uJ(t.slice(5,-1));return e===Pc?"":e}var dJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fJ=["dx","dy","angle","className","breakAll"];function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function w3(t,e){if(t==null)return{};var n=hJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A3(t,e){return xJ(t)||gJ(t,e)||mJ(t,e)||pJ()}function pJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(t,e){if(t){if(typeof t=="string")return _3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _3(t,e)}}function _3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function xJ(t){if(Array.isArray(t))return t}var R5=/[ \f\n\r\t\v\u2028\u2029]+/,L5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ct(n)||(r?a=n.toString().split(""):a=n.toString().split(R5));var o=a.map(function(f){return{word:f,width:uf(f,i).width}}),u=r?0:uf("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},yJ=function(e,n,r,i,a){var o=e.maxLines,u=e.children,f=e.style,h=e.breakAll,x=je(o),y=u,w=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(W,Y){var re=Y.word,ne=Y.width,ce=W[W.length-1];if(ce&&(i==null||a||ce.width+ne+r<Number(i)))ce.words.push(re),ce.width+=ne+r;else{var ve={words:[re],width:ne};W.push(ve)}return W},[])},_=w(n),I=function(z){return z.reduce(function(W,Y){return W.width>Y.width?W:Y})};if(!x)return _;for(var N="",M=function(z){var W=y.slice(0,z),Y=L5({breakAll:h,style:f,children:W+N}).wordsWithComputedWidth,re=w(Y),ne=re.length>o||I(re).width>Number(i);return[ne,re]},P=0,S=y.length-1,C=0,V;P<=S&&C<=y.length-1;){var k=Math.floor((P+S)/2),R=k-1,j=M(R),D=A3(j,2),L=D[0],E=D[1],O=M(k),$=A3(O,1),F=$[0];if(!L&&!F&&(P=k+1),L&&F&&(S=k-1),!L&&F){V=E;break}C++}return V||_},E3=function(e){var n=ct(e)?[]:e.toString().split(R5);return[{words:n}]},vJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,u=e.maxLines;if((n||r)&&!Xl.isSsr){var f,h,x=L5({breakAll:o,children:i,style:a});if(x){var y=x.wordsWithComputedWidth,w=x.spaceWidth;f=y,h=w}else return E3(i);return yJ({breakAll:o,children:i,maxLines:u,style:a},f,h,n,r)}return E3(i)},S3="#808080",$l=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,f=e.capHeight,h=f===void 0?"0.71em":f,x=e.scaleToFit,y=x===void 0?!1:x,w=e.textAnchor,_=w===void 0?"start":w,I=e.verticalAnchor,N=I===void 0?"end":I,M=e.fill,P=M===void 0?S3:M,S=w3(e,dJ),C=ee.useMemo(function(){return vJ({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:y,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,y,S.style,S.width]),V=S.dx,k=S.dy,R=S.angle,j=S.className,D=S.breakAll,L=w3(S,fJ);if(!Jn(r)||!Jn(a))return null;var E=r+(je(V)?V:0),O=a+(je(k)?k:0),$;switch(N){case"start":$=jx("calc(".concat(h,")"));break;case"middle":$=jx("calc(".concat((C.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:$=jx("calc(".concat(C.length-1," * -").concat(u,")"));break}var F=[];if(y){var H=C[0].width,z=S.width;F.push("scale(".concat((je(z)?z/H:1)/H,")"))}return R&&F.push("rotate(".concat(R,", ").concat(E,", ").concat(O,")")),F.length&&(L.transform=F.join(" ")),ae.createElement("text",qv({},Ze(L,!0),{x:E,y:O,className:ft("recharts-text",j),textAnchor:_,fill:P.includes("url")?S3:P}),C.map(function(W,Y){var re=W.words.join(D?"":" ");return ae.createElement("tspan",{x:E,dy:Y===0?$:u,key:"".concat(re,"-").concat(Y)},re)}))};function bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yw(t){let e,n,r;t.length!==2?(e=bo,n=(u,f)=>bo(t(u),f),r=(u,f)=>t(u)-f):(e=t===bo||t===bJ?t:wJ,n=t,r=t);function i(u,f,h=0,x=u.length){if(h<x){if(e(f,f)!==0)return x;do{const y=h+x>>>1;n(u[y],f)<0?h=y+1:x=y}while(h<x)}return h}function a(u,f,h=0,x=u.length){if(h<x){if(e(f,f)!==0)return x;do{const y=h+x>>>1;n(u[y],f)<=0?h=y+1:x=y}while(h<x)}return h}function o(u,f,h=0,x=u.length){const y=i(u,f,h,x-1);return y>h&&r(u[y-1],f)>-r(u[y],f)?y-1:y}return{left:i,center:o,right:a}}function wJ(){return 0}function B5(t){return t===null?NaN:+t}function*AJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _J=Yw(bo),Hh=_J.right;Yw(B5).center;class T3 extends Map{constructor(e,n=TJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(C3(this,e))}has(e){return super.has(C3(this,e))}set(e,n){return super.set(EJ(this,e),n)}delete(e){return super.delete(SJ(this,e))}}function C3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function EJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function SJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function TJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function CJ(t=bo){if(t===bo)return F5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function F5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NJ=Math.sqrt(50),IJ=Math.sqrt(10),OJ=Math.sqrt(2);function dm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=NJ?10:a>=IJ?5:a>=OJ?2:1;let u,f,h;return i<0?(h=Math.pow(10,-i)/o,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*o,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?dm(t,e,n*2):[u,f,h]}function Hv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?dm(e,t,n):dm(t,e,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(o<0)for(let h=0;h<u;++h)f[h]=(a-h)/-o;else for(let h=0;h<u;++h)f[h]=(a-h)*o;else if(o<0)for(let h=0;h<u;++h)f[h]=(i+h)/-o;else for(let h=0;h<u;++h)f[h]=(i+h)*o;return f}function Wv(t,e,n){return e=+e,t=+t,n=+n,dm(t,e,n)[2]}function Gv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Wv(e,t,n):Wv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function N3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function I3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?F5:CJ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,x=Math.log(f),y=.5*Math.exp(2*x/3),w=.5*Math.sqrt(x*y*(f-y)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*y/f+w)),I=Math.min(r,Math.floor(e+(f-h)*y/f+w));$5(t,e,_,I,i)}const a=t[e];let o=n,u=r;for(Id(t,n,e),i(t[r],a)>0&&Id(t,n,r);o<u;){for(Id(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?Id(t,n,u):(++u,Id(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Id(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PJ(t,e,n){if(t=Float64Array.from(AJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return I3(t);if(e>=1)return N3(t);var r,i=(r-1)*e,a=Math.floor(i),o=N3($5(t,a).subarray(0,a+1)),u=I3(t.subarray(a+1));return o+(u-o)*(i-a)}}function jJ(t,e,n=B5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function kJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function na(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ds(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Kv=Symbol("implicit");function Qw(){var t=new T3,e=[],n=[],r=Kv;function i(a){let o=t.get(a);if(o===void 0){if(r!==Kv)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new T3;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Qw(e,n).unknown(r)},na.apply(i,arguments),i}function Qf(){var t=Qw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,f=0,h=0,x=.5;delete t.unknown;function y(){var w=e().length,_=i<r,I=_?i:r,N=_?r:i;a=(N-I)/Math.max(1,w-f+h*2),u&&(a=Math.floor(a)),I+=(N-I-a*(w-f))*x,o=a*(1-f),u&&(I=Math.round(I),o=Math.round(o));var M=kJ(w).map(function(P){return I+a*P});return n(_?M.reverse():M)}return t.domain=function(w){return arguments.length?(e(w),y()):e()},t.range=function(w){return arguments.length?([r,i]=w,r=+r,i=+i,y()):[r,i]},t.rangeRound=function(w){return[r,i]=w,r=+r,i=+i,u=!0,y()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(w){return arguments.length?(u=!!w,y()):u},t.padding=function(w){return arguments.length?(f=Math.min(1,h=+w),y()):f},t.paddingInner=function(w){return arguments.length?(f=Math.min(1,w),y()):f},t.paddingOuter=function(w){return arguments.length?(h=+w,y()):h},t.align=function(w){return arguments.length?(x=Math.max(0,Math.min(1,w)),y()):x},t.copy=function(){return Qf(e(),[r,i]).round(u).paddingInner(f).paddingOuter(h).align(x)},na.apply(y(),arguments)}function V5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return V5(e())},t}function df(){return V5(Qf.apply(null,arguments).paddingInner(1))}function Zw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function U5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wh(){}var Zf=.7,fm=1/Zf,Wc="\\s*([+-]?\\d+)\\s*",Jf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MJ=/^#([0-9a-f]{3,8})$/,DJ=new RegExp(`^rgb\\(${Wc},${Wc},${Wc}\\)$`),RJ=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),LJ=new RegExp(`^rgba\\(${Wc},${Wc},${Wc},${Jf}\\)$`),BJ=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Jf}\\)$`),FJ=new RegExp(`^hsl\\(${Jf},${Ha},${Ha}\\)$`),$J=new RegExp(`^hsla\\(${Jf},${Ha},${Ha},${Jf}\\)$`),O3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zw(Wh,eh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:P3,formatHex:P3,formatHex8:VJ,formatHsl:UJ,formatRgb:j3,toString:j3});function P3(){return this.rgb().formatHex()}function VJ(){return this.rgb().formatHex8()}function UJ(){return z5(this).formatHsl()}function j3(){return this.rgb().formatRgb()}function eh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=MJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?k3(e):n===3?new ai(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?L0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?L0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DJ.exec(t))?new ai(e[1],e[2],e[3],1):(e=RJ.exec(t))?new ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LJ.exec(t))?L0(e[1],e[2],e[3],e[4]):(e=BJ.exec(t))?L0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FJ.exec(t))?R3(e[1],e[2]/100,e[3]/100,1):(e=$J.exec(t))?R3(e[1],e[2]/100,e[3]/100,e[4]):O3.hasOwnProperty(t)?k3(O3[t]):t==="transparent"?new ai(NaN,NaN,NaN,0):null}function k3(t){return new ai(t>>16&255,t>>8&255,t&255,1)}function L0(t,e,n,r){return r<=0&&(t=e=n=NaN),new ai(t,e,n,r)}function zJ(t){return t instanceof Wh||(t=eh(t)),t?(t=t.rgb(),new ai(t.r,t.g,t.b,t.opacity)):new ai}function Xv(t,e,n,r){return arguments.length===1?zJ(t):new ai(t,e,n,r??1)}function ai(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Zw(ai,Xv,U5(Wh,{brighter(t){return t=t==null?fm:Math.pow(fm,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new ai(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ai(Sl(this.r),Sl(this.g),Sl(this.b),hm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M3,formatHex:M3,formatHex8:qJ,formatRgb:D3,toString:D3}));function M3(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}`}function qJ(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}${xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function D3(){const t=hm(this.opacity);return`${t===1?"rgb(":"rgba("}${Sl(this.r)}, ${Sl(this.g)}, ${Sl(this.b)}${t===1?")":`, ${t})`}`}function hm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xl(t){return t=Sl(t),(t<16?"0":"")+t.toString(16)}function R3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ga(t,e,n,r)}function z5(t){if(t instanceof ga)return new ga(t.h,t.s,t.l,t.opacity);if(t instanceof Wh||(t=eh(t)),!t)return new ga;if(t instanceof ga)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,f=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?a+i:2-a-i,o*=60):u=f>0&&f<1?0:o,new ga(o,u,f,t.opacity)}function HJ(t,e,n,r){return arguments.length===1?z5(t):new ga(t,e,n,r??1)}function ga(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Zw(ga,HJ,U5(Wh,{brighter(t){return t=t==null?fm:Math.pow(fm,t),new ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ai(kx(t>=240?t-240:t+120,i,r),kx(t,i,r),kx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ga(L3(this.h),B0(this.s),B0(this.l),hm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hm(this.opacity);return`${t===1?"hsl(":"hsla("}${L3(this.h)}, ${B0(this.s)*100}%, ${B0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function L3(t){return t=(t||0)%360,t<0?t+360:t}function B0(t){return Math.max(0,Math.min(1,t||0))}function kx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Jw=t=>()=>t;function WJ(t,e){return function(n){return t+n*e}}function GJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function KJ(t){return(t=+t)==1?q5:function(e,n){return n-e?GJ(e,n,t):Jw(isNaN(e)?n:e)}}function q5(t,e){var n=e-t;return n?WJ(t,n):Jw(isNaN(t)?e:t)}const B3=function t(e){var n=KJ(e);function r(i,a){var o=n((i=Xv(i)).r,(a=Xv(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),h=q5(i.opacity,a.opacity);return function(x){return i.r=o(x),i.g=u(x),i.b=f(x),i.opacity=h(x),i+""}}return r.gamma=t,r}(1);function XJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function YJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=rd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function ZJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function JJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Yv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mx=new RegExp(Yv.source,"g");function eee(t){return function(){return t}}function tee(t){return function(e){return t(e)+""}}function nee(t,e){var n=Yv.lastIndex=Mx.lastIndex=0,r,i,a,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Yv.exec(t))&&(i=Mx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,f.push({i:o,x:pm(r,i)})),n=Mx.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?tee(f[0].x):eee(e):(e=f.length,function(h){for(var x=0,y;x<e;++x)u[(y=f[x]).i]=y.x(h);return u.join("")})}function rd(t,e){var n=typeof e,r;return e==null||n==="boolean"?Jw(e):(n==="number"?pm:n==="string"?(r=eh(e))?(e=r,B3):nee:e instanceof eh?B3:e instanceof Date?ZJ:YJ(e)?XJ:Array.isArray(e)?QJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JJ:pm)(t,e)}function eA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ree(t,e){e===void 0&&(e=t,t=rd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function iee(t){return function(){return t}}function mm(t){return+t}var F3=[0,1];function Vr(t){return t}function Qv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:iee(isNaN(e)?NaN:.5)}function aee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function see(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Qv(i,r),a=n(o,a)):(r=Qv(r,i),a=n(a,o)),function(u){return a(r(u))}}function oee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Qv(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var f=Hh(t,u,1,r)-1;return a[f](i[f](u))}}function Gh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rg(){var t=F3,e=F3,n=rd,r,i,a,o=Vr,u,f,h;function x(){var w=Math.min(t.length,e.length);return o!==Vr&&(o=aee(t[0],t[w-1])),u=w>2?oee:see,f=h=null,y}function y(w){return w==null||isNaN(w=+w)?a:(f||(f=u(t.map(r),e,n)))(r(o(w)))}return y.invert=function(w){return o(i((h||(h=u(e,t.map(r),pm)))(w)))},y.domain=function(w){return arguments.length?(t=Array.from(w,mm),x()):t.slice()},y.range=function(w){return arguments.length?(e=Array.from(w),x()):e.slice()},y.rangeRound=function(w){return e=Array.from(w),n=eA,x()},y.clamp=function(w){return arguments.length?(o=w?!0:Vr,x()):o!==Vr},y.interpolate=function(w){return arguments.length?(n=w,x()):n},y.unknown=function(w){return arguments.length?(a=w,y):a},function(w,_){return r=w,i=_,x()}}function tA(){return rg()(Vr,Vr)}function lee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yu(t){return t=gm(Math.abs(t)),t?t[1]:NaN}function cee(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function uee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var dee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function th(t){if(!(e=dee.exec(t)))throw new Error("invalid format: "+t);var e;return new nA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}th.prototype=nA.prototype;function nA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var H5;function hee(t,e){var n=gm(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(H5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gm(t,Math.max(0,e+a-1))[0]}function $3(t,e){var n=gm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const V3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$3(t*100,e),r:$3,s:hee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function U3(t){return t}var z3=Array.prototype.map,q3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pee(t){var e=t.grouping===void 0||t.thousands===void 0?U3:cee(z3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?U3:uee(z3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(y){y=th(y);var w=y.fill,_=y.align,I=y.sign,N=y.symbol,M=y.zero,P=y.width,S=y.comma,C=y.precision,V=y.trim,k=y.type;k==="n"?(S=!0,k="g"):V3[k]||(C===void 0&&(C=12),V=!0,k="g"),(M||w==="0"&&_==="=")&&(M=!0,w="0",_="=");var R=N==="$"?n:N==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",j=N==="$"?r:/[%p]/.test(k)?o:"",D=V3[k],L=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function E(O){var $=R,F=j,H,z,W;if(k==="c")F=D(O)+F,O="";else{O=+O;var Y=O<0||1/O<0;if(O=isNaN(O)?f:D(Math.abs(O),C),V&&(O=fee(O)),Y&&+O==0&&I!=="+"&&(Y=!1),$=(Y?I==="("?I:u:I==="-"||I==="("?"":I)+$,F=(k==="s"?q3[8+H5/3]:"")+F+(Y&&I==="("?")":""),L){for(H=-1,z=O.length;++H<z;)if(W=O.charCodeAt(H),48>W||W>57){F=(W===46?i+O.slice(H+1):O.slice(H))+F,O=O.slice(0,H);break}}}S&&!M&&(O=e(O,1/0));var re=$.length+O.length+F.length,ne=re<P?new Array(P-re+1).join(w):"";switch(S&&M&&(O=e(ne+O,ne.length?P-F.length:1/0),ne=""),_){case"<":O=$+O+F+ne;break;case"=":O=$+ne+O+F;break;case"^":O=ne.slice(0,re=ne.length>>1)+$+O+F+ne.slice(re);break;default:O=ne+$+O+F;break}return a(O)}return E.toString=function(){return y+""},E}function x(y,w){var _=h((y=th(y),y.type="f",y)),I=Math.max(-8,Math.min(8,Math.floor(yu(w)/3)))*3,N=Math.pow(10,-I),M=q3[8+I/3];return function(P){return _(N*P)+M}}return{format:h,formatPrefix:x}}var F0,rA,W5;mee({thousands:",",grouping:[3],currency:["$",""]});function mee(t){return F0=pee(t),rA=F0.format,W5=F0.formatPrefix,F0}function gee(t){return Math.max(0,-yu(Math.abs(t)))}function xee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yu(e)/3)))*3-yu(Math.abs(t)))}function yee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yu(e)-yu(t))+1}function G5(t,e,n,r){var i=Gv(t,e,n),a;switch(r=th(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=xee(i,o))&&(r.precision=a),W5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=yee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=gee(i))&&(r.precision=a-(r.type==="%")*2);break}}return rA(r)}function Ro(t){var e=t.domain;return t.ticks=function(n){var r=e();return Hv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return G5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],f,h,x=10;for(u<o&&(h=o,o=u,u=h,h=i,i=a,a=h);x-- >0;){if(h=Wv(o,u,n),h===f)return r[i]=o,r[a]=u,e(r);if(h>0)o=Math.floor(o/h)*h,u=Math.ceil(u/h)*h;else if(h<0)o=Math.ceil(o*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function xm(){var t=tA();return t.copy=function(){return Gh(t,xm())},na.apply(t,arguments),Ro(t)}function K5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,mm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return K5(t).unknown(e)},t=arguments.length?Array.from(t,mm):[0,1],Ro(n)}function X5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function H3(t){return Math.log(t)}function W3(t){return Math.exp(t)}function vee(t){return-Math.log(-t)}function bee(t){return-Math.exp(-t)}function wee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Aee(t){return t===10?wee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _ee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function G3(t){return(e,n)=>-t(-e,n)}function iA(t){const e=t(H3,W3),n=e.domain;let r=10,i,a;function o(){return i=_ee(r),a=Aee(r),n()[0]<0?(i=G3(i),a=G3(a),t(vee,bee)):t(H3,W3),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let h=f[0],x=f[f.length-1];const y=x<h;y&&([h,x]=[x,h]);let w=i(h),_=i(x),I,N;const M=u==null?10:+u;let P=[];if(!(r%1)&&_-w<M){if(w=Math.floor(w),_=Math.ceil(_),h>0){for(;w<=_;++w)for(I=1;I<r;++I)if(N=w<0?I/a(-w):I*a(w),!(N<h)){if(N>x)break;P.push(N)}}else for(;w<=_;++w)for(I=r-1;I>=1;--I)if(N=w>0?I/a(-w):I*a(w),!(N<h)){if(N>x)break;P.push(N)}P.length*2<M&&(P=Hv(h,x,M))}else P=Hv(w,_,Math.min(_-w,M)).map(a);return y?P.reverse():P},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=th(f)).precision==null&&(f.trim=!0),f=rA(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return x=>{let y=x/a(Math.round(i(x)));return y*r<r-.5&&(y*=r),y<=h?f(x):""}},e.nice=()=>n(X5(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function Y5(){const t=iA(rg()).domain([1,10]);return t.copy=()=>Gh(t,Y5()).base(t.base()),na.apply(t,arguments),t}function K3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function X3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aA(t){var e=1,n=t(K3(e),X3(e));return n.constant=function(r){return arguments.length?t(K3(e=+r),X3(e)):e},Ro(n)}function Q5(){var t=aA(rg());return t.copy=function(){return Gh(t,Q5()).constant(t.constant())},na.apply(t,arguments)}function Y3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Eee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function See(t){return t<0?-t*t:t*t}function sA(t){var e=t(Vr,Vr),n=1;function r(){return n===1?t(Vr,Vr):n===.5?t(Eee,See):t(Y3(n),Y3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ro(e)}function oA(){var t=sA(rg());return t.copy=function(){return Gh(t,oA()).exponent(t.exponent())},na.apply(t,arguments),t}function Tee(){return oA.apply(null,arguments).exponent(.5)}function Q3(t){return Math.sign(t)*t*t}function Cee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Z5(){var t=tA(),e=[0,1],n=!1,r;function i(a){var o=Cee(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Q3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,mm)).map(Q3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Z5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},na.apply(i,arguments),Ro(i)}function J5(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=jJ(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Hh(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(bo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return J5().domain(t).range(e).unknown(r)},na.apply(a,arguments)}function e8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(f){return f!=null&&f<=f?i[Hh(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},o.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return e8().domain([t,e]).range(i).unknown(a)},na.apply(Ro(o),arguments)}function t8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return t8().domain(t).range(e).unknown(n)},na.apply(i,arguments)}const Dx=new Date,Rx=new Date;function tr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return f;let h;do f.push(h=new Date(+a)),e(a,u),t(a);while(h<a&&a<o);return f},i.filter=a=>tr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Dx.setTime(+a),Rx.setTime(+o),t(Dx),t(Rx),Math.floor(n(Dx,Rx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ym=tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ym.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ym);ym.range;const fs=1e3,Ki=fs*60,hs=Ki*60,Ns=hs*24,lA=Ns*7,Z3=Ns*30,Lx=Ns*365,yl=tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCSeconds());yl.range;const cA=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs)},(t,e)=>{t.setTime(+t+e*Ki)},(t,e)=>(e-t)/Ki,t=>t.getMinutes());cA.range;const uA=tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ki)},(t,e)=>(e-t)/Ki,t=>t.getUTCMinutes());uA.range;const dA=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs-t.getMinutes()*Ki)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getHours());dA.range;const fA=tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCHours());fA.range;const Kh=tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ki)/Ns,t=>t.getDate()-1);Kh.range;const ig=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ns,t=>t.getUTCDate()-1);ig.range;const n8=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ns,t=>Math.floor(t/Ns));n8.range;function Yl(t){return tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ki)/lA)}const ag=Yl(0),vm=Yl(1),Nee=Yl(2),Iee=Yl(3),vu=Yl(4),Oee=Yl(5),Pee=Yl(6);ag.range;vm.range;Nee.range;Iee.range;vu.range;Oee.range;Pee.range;function Ql(t){return tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lA)}const sg=Ql(0),bm=Ql(1),jee=Ql(2),kee=Ql(3),bu=Ql(4),Mee=Ql(5),Dee=Ql(6);sg.range;bm.range;jee.range;kee.range;bu.range;Mee.range;Dee.range;const hA=tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hA.range;const pA=tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pA.range;const Is=tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Is.range;const Os=tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Os.range;function r8(t,e,n,r,i,a){const o=[[yl,1,fs],[yl,5,5*fs],[yl,15,15*fs],[yl,30,30*fs],[a,1,Ki],[a,5,5*Ki],[a,15,15*Ki],[a,30,30*Ki],[i,1,hs],[i,3,3*hs],[i,6,6*hs],[i,12,12*hs],[r,1,Ns],[r,2,2*Ns],[n,1,lA],[e,1,Z3],[e,3,3*Z3],[t,1,Lx]];function u(h,x,y){const w=x<h;w&&([h,x]=[x,h]);const _=y&&typeof y.range=="function"?y:f(h,x,y),I=_?_.range(h,+x+1):[];return w?I.reverse():I}function f(h,x,y){const w=Math.abs(x-h)/y,_=Yw(([,,M])=>M).right(o,w);if(_===o.length)return t.every(Gv(h/Lx,x/Lx,y));if(_===0)return ym.every(Math.max(Gv(h,x,y),1));const[I,N]=o[w/o[_-1][2]<o[_][2]/w?_-1:_];return I.every(N)}return[u,f]}const[Ree,Lee]=r8(Os,pA,sg,n8,fA,uA),[Bee,Fee]=r8(Is,hA,ag,Kh,dA,cA);function Bx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Od(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $ee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,h=Pd(i),x=jd(i),y=Pd(a),w=jd(a),_=Pd(o),I=jd(o),N=Pd(u),M=jd(u),P=Pd(f),S=jd(f),C={a:Y,A:re,b:ne,B:ce,c:null,d:iT,e:iT,f:cte,g:vte,G:wte,H:ste,I:ote,j:lte,L:i8,m:ute,M:dte,p:ve,q:ye,Q:oT,s:lT,S:fte,u:hte,U:pte,V:mte,w:gte,W:xte,x:null,X:null,y:yte,Y:bte,Z:Ate,"%":sT},V={a:pe,A:se,b:Te,B:oe,c:null,d:aT,e:aT,f:Tte,g:Rte,G:Bte,H:_te,I:Ete,j:Ste,L:s8,m:Cte,M:Nte,p:ue,q:Q,Q:oT,s:lT,S:Ite,u:Ote,U:Pte,V:jte,w:kte,W:Mte,x:null,X:null,y:Dte,Y:Lte,Z:Fte,"%":sT},k={a:E,A:O,b:$,B:F,c:H,d:nT,e:nT,f:nte,g:tT,G:eT,H:rT,I:rT,j:Zee,L:tte,m:Qee,M:Jee,p:L,q:Yee,Q:ite,s:ate,S:ete,u:Hee,U:Wee,V:Gee,w:qee,W:Kee,x:z,X:W,y:tT,Y:eT,Z:Xee,"%":rte};C.x=R(n,C),C.X=R(r,C),C.c=R(e,C),V.x=R(n,V),V.X=R(r,V),V.c=R(e,V);function R(fe,Ee){return function(ie){var he=[],Ce=-1,$e=0,He=fe.length,xt,wt,pt;for(ie instanceof Date||(ie=new Date(+ie));++Ce<He;)fe.charCodeAt(Ce)===37&&(he.push(fe.slice($e,Ce)),(wt=J3[xt=fe.charAt(++Ce)])!=null?xt=fe.charAt(++Ce):wt=xt==="e"?" ":"0",(pt=Ee[xt])&&(xt=pt(ie,wt)),he.push(xt),$e=Ce+1);return he.push(fe.slice($e,Ce)),he.join("")}}function j(fe,Ee){return function(ie){var he=Od(1900,void 0,1),Ce=D(he,fe,ie+="",0),$e,He;if(Ce!=ie.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ee&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?($e=Fx(Od(he.y,0,1)),He=$e.getUTCDay(),$e=He>4||He===0?bm.ceil($e):bm($e),$e=ig.offset($e,(he.V-1)*7),he.y=$e.getUTCFullYear(),he.m=$e.getUTCMonth(),he.d=$e.getUTCDate()+(he.w+6)%7):($e=Bx(Od(he.y,0,1)),He=$e.getDay(),$e=He>4||He===0?vm.ceil($e):vm($e),$e=Kh.offset($e,(he.V-1)*7),he.y=$e.getFullYear(),he.m=$e.getMonth(),he.d=$e.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),He="Z"in he?Fx(Od(he.y,0,1)).getUTCDay():Bx(Od(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(He+5)%7:he.w+he.U*7-(He+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Fx(he)):Bx(he)}}function D(fe,Ee,ie,he){for(var Ce=0,$e=Ee.length,He=ie.length,xt,wt;Ce<$e;){if(he>=He)return-1;if(xt=Ee.charCodeAt(Ce++),xt===37){if(xt=Ee.charAt(Ce++),wt=k[xt in J3?Ee.charAt(Ce++):xt],!wt||(he=wt(fe,ie,he))<0)return-1}else if(xt!=ie.charCodeAt(he++))return-1}return he}function L(fe,Ee,ie){var he=h.exec(Ee.slice(ie));return he?(fe.p=x.get(he[0].toLowerCase()),ie+he[0].length):-1}function E(fe,Ee,ie){var he=_.exec(Ee.slice(ie));return he?(fe.w=I.get(he[0].toLowerCase()),ie+he[0].length):-1}function O(fe,Ee,ie){var he=y.exec(Ee.slice(ie));return he?(fe.w=w.get(he[0].toLowerCase()),ie+he[0].length):-1}function $(fe,Ee,ie){var he=P.exec(Ee.slice(ie));return he?(fe.m=S.get(he[0].toLowerCase()),ie+he[0].length):-1}function F(fe,Ee,ie){var he=N.exec(Ee.slice(ie));return he?(fe.m=M.get(he[0].toLowerCase()),ie+he[0].length):-1}function H(fe,Ee,ie){return D(fe,e,Ee,ie)}function z(fe,Ee,ie){return D(fe,n,Ee,ie)}function W(fe,Ee,ie){return D(fe,r,Ee,ie)}function Y(fe){return o[fe.getDay()]}function re(fe){return a[fe.getDay()]}function ne(fe){return f[fe.getMonth()]}function ce(fe){return u[fe.getMonth()]}function ve(fe){return i[+(fe.getHours()>=12)]}function ye(fe){return 1+~~(fe.getMonth()/3)}function pe(fe){return o[fe.getUTCDay()]}function se(fe){return a[fe.getUTCDay()]}function Te(fe){return f[fe.getUTCMonth()]}function oe(fe){return u[fe.getUTCMonth()]}function ue(fe){return i[+(fe.getUTCHours()>=12)]}function Q(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ee=R(fe+="",C);return Ee.toString=function(){return fe},Ee},parse:function(fe){var Ee=j(fe+="",!1);return Ee.toString=function(){return fe},Ee},utcFormat:function(fe){var Ee=R(fe+="",V);return Ee.toString=function(){return fe},Ee},utcParse:function(fe){var Ee=j(fe+="",!0);return Ee.toString=function(){return fe},Ee}}}var J3={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,Vee=/^%/,Uee=/[\\^$*+?|[\]().{}]/g;function Pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function zee(t){return t.replace(Uee,"\\$&")}function Pd(t){return new RegExp("^(?:"+t.map(zee).join("|")+")","i")}function jd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qee(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hee(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wee(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Gee(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kee(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eT(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tT(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yee(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Qee(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nT(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zee(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rT(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jee(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ete(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function tte(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function nte(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rte(t,e,n){var r=Vee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ite(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ate(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iT(t,e){return Pt(t.getDate(),e,2)}function ste(t,e){return Pt(t.getHours(),e,2)}function ote(t,e){return Pt(t.getHours()%12||12,e,2)}function lte(t,e){return Pt(1+Kh.count(Is(t),t),e,3)}function i8(t,e){return Pt(t.getMilliseconds(),e,3)}function cte(t,e){return i8(t,e)+"000"}function ute(t,e){return Pt(t.getMonth()+1,e,2)}function dte(t,e){return Pt(t.getMinutes(),e,2)}function fte(t,e){return Pt(t.getSeconds(),e,2)}function hte(t){var e=t.getDay();return e===0?7:e}function pte(t,e){return Pt(ag.count(Is(t)-1,t),e,2)}function a8(t){var e=t.getDay();return e>=4||e===0?vu(t):vu.ceil(t)}function mte(t,e){return t=a8(t),Pt(vu.count(Is(t),t)+(Is(t).getDay()===4),e,2)}function gte(t){return t.getDay()}function xte(t,e){return Pt(vm.count(Is(t)-1,t),e,2)}function yte(t,e){return Pt(t.getFullYear()%100,e,2)}function vte(t,e){return t=a8(t),Pt(t.getFullYear()%100,e,2)}function bte(t,e){return Pt(t.getFullYear()%1e4,e,4)}function wte(t,e){var n=t.getDay();return t=n>=4||n===0?vu(t):vu.ceil(t),Pt(t.getFullYear()%1e4,e,4)}function Ate(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pt(e/60|0,"0",2)+Pt(e%60,"0",2)}function aT(t,e){return Pt(t.getUTCDate(),e,2)}function _te(t,e){return Pt(t.getUTCHours(),e,2)}function Ete(t,e){return Pt(t.getUTCHours()%12||12,e,2)}function Ste(t,e){return Pt(1+ig.count(Os(t),t),e,3)}function s8(t,e){return Pt(t.getUTCMilliseconds(),e,3)}function Tte(t,e){return s8(t,e)+"000"}function Cte(t,e){return Pt(t.getUTCMonth()+1,e,2)}function Nte(t,e){return Pt(t.getUTCMinutes(),e,2)}function Ite(t,e){return Pt(t.getUTCSeconds(),e,2)}function Ote(t){var e=t.getUTCDay();return e===0?7:e}function Pte(t,e){return Pt(sg.count(Os(t)-1,t),e,2)}function o8(t){var e=t.getUTCDay();return e>=4||e===0?bu(t):bu.ceil(t)}function jte(t,e){return t=o8(t),Pt(bu.count(Os(t),t)+(Os(t).getUTCDay()===4),e,2)}function kte(t){return t.getUTCDay()}function Mte(t,e){return Pt(bm.count(Os(t)-1,t),e,2)}function Dte(t,e){return Pt(t.getUTCFullYear()%100,e,2)}function Rte(t,e){return t=o8(t),Pt(t.getUTCFullYear()%100,e,2)}function Lte(t,e){return Pt(t.getUTCFullYear()%1e4,e,4)}function Bte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bu(t):bu.ceil(t),Pt(t.getUTCFullYear()%1e4,e,4)}function Fte(){return"+0000"}function sT(){return"%"}function oT(t){return+t}function lT(t){return Math.floor(+t/1e3)}var uc,l8,c8;$te({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $te(t){return uc=$ee(t),l8=uc.format,uc.parse,c8=uc.utcFormat,uc.utcParse,uc}function Vte(t){return new Date(t)}function Ute(t){return t instanceof Date?+t:+new Date(+t)}function mA(t,e,n,r,i,a,o,u,f,h){var x=tA(),y=x.invert,w=x.domain,_=h(".%L"),I=h(":%S"),N=h("%I:%M"),M=h("%I %p"),P=h("%a %d"),S=h("%b %d"),C=h("%B"),V=h("%Y");function k(R){return(f(R)<R?_:u(R)<R?I:o(R)<R?N:a(R)<R?M:r(R)<R?i(R)<R?P:S:n(R)<R?C:V)(R)}return x.invert=function(R){return new Date(y(R))},x.domain=function(R){return arguments.length?w(Array.from(R,Ute)):w().map(Vte)},x.ticks=function(R){var j=w();return t(j[0],j[j.length-1],R??10)},x.tickFormat=function(R,j){return j==null?k:h(j)},x.nice=function(R){var j=w();return(!R||typeof R.range!="function")&&(R=e(j[0],j[j.length-1],R??10)),R?w(X5(j,R)):x},x.copy=function(){return Gh(x,mA(t,e,n,r,i,a,o,u,f,h))},x}function zte(){return na.apply(mA(Bee,Fee,Is,hA,ag,Kh,dA,cA,yl,l8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qte(){return na.apply(mA(Ree,Lee,Os,pA,sg,ig,fA,uA,yl,c8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function og(){var t=0,e=1,n,r,i,a,o=Vr,u=!1,f;function h(y){return y==null||isNaN(y=+y)?f:o(i===0?.5:(y=(a(y)-n)*i,u?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e]=y,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(y){return arguments.length?(u=!!y,h):u},h.interpolator=function(y){return arguments.length?(o=y,h):o};function x(y){return function(w){var _,I;return arguments.length?([_,I]=w,o=y(_,I),h):[o(0),o(1)]}}return h.range=x(rd),h.rangeRound=x(eA),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return a=y,n=y(t),r=y(e),i=n===r?0:1/(r-n),h}}function Lo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function u8(){var t=Ro(og()(Vr));return t.copy=function(){return Lo(t,u8())},Ds.apply(t,arguments)}function d8(){var t=iA(og()).domain([1,10]);return t.copy=function(){return Lo(t,d8()).base(t.base())},Ds.apply(t,arguments)}function f8(){var t=aA(og());return t.copy=function(){return Lo(t,f8()).constant(t.constant())},Ds.apply(t,arguments)}function gA(){var t=sA(og());return t.copy=function(){return Lo(t,gA()).exponent(t.exponent())},Ds.apply(t,arguments)}function Hte(){return gA.apply(null,arguments).exponent(.5)}function h8(){var t=[],e=Vr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>PJ(t,a/r))},n.copy=function(){return h8(e).domain(t)},Ds.apply(n,arguments)}function lg(){var t=0,e=.5,n=1,r=1,i,a,o,u,f,h=Vr,x,y=!1,w;function _(N){return isNaN(N=+N)?w:(N=.5+((N=+x(N))-a)*(r*N<r*a?u:f),h(y?Math.max(0,Math.min(1,N)):N))}_.domain=function(N){return arguments.length?([t,e,n]=N,i=x(t=+t),a=x(e=+e),o=x(n=+n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(N){return arguments.length?(y=!!N,_):y},_.interpolator=function(N){return arguments.length?(h=N,_):h};function I(N){return function(M){var P,S,C;return arguments.length?([P,S,C]=M,h=ree(N,[P,S,C]),_):[h(0),h(.5),h(1)]}}return _.range=I(rd),_.rangeRound=I(eA),_.unknown=function(N){return arguments.length?(w=N,_):w},function(N){return x=N,i=N(t),a=N(e),o=N(n),u=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,_}}function p8(){var t=Ro(lg()(Vr));return t.copy=function(){return Lo(t,p8())},Ds.apply(t,arguments)}function m8(){var t=iA(lg()).domain([.1,1,10]);return t.copy=function(){return Lo(t,m8()).base(t.base())},Ds.apply(t,arguments)}function g8(){var t=aA(lg());return t.copy=function(){return Lo(t,g8()).constant(t.constant())},Ds.apply(t,arguments)}function xA(){var t=sA(lg());return t.copy=function(){return Lo(t,xA()).exponent(t.exponent())},Ds.apply(t,arguments)}function Wte(){return xA.apply(null,arguments).exponent(.5)}const cT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qf,scaleDiverging:p8,scaleDivergingLog:m8,scaleDivergingPow:xA,scaleDivergingSqrt:Wte,scaleDivergingSymlog:g8,scaleIdentity:K5,scaleImplicit:Kv,scaleLinear:xm,scaleLog:Y5,scaleOrdinal:Qw,scalePoint:df,scalePow:oA,scaleQuantile:J5,scaleQuantize:e8,scaleRadial:Z5,scaleSequential:u8,scaleSequentialLog:d8,scaleSequentialPow:gA,scaleSequentialQuantile:h8,scaleSequentialSqrt:Hte,scaleSequentialSymlog:f8,scaleSqrt:Tee,scaleSymlog:Q5,scaleThreshold:t8,scaleTime:zte,scaleUtc:qte,tickFormat:G5},Symbol.toStringTag,{value:"Module"}));var Gte=Gu;function Kte(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(u===void 0?o===o&&!Gte(o):n(o,u)))var u=o,f=a}return f}var cg=Kte;function Xte(t,e){return t>e}var x8=Xte,Yte=cg,Qte=x8,Zte=nd;function Jte(t){return t&&t.length?Yte(t,Zte,Qte):void 0}var ene=Jte;const ao=kt(ene);function tne(t,e){return t<e}var y8=tne,nne=cg,rne=y8,ine=nd;function ane(t){return t&&t.length?nne(t,ine,rne):void 0}var sne=ane;const ug=kt(sne);var one=Pw,lne=Qa,cne=T5,une=ci;function dne(t,e){var n=une(t)?one:cne;return n(t,lne(e))}var fne=dne,hne=E5,pne=fne;function mne(t,e){return hne(pne(t,e),1)}var gne=mne;const xne=kt(gne);var yne=Ww;function vne(t,e){return yne(t,e)}var bne=vne;const wu=kt(bne);var id=1e9,wne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vA,gn=!0,ea="[DecimalError] ",Tl=ea+"Invalid argument: ",yA=ea+"Exponent out of range: ",ad=Math.floor,cl=Math.pow,Ane=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Si,or=1e7,cn=7,v8=9007199254740991,wm=ad(v8/cn),Ke={};Ke.absoluteValue=Ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ke.comparedTo=Ke.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*cn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ke.dividedBy=Ke.div=function(t){return vs(this,new this.constructor(t))};Ke.dividedToIntegerBy=Ke.idiv=function(t){var e=this,n=e.constructor;return Xt(vs(e,new n(t),0,1),n.precision)};Ke.equals=Ke.eq=function(t){return!this.cmp(t)};Ke.exponent=function(){return Vn(this)};Ke.greaterThan=Ke.gt=function(t){return this.cmp(t)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(t){return this.cmp(t)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(t){return this.cmp(t)<0};Ke.lessThanOrEqualTo=Ke.lte=function(t){return this.cmp(t)<1};Ke.logarithm=Ke.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Si))throw Error(ea+"NaN");if(n.s<1)throw Error(ea+(n.s?"NaN":"-Infinity"));return n.eq(Si)?new r(0):(gn=!1,e=vs(nh(n,a),nh(t,a),a),gn=!0,Xt(e,i))};Ke.minus=Ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A8(e,t):b8(e,(t.s=-t.s,t))};Ke.modulo=Ke.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ea+"NaN");return n.s?(gn=!1,e=vs(n,t,0,1).times(t),gn=!0,n.minus(e)):Xt(new r(n),i)};Ke.naturalExponential=Ke.exp=function(){return w8(this)};Ke.naturalLogarithm=Ke.ln=function(){return nh(this)};Ke.negated=Ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ke.plus=Ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?b8(e,t):A8(e,(t.s=-t.s,t))};Ke.precision=Ke.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tl+t);if(e=Vn(i)+1,r=i.d.length-1,n=r*cn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ke.squareRoot=Ke.sqrt=function(){var t,e,n,r,i,a,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ea+"NaN")}for(t=Vn(u),gn=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Fa(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ad((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=o=n+3;;)if(a=r,r=a.plus(vs(u,a,o+2)).times(.5),Fa(a.d).slice(0,o)===(e=Fa(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Xt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return gn=!0,Xt(r,n)};Ke.times=Ke.mul=function(t){var e,n,r,i,a,o,u,f,h,x=this,y=x.constructor,w=x.d,_=(t=new y(t)).d;if(!x.s||!t.s)return new y(0);for(t.s*=x.s,n=x.e+t.e,f=w.length,h=_.length,f<h&&(a=w,w=_,_=a,o=f,f=h,h=o),a=[],o=f+h,r=o;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)u=a[i]+_[r]*w[i-r-1]+e,a[i--]=u%or|0,e=u/or|0;a[i]=(a[i]+e)%or|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,gn?Xt(t,y.precision):t};Ke.toDecimalPlaces=Ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ka(t,0,id),e===void 0?e=r.rounding:Ka(e,0,8),Xt(n,t+Vn(n)+1,e))};Ke.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vl(r,!0):(Ka(t,0,id),e===void 0?e=i.rounding:Ka(e,0,8),r=Xt(new i(r),t+1,e),n=Vl(r,!0,t+1)),n};Ke.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Vl(i):(Ka(t,0,id),e===void 0?e=a.rounding:Ka(e,0,8),r=Xt(new a(i),t+Vn(i)+1,e),n=Vl(r.abs(),!1,t+Vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ke.toInteger=Ke.toint=function(){var t=this,e=t.constructor;return Xt(new e(t),Vn(t)+1,e.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(t){var e,n,r,i,a,o,u=this,f=u.constructor,h=12,x=+(t=new f(t));if(!t.s)return new f(Si);if(u=new f(u),!u.s){if(t.s<1)throw Error(ea+"Infinity");return u}if(u.eq(Si))return u;if(r=f.precision,t.eq(Si))return Xt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=x<0?-x:x)<=v8){for(i=new f(Si),e=Math.ceil(r/cn+4),gn=!1;n%2&&(i=i.times(u),dT(i.d,e)),n=ad(n/2),n!==0;)u=u.times(u),dT(u.d,e);return gn=!0,t.s<0?new f(Si).div(i):Xt(i,r)}}else if(a<0)throw Error(ea+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,gn=!1,i=t.times(nh(u,r+h)),gn=!0,i=w8(i),i.s=a,i};Ke.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Vn(i),r=Vl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ka(t,1,id),e===void 0?e=a.rounding:Ka(e,0,8),i=Xt(new a(i),t,e),n=Vn(i),r=Vl(i,t<=n||n<=a.toExpNeg,t)),r};Ke.toSignificantDigits=Ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ka(t,1,id),e===void 0?e=r.rounding:Ka(e,0,8)),Xt(new r(n),t,e)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vn(t),n=t.constructor;return Vl(t,e<=n.toExpNeg||e>=n.toExpPos)};function b8(t,e){var n,r,i,a,o,u,f,h,x=t.constructor,y=x.precision;if(!t.s||!e.s)return e.s||(e=new x(t)),gn?Xt(e,y):e;if(f=t.d,h=e.d,o=t.e,i=e.e,f=f.slice(),a=o-i,a){for(a<0?(r=f,a=-a,u=h.length):(r=h,i=o,u=f.length),o=Math.ceil(y/cn),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=h.length,u-a<0&&(a=u,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/or|0,f[a]%=or;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,gn?Xt(e,y):e}function Ka(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tl+t)}function Fa(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=cn-r.length,n&&(a+=Xs(n)),a+=r;o=t[e],r=o+"",n=cn-r.length,n&&(a+=Xs(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var vs=function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%or|0,o=a/or|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,f;if(a!=o)f=a>o?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*or+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,f,h,x,y,w,_,I,N,M,P,S,C,V,k,R,j,D,L=r.constructor,E=r.s==i.s?1:-1,O=r.d,$=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(ea+"Division by zero");for(f=r.e-i.e,j=$.length,k=O.length,_=new L(E),I=_.d=[],h=0;$[h]==(O[h]||0);)++h;if($[h]>(O[h]||0)&&--f,a==null?S=a=L.precision:o?S=a+(Vn(r)-Vn(i))+1:S=a,S<0)return new L(0);if(S=S/cn+2|0,h=0,j==1)for(x=0,$=$[0],S++;(h<k||x)&&S--;h++)C=x*or+(O[h]||0),I[h]=C/$|0,x=C%$|0;else{for(x=or/($[0]+1)|0,x>1&&($=t($,x),O=t(O,x),j=$.length,k=O.length),V=j,N=O.slice(0,j),M=N.length;M<j;)N[M++]=0;D=$.slice(),D.unshift(0),R=$[0],$[1]>=or/2&&++R;do x=0,u=e($,N,j,M),u<0?(P=N[0],j!=M&&(P=P*or+(N[1]||0)),x=P/R|0,x>1?(x>=or&&(x=or-1),y=t($,x),w=y.length,M=N.length,u=e(y,N,w,M),u==1&&(x--,n(y,j<w?D:$,w))):(x==0&&(u=x=1),y=$.slice()),w=y.length,w<M&&y.unshift(0),n(N,y,M),u==-1&&(M=N.length,u=e($,N,j,M),u<1&&(x++,n(N,j<M?D:$,M))),M=N.length):u===0&&(x++,N=[0]),I[h++]=x,u&&N[0]?N[M++]=O[V]||0:(N=[O[V]],M=1);while((V++<k||N[0]!==void 0)&&S--)}return I[0]||I.shift(),_.e=f,Xt(_,o?a+Vn(_)+1:a)}}();function w8(t,e){var n,r,i,a,o,u,f=0,h=0,x=t.constructor,y=x.precision;if(Vn(t)>16)throw Error(yA+Vn(t));if(!t.s)return new x(Si);for(gn=!1,u=y,o=new x(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(r=Math.log(cl(2,h))/Math.LN10*2+5|0,u+=r,n=i=a=new x(Si),x.precision=u;;){if(i=Xt(i.times(t),u),n=n.times(++f),o=a.plus(vs(i,n,u)),Fa(o.d).slice(0,u)===Fa(a.d).slice(0,u)){for(;h--;)a=Xt(a.times(a),u);return x.precision=y,e==null?(gn=!0,Xt(a,y)):a}a=o}}function Vn(t){for(var e=t.e*cn,n=t.d[0];n>=10;n/=10)e++;return e}function $x(t,e,n){if(e>t.LN10.sd())throw gn=!0,n&&(t.precision=n),Error(ea+"LN10 precision limit exceeded");return Xt(new t(t.LN10),e)}function Xs(t){for(var e="";t--;)e+="0";return e}function nh(t,e){var n,r,i,a,o,u,f,h,x,y=1,w=10,_=t,I=_.d,N=_.constructor,M=N.precision;if(_.s<1)throw Error(ea+(_.s?"NaN":"-Infinity"));if(_.eq(Si))return new N(0);if(e==null?(gn=!1,h=M):h=e,_.eq(10))return e==null&&(gn=!0),$x(N,h);if(h+=w,N.precision=h,n=Fa(I),r=n.charAt(0),a=Vn(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Fa(_.d),r=n.charAt(0),y++;a=Vn(_),r>1?(_=new N("0."+n),a++):_=new N(r+"."+n.slice(1))}else return f=$x(N,h+2,M).times(a+""),_=nh(new N(r+"."+n.slice(1)),h-w).plus(f),N.precision=M,e==null?(gn=!0,Xt(_,M)):_;for(u=o=_=vs(_.minus(Si),_.plus(Si),h),x=Xt(_.times(_),h),i=3;;){if(o=Xt(o.times(x),h),f=u.plus(vs(o,new N(i),h)),Fa(f.d).slice(0,h)===Fa(u.d).slice(0,h))return u=u.times(2),a!==0&&(u=u.plus($x(N,h+2,M).times(a+""))),u=vs(u,new N(y),h),N.precision=M,e==null?(gn=!0,Xt(u,M)):u;u=f,i+=2}}function uT(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ad(n/cn),t.d=[],r=(n+1)%cn,n<0&&(r+=cn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=cn;r<i;)t.d.push(+e.slice(r,r+=cn));e=e.slice(r),r=cn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),gn&&(t.e>wm||t.e<-wm))throw Error(yA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xt(t,e,n){var r,i,a,o,u,f,h,x,y=t.d;for(o=1,a=y[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=cn,i=e,h=y[x=0];else{if(x=Math.ceil((r+1)/cn),a=y.length,x>=a)return t;for(h=a=y[x],o=1;a>=10;a/=10)o++;r%=cn,i=r-cn+o}if(n!==void 0&&(a=cl(10,o-i-1),u=h/a%10|0,f=e<0||y[x+1]!==void 0||h%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?h/cl(10,o-i):0:y[x-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return f?(a=Vn(t),y.length=1,e=e-a-1,y[0]=cl(10,(cn-e%cn)%cn),t.e=ad(-e/cn)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(r==0?(y.length=x,a=1,x--):(y.length=x+1,a=cl(10,cn-r),y[x]=i>0?(h/cl(10,o-i)%cl(10,i)|0)*a:0),f)for(;;)if(x==0){(y[0]+=a)==or&&(y[0]=1,++t.e);break}else{if(y[x]+=a,y[x]!=or)break;y[x--]=0,a=1}for(r=y.length;y[--r]===0;)y.pop();if(gn&&(t.e>wm||t.e<-wm))throw Error(yA+Vn(t));return t}function A8(t,e){var n,r,i,a,o,u,f,h,x,y,w=t.constructor,_=w.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new w(t),gn?Xt(e,_):e;if(f=t.d,y=e.d,r=e.e,h=t.e,f=f.slice(),o=h-r,o){for(x=o<0,x?(n=f,o=-o,u=y.length):(n=y,r=h,u=f.length),i=Math.max(Math.ceil(_/cn),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=y.length,x=i<u,x&&(u=i),i=0;i<u;i++)if(f[i]!=y[i]){x=f[i]<y[i];break}o=0}for(x&&(n=f,f=y,y=n,e.s=-e.s),u=f.length,i=y.length-u;i>0;--i)f[u++]=0;for(i=y.length;i>o;){if(f[--i]<y[i]){for(a=i;a&&f[--a]===0;)f[a]=or-1;--f[a],f[i]+=or}f[i]-=y[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,gn?Xt(e,_):e):new w(0)}function Vl(t,e,n){var r,i=Vn(t),a=Fa(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Xs(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xs(-i-1)+a,n&&(r=n-o)>0&&(a+=Xs(r))):i>=o?(a+=Xs(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Xs(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Xs(r))),t.s<0?"-"+a:a}function dT(t,e){if(t.length>e)return t.length=e,!0}function _8(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Tl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return uT(o,a.toString())}else if(typeof a!="string")throw Error(Tl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ane.test(a))uT(o,a);else throw Error(Tl+a)}if(i.prototype=Ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_8,i.config=i.set=_ne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _ne(t){if(!t||typeof t!="object")throw Error(ea+"Object expected");var e,n,r,i=["precision",1,id,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ad(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Tl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tl+n+": "+r);return this}var vA=_8(wne);Si=new vA(1);const Wt=vA;function Ene(t){return Nne(t)||Cne(t)||Tne(t)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(t,e){if(t){if(typeof t=="string")return Zv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zv(t,e)}}function Cne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nne(t){if(Array.isArray(t))return Zv(t)}function Zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ine=function(e){return e},E8={},S8=function(e){return e===E8},fT=function(e){return function n(){return arguments.length===0||arguments.length===1&&S8(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},One=function t(e,n){return e===1?n:fT(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(u){return u!==E8}).length;return o>=e?n.apply(void 0,i):t(e-o,fT(function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];var x=i.map(function(y){return S8(y)?f.shift():y});return n.apply(void 0,Ene(x).concat(f))}))})},dg=function(e){return One(e.length,e)},Jv=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Pne=dg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),jne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ine;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(u,f){return f(u)},a.apply(void 0,arguments))}},e2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},T8=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(u,f){return u===n[f]})||(n=a,r=e.apply(void 0,a)),r}};function kne(t){var e;return t===0?e=1:e=Math.floor(new Wt(t).abs().log(10).toNumber())+1,e}function Mne(t,e,n){for(var r=new Wt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Dne=dg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Rne=dg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Lne=dg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const fg={rangeStep:Mne,getDigitCount:kne,interpolateNumber:Dne,uninterpolateNumber:Rne,uninterpolateTruncation:Lne};function t2(t){return $ne(t)||Fne(t)||C8(t)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $ne(t){if(Array.isArray(t))return n2(t)}function rh(t,e){return zne(t)||Une(t,e)||C8(t,e)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8(t,e){if(t){if(typeof t=="string")return n2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n2(t,e)}}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Une(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,a=f}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function zne(t){if(Array.isArray(t))return t}function N8(t){var e=rh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function I8(t,e,n){if(t.lte(0))return new Wt(0);var r=fg.getDigitCount(t.toNumber()),i=new Wt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new Wt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=u.mul(i);return e?f:new Wt(Math.ceil(f))}function qne(t,e,n){var r=1,i=new Wt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Wt(10).pow(fg.getDigitCount(t)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Wt(Math.floor(t)))}else t===0?i=new Wt(Math.floor((e-1)/2)):n||(i=new Wt(Math.floor(t)));var o=Math.floor((e-1)/2),u=jne(Pne(function(f){return i.add(new Wt(f-o).mul(r)).toNumber()}),Jv);return u(0,e)}function O8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var a=I8(new Wt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Wt(0):(o=new Wt(t).add(e).div(2),o=o.sub(new Wt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),f=Math.ceil(new Wt(e).sub(o).div(a).toNumber()),h=u+f+1;return h>n?O8(t,e,n,r,i+1):(h<n&&(f=e>0?f+(n-h):f,u=e>0?u:u+(n-h)),{step:a,tickMin:o.sub(new Wt(u).mul(a)),tickMax:o.add(new Wt(f).mul(a))})}function Hne(t){var e=rh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=N8([n,r]),f=rh(u,2),h=f[0],x=f[1];if(h===-1/0||x===1/0){var y=x===1/0?[h].concat(t2(Jv(0,i-1).map(function(){return 1/0}))):[].concat(t2(Jv(0,i-1).map(function(){return-1/0})),[x]);return n>r?e2(y):y}if(h===x)return qne(h,i,a);var w=O8(h,x,o,a),_=w.step,I=w.tickMin,N=w.tickMax,M=fg.rangeStep(I,N.add(new Wt(.1).mul(_)),_);return n>r?e2(M):M}function Wne(t,e){var n=rh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=N8([r,i]),u=rh(o,2),f=u[0],h=u[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var x=Math.max(e,2),y=I8(new Wt(h).sub(f).div(x-1),a,0),w=[].concat(t2(fg.rangeStep(new Wt(f),new Wt(h).sub(new Wt(.99).mul(y)),y)),[h]);return r>i?e2(w):w}var Gne=T8(Hne),Kne=T8(Wne),Xne="Invariant failed";function Ul(t,e){throw new Error(Xne)}var Yne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(this,arguments)}function Qne(t,e){return tre(t)||ere(t,e)||Jne(t,e)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jne(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ere(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function tre(t){if(Array.isArray(t))return t}function nre(t,e){if(t==null)return{};var n=rre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function are(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k8(r.key),r)}}function sre(t,e,n){return e&&are(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ore(t,e,n){return e=_m(e),lre(t,P8()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function lre(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cre(t)}function cre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P8=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r2(t,e)}function j8(t,e,n){return e=k8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k8(t){var e=dre(t,"string");return Au(e)=="symbol"?e:e+""}function dre(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hg=function(t){function e(){return ire(this,e),ore(this,e,arguments)}return ure(e,t),sre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,u=r.dataKey,f=r.data,h=r.dataPointFormatter,x=r.xAxis,y=r.yAxis,w=nre(r,Yne),_=Ze(w,!1);this.props.direction==="x"&&x.type!=="number"&&Ul();var I=f.map(function(N){var M=h(N,u),P=M.x,S=M.y,C=M.value,V=M.errorVal;if(!V)return null;var k=[],R,j;if(Array.isArray(V)){var D=Qne(V,2);R=D[0],j=D[1]}else R=j=V;if(a==="vertical"){var L=x.scale,E=S+i,O=E+o,$=E-o,F=L(C-R),H=L(C+j);k.push({x1:H,y1:O,x2:H,y2:$}),k.push({x1:F,y1:E,x2:H,y2:E}),k.push({x1:F,y1:O,x2:F,y2:$})}else if(a==="horizontal"){var z=y.scale,W=P+i,Y=W-o,re=W+o,ne=z(C-R),ce=z(C+j);k.push({x1:Y,y1:ce,x2:re,y2:ce}),k.push({x1:W,y1:ne,x2:W,y2:ce}),k.push({x1:Y,y1:ne,x2:re,y2:ne})}return ae.createElement(St,Am({className:"recharts-errorBar",key:"bar-".concat(k.map(function(ve){return"".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))},_),k.map(function(ve){return ae.createElement("line",Am({},ve,{key:"line-".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))}))});return ae.createElement(St,{className:"recharts-errorBars"},I)}}])}(ae.Component);j8(hg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});j8(hg,"displayName","ErrorBar");function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function el(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=pre(t,"string");return ih(e)=="symbol"?e:e+""}function pre(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M8=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=_i(n,El);if(!o)return null;var u=El.defaultProps,f=u!==void 0?el(el({},u),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:a==="children"?h=(r||[]).reduce(function(x,y){var w=y.item,_=y.props,I=_.sectors||_.data||[];return x.concat(I.map(function(N){return{type:o.props.iconType||w.props.legendType,value:N.name,color:N.fill,payload:N}}))},[]):h=(r||[]).map(function(x){var y=x.item,w=y.type.defaultProps,_=w!==void 0?el(el({},w),y.props):{},I=_.dataKey,N=_.name,M=_.legendType,P=_.hide;return{inactive:P,dataKey:I,type:f.iconType||M||"square",color:bA(y),value:N||I,payload:_}}),el(el(el({},f),El.getWithHeight(o,i)),{},{payload:h,item:o})};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function mT(t){return yre(t)||xre(t)||gre(t)||mre()}function mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(t,e){if(t){if(typeof t=="string")return i2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i2(t,e)}}function xre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yre(t){if(Array.isArray(t))return i2(t)}function i2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){Gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gc(t,e,n){return e=vre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=bre(t,"string");return ah(e)=="symbol"?e:e+""}function bre(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e,n){return ct(t)||ct(e)?n:Jn(e)?Pi(t,e,n):rt(e)?e(t):n}function ff(t,e,n,r){var i=xne(t,function(u){return Qn(u,e)});if(n==="number"){var a=i.filter(function(u){return je(u)||parseFloat(u)});return a.length?[ug(a),ao(a)]:[1/0,-1/0]}var o=r?i.filter(function(u){return!ct(u)}):i;return o.map(function(u){return Jn(u)||u instanceof Date?u:""})}var wre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var f=a.range,h=0;h<u;h++){var x=h>0?i[h-1].coordinate:i[u-1].coordinate,y=i[h].coordinate,w=h>=u-1?i[0].coordinate:i[h+1].coordinate,_=void 0;if(Fr(y-x)!==Fr(w-y)){var I=[];if(Fr(w-y)===Fr(f[1]-f[0])){_=w;var N=y+f[1]-f[0];I[0]=Math.min(N,(N+x)/2),I[1]=Math.max(N,(N+x)/2)}else{_=x;var M=w+f[1]-f[0];I[0]=Math.min(y,(M+y)/2),I[1]=Math.max(y,(M+y)/2)}var P=[Math.min(y,(_+y)/2),Math.max(y,(_+y)/2)];if(e>P[0]&&e<=P[1]||e>=I[0]&&e<=I[1]){o=i[h].index;break}}else{var S=Math.min(x,w),C=Math.max(x,w);if(e>(S+y)/2&&e<=(C+y)/2){o=i[h].index;break}}}else for(var V=0;V<u;V++)if(V===0&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V>0&&V<u-1&&e>(r[V].coordinate+r[V-1].coordinate)/2&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V===u-1&&e>(r[V].coordinate+r[V-1].coordinate)/2){o=r[V].index;break}return o},bA=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,o=a.stroke,u=a.fill,f;switch(i){case"Line":f=o;break;case"Area":case"Radar":f=o&&o!=="none"?o:u;break;default:f=u;break}return f},Are=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},u=Object.keys(a),f=0,h=u.length;f<h;f++)for(var x=a[u[f]].stackGroups,y=Object.keys(x),w=0,_=y.length;w<_;w++){var I=x[y[w]],N=I.items,M=I.cateAxisId,P=N.filter(function(j){return ys(j.type).indexOf("Bar")>=0});if(P&&P.length){var S=P[0].type.defaultProps,C=S!==void 0?In(In({},S),P[0].props):P[0].props,V=C.barSize,k=C[M];o[k]||(o[k]=[]);var R=ct(V)?n:V;o[k].push({item:P[0],stackList:P.slice(1),barSize:ct(R)?void 0:$r(R,r,0)})}}return o},_re=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,u=e.maxBarSize,f=o.length;if(f<1)return null;var h=$r(n,i,0,!0),x,y=[];if(o[0].barSize===+o[0].barSize){var w=!1,_=i/f,I=o.reduce(function(V,k){return V+k.barSize||0},0);I+=(f-1)*h,I>=i&&(I-=(f-1)*h,h=0),I>=i&&_>0&&(w=!0,_*=.9,I=f*_);var N=(i-I)/2>>0,M={offset:N-h,size:0};x=o.reduce(function(V,k){var R={item:k.item,position:{offset:M.offset+M.size+h,size:w?_:k.barSize}},j=[].concat(mT(V),[R]);return M=j[j.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(D){j.push({item:D,position:M})}),j},y)}else{var P=$r(r,i,0,!0);i-2*P-(f-1)*h<=0&&(h=0);var S=(i-2*P-(f-1)*h)/f;S>1&&(S>>=0);var C=u===+u?Math.min(S,u):S;x=o.reduce(function(V,k,R){var j=[].concat(mT(V),[{item:k.item,position:{offset:P+(S+h)*R+(S-C)/2,size:C}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(D){j.push({item:D,position:j[j.length-1].position})}),j},y)}return x},Ere=function(e,n,r,i){var a=r.children,o=r.width,u=r.margin,f=o-(u.left||0)-(u.right||0),h=M8({children:a,legendWidth:f});if(h){var x=i||{},y=x.width,w=x.height,_=h.align,I=h.verticalAlign,N=h.layout;if((N==="vertical"||N==="horizontal"&&I==="middle")&&_!=="center"&&je(e[_]))return In(In({},e),{},Gc({},_,e[_]+(y||0)));if((N==="horizontal"||N==="vertical"&&_==="center")&&I!=="middle"&&je(e[I]))return In(In({},e),{},Gc({},I,e[I]+(w||0)))}return e},Sre=function(e,n,r){return ct(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},D8=function(e,n,r,i,a){var o=n.props.children,u=Yi(o,hg).filter(function(h){return Sre(i,a,h.props.direction)});if(u&&u.length){var f=u.map(function(h){return h.props.dataKey});return e.reduce(function(h,x){var y=Qn(x,r);if(ct(y))return h;var w=Array.isArray(y)?[ug(y),ao(y)]:[y,y],_=f.reduce(function(I,N){var M=Qn(x,N,0),P=w[0]-Math.abs(Array.isArray(M)?M[0]:M),S=w[1]+Math.abs(Array.isArray(M)?M[1]:M);return[Math.min(P,I[0]),Math.max(S,I[1])]},[1/0,-1/0]);return[Math.min(_[0],h[0]),Math.max(_[1],h[1])]},[1/0,-1/0])}return null},Tre=function(e,n,r,i,a){var o=n.map(function(u){return D8(e,u,r,a,i)}).filter(function(u){return!ct(u)});return o&&o.length?o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},R8=function(e,n,r,i,a){var o=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&D8(e,f,h,i)||ff(e,h,r,a)});if(r==="number")return o.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var u={};return o.reduce(function(f,h){for(var x=0,y=h.length;x<y;x++)u[h[x]]||(u[h[x]]=!0,f.push(h[x]));return f},[])},L8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},B8=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var a,o,u=e.map(function(f){return f.coordinate===n&&(a=!0),f.coordinate===r&&(o=!0),f.coordinate});return a||u.push(n),o||u.push(r),u},ps=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,u=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Fr(u[0]-u[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var x=(e.ticks||e.niceTicks).map(function(y){var w=a?a.indexOf(y):y;return{coordinate:i(w)+h,value:y,offset:h}});return x.filter(function(y){return!Zu(y.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(y,w){return{coordinate:i(y)+h,value:y,index:w,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(y){return{coordinate:i(y)+h,value:y,offset:h}}):i.domain().map(function(y,w){return{coordinate:i(y)+h,value:a?a[y]:y,index:w,offset:h}})},Vx=new WeakMap,$0=function(e,n){if(typeof n!="function")return e;Vx.has(e)||Vx.set(e,new WeakMap);var r=Vx.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},F8=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:Qf(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:xm(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:df(),realScaleType:"point"}:a==="category"?{scale:Qf(),realScaleType:"band"}:{scale:xm(),realScaleType:"linear"};if(Bl(i)){var f="scale".concat(Y1(i));return{scale:(cT[f]||df)(),realScaleType:cT[f]?f:"point"}}return rt(i)?{scale:i}:{scale:df(),realScaleType:"point"}},xT=1e-4,$8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-xT,o=Math.max(i[0],i[1])+xT,u=e(n[0]),f=e(n[r-1]);(u<a||u>o||f<a||f>o)&&e.domain([n[0],n[r-1]])}},Cre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Nre=function(e,n){if(!n||n.length!==2||!je(n[0])||!je(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Ire=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,u=0;u<n;++u){var f=Zu(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=a,e[u][r][1]=a+f,a=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+f,o=e[u][r][1])}},Ore=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var u=Zu(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=a,e[o][r][1]=a+u,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Pre={sign:Ire,expand:Yz,none:hu,silhouette:Qz,wiggle:Zz,positive:Ore},jre=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),a=Pre[r],o=Xz().keys(i).value(function(u,f){return+Qn(u,f,0)}).order(Iv).offset(a);return o(e)},kre=function(e,n,r,i,a,o){if(!e)return null;var u=o?n.reverse():n,f={},h=u.reduce(function(y,w){var _,I=(_=w.type)!==null&&_!==void 0&&_.defaultProps?In(In({},w.type.defaultProps),w.props):w.props,N=I.stackId,M=I.hide;if(M)return y;var P=I[r],S=y[P]||{hasStack:!1,stackGroups:{}};if(Jn(N)){var C=S.stackGroups[N]||{numericAxisId:r,cateAxisId:i,items:[]};C.items.push(w),S.hasStack=!0,S.stackGroups[N]=C}else S.stackGroups[Ju("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[w]};return In(In({},y),{},Gc({},P,S))},f),x={};return Object.keys(h).reduce(function(y,w){var _=h[w];if(_.hasStack){var I={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(N,M){var P=_.stackGroups[M];return In(In({},N),{},Gc({},M,{numericAxisId:r,cateAxisId:i,items:P.items,stackedData:jre(e,P.items,a)}))},I)}return In(In({},y),{},Gc({},w,_))},x)},V8=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=e.domain();if(!h.length)return null;var x=Gne(h,a,u);return e.domain([ug(x),ao(x)]),{niceTicks:x}}if(a&&i==="number"){var y=e.domain(),w=Kne(y,a,u);return{niceTicks:w}}return null};function yT(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ct(i[e.dataKey])){var u=Xp(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var f=Qn(i,ct(o)?e.dataKey:o);return ct(f)?null:e.scale(f)}var vT=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var f=Qn(o,n.dataKey,n.domain[u]);return ct(f)?null:n.scale(f)-a/2+i},Mre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Dre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Jn(a)){var o=n[a];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},Rre=function(e){return e.reduce(function(n,r){return[ug(r.concat([n[0]]).filter(je)),ao(r.concat([n[1]]).filter(je))]},[1/0,-1/0])},U8=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],u=o.stackedData,f=u.reduce(function(h,x){var y=Rre(x.slice(n,r+1));return[Math.min(h[0],y[0]),Math.max(h[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a2=function(e,n,r){if(rt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(je(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bT.test(e[0])){var a=+bT.exec(e[0])[1];i[0]=n[0]-a}else rt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(je(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(wT.test(e[1])){var o=+wT.exec(e[1])[1];i[1]=n[1]+o}else rt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Em=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Kw(n,function(y){return y.coordinate}),o=1/0,u=1,f=a.length;u<f;u++){var h=a[u],x=a[u-1];o=Math.min((h.coordinate||0)-(x.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},AT=function(e,n,r){return!e||!e.length||wu(e,Pi(r,"type.defaultProps.domain"))?n:e},z8=function(e,n){var r=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,u=r.formatter,f=r.tooltipType,h=r.chartType,x=r.hide;return In(In({},Ze(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:a||i,color:bA(e),value:Qn(n,i),type:f,payload:n,chartType:h,hide:x})};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){q8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q8(t,e,n){return e=Lre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Bre(t,"string");return sh(e)=="symbol"?e:e+""}function Bre(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fre(t,e){return zre(t)||Ure(t,e)||Vre(t,e)||$re()}function $re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vre(t,e){if(t){if(typeof t=="string")return ET(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ET(t,e)}}function ET(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ure(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function zre(t){if(Array.isArray(t))return t}var Sm=Math.PI/180,qre=function(e){return e*180/Math.PI},en=function(e,n,r,i){return{x:e+Math.cos(-Sm*i)*r,y:n+Math.sin(-Sm*i)*r}},H8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Hre=function(e,n,r,i,a){var o=e.width,u=e.height,f=e.startAngle,h=e.endAngle,x=$r(e.cx,o,o/2),y=$r(e.cy,u,u/2),w=H8(o,u,r),_=$r(e.innerRadius,w,0),I=$r(e.outerRadius,w,w*.8),N=Object.keys(n);return N.reduce(function(M,P){var S=n[P],C=S.domain,V=S.reversed,k;if(ct(S.range))i==="angleAxis"?k=[f,h]:i==="radiusAxis"&&(k=[_,I]),V&&(k=[k[1],k[0]]);else{k=S.range;var R=k,j=Fre(R,2);f=j[0],h=j[1]}var D=F8(S,a),L=D.realScaleType,E=D.scale;E.domain(C).range(k),$8(E);var O=V8(E,ls(ls({},S),{},{realScaleType:L})),$=ls(ls(ls({},S),O),{},{range:k,radius:I,realScaleType:L,scale:E,cx:x,cy:y,innerRadius:_,outerRadius:I,startAngle:f,endAngle:h});return ls(ls({},M),{},q8({},P,$))},{})},Wre=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Gre=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,u=Wre({x:r,y:i},{x:a,y:o});if(u<=0)return{radius:u};var f=(r-a)/u,h=Math.acos(f);return i>o&&(h=2*Math.PI-h),{radius:u,angle:qre(h),angleInRadian:h}},Kre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Xre=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),u=Math.min(a,o);return e+u*360},ST=function(e,n){var r=e.x,i=e.y,a=Gre({x:r,y:i},n),o=a.radius,u=a.angle,f=n.innerRadius,h=n.outerRadius;if(o<f||o>h)return!1;if(o===0)return!0;var x=Kre(n),y=x.startAngle,w=x.endAngle,_=u,I;if(y<=w){for(;_>w;)_-=360;for(;_<y;)_+=360;I=_>=y&&_<=w}else{for(;_>y;)_-=360;for(;_<w;)_+=360;I=_>=w&&_<=y}return I?ls(ls({},n),{},{radius:o,angle:Xre(_,n)}):null},W8=function(e){return!ee.isValidElement(e)&&!rt(e)&&typeof e!="boolean"?e.className:""};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var Yre=["offset"];function Qre(t){return tie(t)||eie(t)||Jre(t)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return s2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s2(t,e)}}function eie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tie(t){if(Array.isArray(t))return s2(t)}function s2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nie(t,e){if(t==null)return{};var n=rie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return e=aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return oh(e)=="symbol"?e:e+""}function sie(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}var oie=function(e){var n=e.value,r=e.formatter,i=ct(e.children)?n:e.children;return rt(r)?r(i):i},lie=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},cie=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,u=e.className,f=a,h=f.cx,x=f.cy,y=f.innerRadius,w=f.outerRadius,_=f.startAngle,I=f.endAngle,N=f.clockWise,M=(y+w)/2,P=lie(_,I),S=P>=0?1:-1,C,V;i==="insideStart"?(C=_+S*o,V=N):i==="insideEnd"?(C=I-S*o,V=!N):i==="end"&&(C=I+S*o,V=N),V=P<=0?V:!V;var k=en(h,x,M,C),R=en(h,x,M,C+(V?1:-1)*359),j="M".concat(k.x,",").concat(k.y,`
    A`).concat(M,",").concat(M,",0,1,").concat(V?0:1,`,
    `).concat(R.x,",").concat(R.y),D=ct(e.id)?Ju("recharts-radial-line-"):e.id;return ae.createElement("text",lh({},r,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",u)}),ae.createElement("defs",null,ae.createElement("path",{id:D,d:j})),ae.createElement("textPath",{xlinkHref:"#".concat(D)},n))},uie=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,u=a.cy,f=a.innerRadius,h=a.outerRadius,x=a.startAngle,y=a.endAngle,w=(x+y)/2;if(i==="outside"){var _=en(o,u,h+r,w),I=_.x,N=_.y;return{x:I,y:N,textAnchor:I>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var M=(f+h)/2,P=en(o,u,M,w),S=P.x,C=P.y;return{x:S,y:C,textAnchor:"middle",verticalAnchor:"middle"}},die=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,u=o.x,f=o.y,h=o.width,x=o.height,y=x>=0?1:-1,w=y*i,_=y>0?"end":"start",I=y>0?"start":"end",N=h>=0?1:-1,M=N*i,P=N>0?"end":"start",S=N>0?"start":"end";if(a==="top"){var C={x:u+h/2,y:f-y*i,textAnchor:"middle",verticalAnchor:_};return Kn(Kn({},C),r?{height:Math.max(f-r.y,0),width:h}:{})}if(a==="bottom"){var V={x:u+h/2,y:f+x+w,textAnchor:"middle",verticalAnchor:I};return Kn(Kn({},V),r?{height:Math.max(r.y+r.height-(f+x),0),width:h}:{})}if(a==="left"){var k={x:u-M,y:f+x/2,textAnchor:P,verticalAnchor:"middle"};return Kn(Kn({},k),r?{width:Math.max(k.x-r.x,0),height:x}:{})}if(a==="right"){var R={x:u+h+M,y:f+x/2,textAnchor:S,verticalAnchor:"middle"};return Kn(Kn({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:x}:{})}var j=r?{width:h,height:x}:{};return a==="insideLeft"?Kn({x:u+M,y:f+x/2,textAnchor:S,verticalAnchor:"middle"},j):a==="insideRight"?Kn({x:u+h-M,y:f+x/2,textAnchor:P,verticalAnchor:"middle"},j):a==="insideTop"?Kn({x:u+h/2,y:f+w,textAnchor:"middle",verticalAnchor:I},j):a==="insideBottom"?Kn({x:u+h/2,y:f+x-w,textAnchor:"middle",verticalAnchor:_},j):a==="insideTopLeft"?Kn({x:u+M,y:f+w,textAnchor:S,verticalAnchor:I},j):a==="insideTopRight"?Kn({x:u+h-M,y:f+w,textAnchor:P,verticalAnchor:I},j):a==="insideBottomLeft"?Kn({x:u+M,y:f+x-w,textAnchor:S,verticalAnchor:_},j):a==="insideBottomRight"?Kn({x:u+h-M,y:f+x-w,textAnchor:P,verticalAnchor:_},j):Ku(a)&&(je(a.x)||gl(a.x))&&(je(a.y)||gl(a.y))?Kn({x:u+$r(a.x,h),y:f+$r(a.y,x),textAnchor:"end",verticalAnchor:"end"},j):Kn({x:u+h/2,y:f+x/2,textAnchor:"middle",verticalAnchor:"middle"},j)},fie=function(e){return"cx"in e&&je(e.cx)};function cr(t){var e=t.offset,n=e===void 0?5:e,r=nie(t,Yre),i=Kn({offset:n},r),a=i.viewBox,o=i.position,u=i.value,f=i.children,h=i.content,x=i.className,y=x===void 0?"":x,w=i.textBreakAll;if(!a||ct(u)&&ct(f)&&!ee.isValidElement(h)&&!rt(h))return null;if(ee.isValidElement(h))return ee.cloneElement(h,i);var _;if(rt(h)){if(_=ee.createElement(h,i),ee.isValidElement(_))return _}else _=oie(i);var I=fie(a),N=Ze(i,!0);if(I&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cie(i,_,N);var M=I?uie(i):die(i);return ae.createElement($l,lh({className:ft("recharts-label",y)},N,M,{breakAll:w}),_)}cr.displayName="Label";var G8=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,u=e.r,f=e.radius,h=e.innerRadius,x=e.outerRadius,y=e.x,w=e.y,_=e.top,I=e.left,N=e.width,M=e.height,P=e.clockWise,S=e.labelViewBox;if(S)return S;if(je(N)&&je(M)){if(je(y)&&je(w))return{x:y,y:w,width:N,height:M};if(je(_)&&je(I))return{x:_,y:I,width:N,height:M}}return je(y)&&je(w)?{x:y,y:w,width:0,height:0}:je(n)&&je(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:h||0,outerRadius:x||f||u||0,clockWise:P}:e.viewBox?e.viewBox:{}},hie=function(e,n){return e?e===!0?ae.createElement(cr,{key:"label-implicit",viewBox:n}):Jn(e)?ae.createElement(cr,{key:"label-implicit",viewBox:n,value:e}):ee.isValidElement(e)?e.type===cr?ee.cloneElement(e,{key:"label-implicit",viewBox:n}):ae.createElement(cr,{key:"label-implicit",content:e,viewBox:n}):rt(e)?ae.createElement(cr,{key:"label-implicit",content:e,viewBox:n}):Ku(e)?ae.createElement(cr,lh({viewBox:n},e,{key:"label-implicit"})):null:null},pie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=G8(e),o=Yi(i,cr).map(function(f,h){return ee.cloneElement(f,{viewBox:n||a,key:"label-".concat(h)})});if(!r)return o;var u=hie(e.label,n||a);return[u].concat(Qre(o))};cr.parseViewBox=G8;cr.renderCallByParent=pie;function mie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var gie=mie;const xie=kt(gie);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}var yie=["valueAccessor"],vie=["data","dataKey","clockWise","id","textBreakAll"];function bie(t){return Eie(t)||_ie(t)||Aie(t)||wie()}function wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(t,e){if(t){if(typeof t=="string")return o2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(t,e)}}function _ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eie(t){if(Array.isArray(t))return o2(t)}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){Sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sie(t,e,n){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Cie(t,"string");return ch(e)=="symbol"?e:e+""}function Cie(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IT(t,e){if(t==null)return{};var n=Nie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Iie=function(e){return Array.isArray(e.value)?xie(e.value):e.value};function bs(t){var e=t.valueAccessor,n=e===void 0?Iie:e,r=IT(t,yie),i=r.data,a=r.dataKey,o=r.clockWise,u=r.id,f=r.textBreakAll,h=IT(r,vie);return!i||!i.length?null:ae.createElement(St,{className:"recharts-label-list"},i.map(function(x,y){var w=ct(a)?n(x,y):Qn(x&&x.payload,a),_=ct(u)?{}:{id:"".concat(u,"-").concat(y)};return ae.createElement(cr,Tm({},Ze(x,!0),h,_,{parentViewBox:x.parentViewBox,value:w,textBreakAll:f,viewBox:cr.parseViewBox(ct(o)?x:NT(NT({},x),{},{clockWise:o})),key:"label-".concat(y),index:y}))}))}bs.displayName="LabelList";function Oie(t,e){return t?t===!0?ae.createElement(bs,{key:"labelList-implicit",data:e}):ae.isValidElement(t)||rt(t)?ae.createElement(bs,{key:"labelList-implicit",data:e,content:t}):Ku(t)?ae.createElement(bs,Tm({data:e},t,{key:"labelList-implicit"})):null:null}function Pie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yi(r,bs).map(function(o,u){return ee.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var a=Oie(t.label,e);return[a].concat(bie(i))}bs.renderCallByParent=Pie;function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(this,arguments)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jie(t,e,n){return e=kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Mie(t,"string");return uh(e)=="symbol"?e:e+""}function Mie(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Die=function(e,n){var r=Fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},V0=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,u=e.isExternal,f=e.cornerRadius,h=e.cornerIsExternal,x=f*(u?1:-1)+i,y=Math.asin(f/x)/Sm,w=h?a:a+o*y,_=en(n,r,x,w),I=en(n,r,i,w),N=h?a-o*y:a,M=en(n,r,x*Math.cos(y*Sm),N);return{center:_,circleTangency:I,lineTangency:M,theta:y}},K8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,u=e.endAngle,f=Die(o,u),h=o+f,x=en(n,r,a,o),y=en(n,r,a,h),w="M ".concat(x.x,",").concat(x.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(i>0){var _=en(n,r,i,o),I=en(n,r,i,h);w+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else w+="L ".concat(n,",").concat(r," Z");return w},Rie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,f=e.cornerIsExternal,h=e.startAngle,x=e.endAngle,y=Fr(x-h),w=V0({cx:n,cy:r,radius:a,angle:h,sign:y,cornerRadius:o,cornerIsExternal:f}),_=w.circleTangency,I=w.lineTangency,N=w.theta,M=V0({cx:n,cy:r,radius:a,angle:x,sign:-y,cornerRadius:o,cornerIsExternal:f}),P=M.circleTangency,S=M.lineTangency,C=M.theta,V=f?Math.abs(h-x):Math.abs(h-x)-N-C;if(V<0)return u?"M ".concat(I.x,",").concat(I.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):K8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:x});var k="M ".concat(I.x,",").concat(I.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(y<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var R=V0({cx:n,cy:r,radius:i,angle:h,sign:y,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),j=R.circleTangency,D=R.lineTangency,L=R.theta,E=V0({cx:n,cy:r,radius:i,angle:x,sign:-y,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),O=E.circleTangency,$=E.lineTangency,F=E.theta,H=f?Math.abs(h-x):Math.abs(h-x)-L-F;if(H<0&&o===0)return"".concat(k,"L").concat(n,",").concat(r,"Z");k+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(y>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(D.x,",").concat(D.y,"Z")}else k+="L".concat(n,",").concat(r,"Z");return k},Lie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X8=function(e){var n=PT(PT({},Lie),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,x=n.startAngle,y=n.endAngle,w=n.className;if(o<a||x===y)return null;var _=ft("recharts-sector",w),I=o-a,N=$r(u,I,0,!0),M;return N>0&&Math.abs(x-y)<360?M=Rie({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(N,I/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:x,endAngle:y}):M=K8({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:x,endAngle:y}),ae.createElement("path",l2({},Ze(n,!0),{className:_,d:M,role:"img"}))};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){Bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bie(t,e,n){return e=Fie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=$ie(t,"string");return dh(e)=="symbol"?e:e+""}function $ie(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MT={curveBasisClosed:Bz,curveBasisOpen:Fz,curveBasis:Lz,curveBumpX:_z,curveBumpY:Ez,curveLinearClosed:$z,curveLinear:Z1,curveMonotoneX:Vz,curveMonotoneY:Uz,curveNatural:zz,curveStep:qz,curveStepAfter:Wz,curveStepBefore:Hz},U0=function(e){return e.x===+e.x&&e.y===+e.y},kd=function(e){return e.x},Md=function(e){return e.y},Vie=function(e,n){if(rt(e))return e;var r="curve".concat(Y1(e));return(r==="curveMonotone"||r==="curveBump")&&n?MT["".concat(r).concat(n==="vertical"?"Y":"X")]:MT[r]||Z1},Uie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,u=e.layout,f=e.connectNulls,h=f===void 0?!1:f,x=Vie(r,u),y=h?a.filter(function(N){return U0(N)}):a,w;if(Array.isArray(o)){var _=h?o.filter(function(N){return U0(N)}):o,I=y.map(function(N,M){return kT(kT({},N),{},{base:_[M]})});return u==="vertical"?w=j0().y(Md).x1(kd).x0(function(N){return N.base.x}):w=j0().x(kd).y1(Md).y0(function(N){return N.base.y}),w.defined(U0).curve(x),w(I)}return u==="vertical"&&je(o)?w=j0().y(Md).x1(kd).x0(o):je(o)?w=j0().x(kd).y1(Md).y0(o):w=zO().x(kd).y(Md),w.defined(U0).curve(x),w(y)},Kc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Uie(e):i;return ee.createElement("path",c2({},Ze(e,!1),Yp(e),{className:ft("recharts-curve",n),d:o,ref:a}))},Y8={exports:{}},zie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qie=zie,Hie=qie;function Q8(){}function Z8(){}Z8.resetWarningCache=Q8;var Wie=function(){function t(r,i,a,o,u,f){if(f!==Hie){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Z8,resetWarningCache:Q8};return n.PropTypes=n,n};Y8.exports=Wie();var Gie=Y8.exports;const Lt=kt(Gie),{getOwnPropertyNames:Kie,getOwnPropertySymbols:Xie}=Object,{hasOwnProperty:Yie}=Object.prototype;function Ux(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function z0(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),u=a.get(r);if(o&&u)return o===r&&u===n;a.set(n,r),a.set(r,n);const f=t(n,r,i);return a.delete(n),a.delete(r),f}}function Qie(t){return t!=null?t[Symbol.toStringTag]:void 0}function DT(t){return Kie(t).concat(Xie(t))}const Zie=Object.hasOwn||((t,e)=>Yie.call(t,e));function Zl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Jie="__v",eae="__o",tae="_owner",{getOwnPropertyDescriptor:RT,keys:LT}=Object;function nae(t,e){return t.byteLength===e.byteLength&&Cm(new Uint8Array(t),new Uint8Array(e))}function rae(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function iae(t,e){return t.byteLength===e.byteLength&&Cm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function aae(t,e){return Zl(t.getTime(),e.getTime())}function sae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function oae(t,e){return t===e}function BT(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,u,f=0;for(;(o=a.next())&&!o.done;){const h=e.entries();let x=!1,y=0;for(;(u=h.next())&&!u.done;){if(i[y]){y++;continue}const w=o.value,_=u.value;if(n.equals(w[0],_[0],f,y,t,e,n)&&n.equals(w[1],_[1],w[0],_[0],t,e,n)){x=i[y]=!0;break}y++}if(!x)return!1;f++}return!0}const lae=Zl;function cae(t,e,n){const r=LT(t);let i=r.length;if(LT(e).length!==i)return!1;for(;i-- >0;)if(!J8(t,e,n,r[i]))return!1;return!0}function Dd(t,e,n){const r=DT(t);let i=r.length;if(DT(e).length!==i)return!1;let a,o,u;for(;i-- >0;)if(a=r[i],!J8(t,e,n,a)||(o=RT(t,a),u=RT(e,a),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function uae(t,e){return Zl(t.valueOf(),e.valueOf())}function dae(t,e){return t.source===e.source&&t.flags===e.flags}function FT(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,u;for(;(o=a.next())&&!o.done;){const f=e.values();let h=!1,x=0;for(;(u=f.next())&&!u.done;){if(!i[x]&&n.equals(o.value,u.value,o.value,u.value,t,e,n)){h=i[x]=!0;break}x++}if(!h)return!1}return!0}function Cm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function fae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function J8(t,e,n,r){return(r===tae||r===eae||r===Jie)&&(t.$$typeof||e.$$typeof)?!0:Zie(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const hae="[object ArrayBuffer]",pae="[object Arguments]",mae="[object Boolean]",gae="[object DataView]",xae="[object Date]",yae="[object Error]",vae="[object Map]",bae="[object Number]",wae="[object Object]",Aae="[object RegExp]",_ae="[object Set]",Eae="[object String]",Sae={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Tae="[object URL]",Cae=Object.prototype.toString;function Nae({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:h,areRegExpsEqual:x,areSetsEqual:y,areTypedArraysEqual:w,areUrlsEqual:_,unknownTagComparators:I}){return function(M,P,S){if(M===P)return!0;if(M==null||P==null)return!1;const C=typeof M;if(C!==typeof P)return!1;if(C!=="object")return C==="number"?u(M,P,S):C==="function"?a(M,P,S):!1;const V=M.constructor;if(V!==P.constructor)return!1;if(V===Object)return f(M,P,S);if(Array.isArray(M))return e(M,P,S);if(V===Date)return r(M,P,S);if(V===RegExp)return x(M,P,S);if(V===Map)return o(M,P,S);if(V===Set)return y(M,P,S);const k=Cae.call(M);if(k===xae)return r(M,P,S);if(k===Aae)return x(M,P,S);if(k===vae)return o(M,P,S);if(k===_ae)return y(M,P,S);if(k===wae)return typeof M.then!="function"&&typeof P.then!="function"&&f(M,P,S);if(k===Tae)return _(M,P,S);if(k===yae)return i(M,P,S);if(k===pae)return f(M,P,S);if(Sae[k])return w(M,P,S);if(k===hae)return t(M,P,S);if(k===gae)return n(M,P,S);if(k===mae||k===bae||k===Eae)return h(M,P,S);if(I){let R=I[k];if(!R){const j=Qie(M);j&&(R=I[j])}if(R)return R(M,P,S)}return!1}}function Iae({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:nae,areArraysEqual:n?Dd:rae,areDataViewsEqual:iae,areDatesEqual:aae,areErrorsEqual:sae,areFunctionsEqual:oae,areMapsEqual:n?Ux(BT,Dd):BT,areNumbersEqual:lae,areObjectsEqual:n?Dd:cae,arePrimitiveWrappersEqual:uae,areRegExpsEqual:dae,areSetsEqual:n?Ux(FT,Dd):FT,areTypedArraysEqual:n?Ux(Cm,Dd):Cm,areUrlsEqual:fae,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=z0(r.areArraysEqual),a=z0(r.areMapsEqual),o=z0(r.areObjectsEqual),u=z0(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:u})}return r}function Oae(t){return function(e,n,r,i,a,o,u){return t(e,n,u)}}function Pae({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,f){const{cache:h=t?new WeakMap:void 0,meta:x}=n();return e(u,f,{cache:h,equals:r,meta:x,strict:i})};if(t)return function(u,f){return e(u,f,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,f){return e(u,f,a)}}const jae=Bo();Bo({strict:!0});Bo({circular:!0});Bo({circular:!0,strict:!0});Bo({createInternalComparator:()=>Zl});Bo({strict:!0,createInternalComparator:()=>Zl});Bo({circular:!0,createInternalComparator:()=>Zl});Bo({circular:!0,createInternalComparator:()=>Zl,strict:!0});function Bo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Iae(t),o=Nae(a),u=n?n(o):Oae(o);return Pae({circular:e,comparator:o,createState:r,equals:u,strict:i})}function kae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $T(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):kae(i)};requestAnimationFrame(r)}function u2(t){"@babel/helpers - typeof";return u2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u2(t)}function Mae(t){return Bae(t)||Lae(t)||Rae(t)||Dae()}function Dae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){if(t){if(typeof t=="string")return VT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VT(t,e)}}function VT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bae(t){if(Array.isArray(t))return t}function Fae(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,u=Mae(o),f=u[0],h=u.slice(1);if(typeof f=="number"){$T(i.bind(null,h),f);return}i(f),$T(i.bind(null,h));return}u2(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function UT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(n),!0).forEach(function(r){eP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eP(t,e,n){return e=$ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Vae(t,"string");return fh(e)==="symbol"?e:String(e)}function Vae(t,e){if(fh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},zae=function(e){return e},qae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hf=function(e,n){return Object.keys(n).reduce(function(r,i){return zT(zT({},r),{},eP({},i,e(i,n[i])))},{})},qT=function(e,n,r){return e.map(function(i){return"".concat(qae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Hae(t,e){return Kae(t)||Gae(t,e)||tP(t,e)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Kae(t){if(Array.isArray(t))return t}function Xae(t){return Zae(t)||Qae(t)||tP(t)||Yae()}function Yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tP(t,e){if(t){if(typeof t=="string")return d2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d2(t,e)}}function Qae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zae(t){if(Array.isArray(t))return d2(t)}function d2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nm=1e-4,nP=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},rP=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},HT=function(e,n){return function(r){var i=nP(e,n);return rP(i,r)}},Jae=function(e,n){return function(r){var i=nP(e,n),a=[].concat(Xae(i.map(function(o,u){return o*u}).slice(1)),[0]);return rP(a,r)}},WT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,u=1;break;case"ease":i=.25,a=.1,o=.25,u=1;break;case"ease-in":i=.42,a=0,o=1,u=1;break;case"ease-out":i=.42,a=0,o=.58,u=1;break;case"ease-in-out":i=0,a=0,o=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(M){return parseFloat(M)}),x=Hae(h,4);i=x[0],a=x[1],o=x[2],u=x[3]}}}var y=HT(i,o),w=HT(a,u),_=Jae(i,o),I=function(P){return P>1?1:P<0?0:P},N=function(P){for(var S=P>1?1:P,C=S,V=0;V<8;++V){var k=y(C)-S,R=_(C);if(Math.abs(k-S)<Nm||R<Nm)return w(C);C=I(C-k/R)}return w(C)};return N.isStepper=!1,N},ese=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,f=function(x,y,w){var _=-(x-y)*r,I=w*a,N=w+(_-I)*u/1e3,M=w*u/1e3+x;return Math.abs(M-y)<Nm&&Math.abs(N)<Nm?[y,0]:[M,N]};return f.isStepper=!0,f.dt=u,f},tse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WT(i);case"spring":return ese();default:if(i.split("(")[0]==="cubic-bezier")return WT(i)}return typeof i=="function"?i:null};function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function GT(t){return ise(t)||rse(t)||iP(t)||nse()}function nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ise(t){if(Array.isArray(t))return h2(t)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){f2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f2(t,e,n){return e=ase(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ase(t){var e=sse(t,"string");return hh(e)==="symbol"?e:String(e)}function sse(t,e){if(hh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ose(t,e){return use(t)||cse(t,e)||iP(t,e)||lse()}function lse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iP(t,e){if(t){if(typeof t=="string")return h2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h2(t,e)}}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function use(t){if(Array.isArray(t))return t}var Im=function(e,n,r){return e+(n-e)*r},p2=function(e){var n=e.from,r=e.to;return n!==r},dse=function t(e,n,r){var i=hf(function(a,o){if(p2(o)){var u=e(o.from,o.to,o.velocity),f=ose(u,2),h=f[0],x=f[1];return mr(mr({},o),{},{from:h,velocity:x})}return o},n);return r<1?hf(function(a,o){return p2(o)?mr(mr({},o),{},{velocity:Im(o.velocity,i[a].velocity,r),from:Im(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const fse=function(t,e,n,r,i){var a=Uae(t,e),o=a.reduce(function(M,P){return mr(mr({},M),{},f2({},P,[t[P],e[P]]))},{}),u=a.reduce(function(M,P){return mr(mr({},M),{},f2({},P,{from:t[P],velocity:0,to:e[P]}))},{}),f=-1,h,x,y=function(){return null},w=function(){return hf(function(P,S){return S.from},u)},_=function(){return!Object.values(u).filter(p2).length},I=function(P){h||(h=P);var S=P-h,C=S/n.dt;u=dse(n,u,C),i(mr(mr(mr({},t),e),w())),h=P,_()||(f=requestAnimationFrame(y))},N=function(P){x||(x=P);var S=(P-x)/r,C=hf(function(k,R){return Im.apply(void 0,GT(R).concat([n(S)]))},o);if(i(mr(mr(mr({},t),e),C)),S<1)f=requestAnimationFrame(y);else{var V=hf(function(k,R){return Im.apply(void 0,GT(R).concat([n(1)]))},o);i(mr(mr(mr({},t),e),V))}};return y=n.isStepper?I:N,function(){return requestAnimationFrame(y),function(){cancelAnimationFrame(f)}}};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}var hse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pse(t,e){if(t==null)return{};var n=mse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zx(t){return vse(t)||yse(t)||xse(t)||gse()}function gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function yse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vse(t){if(Array.isArray(t))return m2(t)}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){Gd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gd(t,e,n){return e=aP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aP(r.key),r)}}function Ase(t,e,n){return e&&wse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aP(t){var e=_se(t,"string");return _u(e)==="symbol"?e:String(e)}function _se(t,e){if(_u(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g2(t,e)}function g2(t,e){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g2(t,e)}function Sse(t){var e=Tse();return function(){var r=Om(t),i;if(e){var a=Om(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return x2(this,i)}}function x2(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y2(t)}function y2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Om(t)}var Xa=function(t){Ese(n,t);var e=Sse(n);function n(r,i){var a;bse(this,n),a=e.call(this,r,i);var o=a.props,u=o.isActive,f=o.attributeName,h=o.from,x=o.to,y=o.steps,w=o.children,_=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(y2(a)),a.changeStyle=a.changeStyle.bind(y2(a)),!u||_<=0)return a.state={style:{}},typeof w=="function"&&(a.state={style:x}),x2(a);if(y&&y.length)a.state={style:y[0].style};else if(h){if(typeof w=="function")return a.state={style:h},x2(a);a.state={style:f?Gd({},f,h):h}}else a.state={style:{}};return a}return Ase(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,u=a.canBegin,f=a.attributeName,h=a.shouldReAnimate,x=a.to,y=a.from,w=this.state.style;if(u){if(!o){var _={style:f?Gd({},f,x):x};this.state&&w&&(f&&w[f]!==x||!f&&w!==x)&&this.setState(_);return}if(!(jae(i.to,x)&&i.canBegin&&i.isActive)){var I=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var N=I||h?y:i.to;if(this.state&&w){var M={style:f?Gd({},f,N):N};(f&&w[f]!==N||!f&&w!==N)&&this.setState(M)}this.runAnimation(ca(ca({},this.props),{},{from:N,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,u=i.to,f=i.duration,h=i.easing,x=i.begin,y=i.onAnimationEnd,w=i.onAnimationStart,_=fse(o,u,tse(h),f,this.changeStyle),I=function(){a.stopJSAnimation=_()};this.manager.start([w,x,I,f,y])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,u=i.begin,f=i.onAnimationStart,h=o[0],x=h.style,y=h.duration,w=y===void 0?0:y,_=function(N,M,P){if(P===0)return N;var S=M.duration,C=M.easing,V=C===void 0?"ease":C,k=M.style,R=M.properties,j=M.onAnimationEnd,D=P>0?o[P-1]:M,L=R||Object.keys(k);if(typeof V=="function"||V==="spring")return[].concat(zx(N),[a.runJSAnimation.bind(a,{from:D.style,to:k,duration:S,easing:V}),S]);var E=qT(L,S,V),O=ca(ca(ca({},D.style),k),{},{transition:E});return[].concat(zx(N),[O,S,j]).filter(zae)};return this.manager.start([f].concat(zx(o.reduce(_,[x,Math.max(w,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fae());var a=i.begin,o=i.duration,u=i.attributeName,f=i.to,h=i.easing,x=i.onAnimationStart,y=i.onAnimationEnd,w=i.steps,_=i.children,I=this.manager;if(this.unSubscribe=I.subscribe(this.handleStyleChange),typeof h=="function"||typeof _=="function"||h==="spring"){this.runJSAnimation(i);return}if(w.length>1){this.runStepAnimation(i);return}var N=u?Gd({},u,f):f,M=qT(Object.keys(N),o,h);I.start([x,a,ca(ca({},N),{},{transition:M}),o,y])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=pse(i,hse),h=ee.Children.count(a),x=this.state.style;if(typeof a=="function")return a(x);if(!u||h===0||o<=0)return a;var y=function(_){var I=_.props,N=I.style,M=N===void 0?{}:N,P=I.className,S=ee.cloneElement(_,ca(ca({},f),{},{style:ca(ca({},M),x),className:P}));return S};return h===1?y(ee.Children.only(a)):ae.createElement("div",null,ee.Children.map(a,function(w){return y(w)}))}}]),n}(ee.PureComponent);Xa.displayName="Animate";Xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xa.propTypes={from:Lt.oneOfType([Lt.object,Lt.string]),to:Lt.oneOfType([Lt.object,Lt.string]),attributeName:Lt.string,duration:Lt.number,begin:Lt.number,easing:Lt.oneOfType([Lt.string,Lt.func]),steps:Lt.arrayOf(Lt.shape({duration:Lt.number.isRequired,style:Lt.object.isRequired,easing:Lt.oneOfType([Lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lt.func]),properties:Lt.arrayOf("string"),onAnimationEnd:Lt.func})),children:Lt.oneOfType([Lt.node,Lt.func]),isActive:Lt.bool,canBegin:Lt.bool,onAnimationEnd:Lt.func,shouldReAnimate:Lt.bool,onAnimationStart:Lt.func,onAnimationReStart:Lt.func};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function Cse(t,e){return Pse(t)||Ose(t,e)||Ise(t,e)||Nse()}function Nse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ise(t,e){if(t){if(typeof t=="string")return YT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YT(t,e)}}function YT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ose(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Pse(t){if(Array.isArray(t))return t}function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Mse(t,"string");return ph(e)=="symbol"?e:e+""}function Mse(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JT=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,x;if(o>0&&a instanceof Array){for(var y=[0,0,0,0],w=0,_=4;w<_;w++)y[w]=a[w]>o?o:a[w];x="M".concat(e,",").concat(n+u*y[0]),y[0]>0&&(x+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(e+f*y[0],",").concat(n)),x+="L ".concat(e+r-f*y[1],",").concat(n),y[1]>0&&(x+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+u*y[1])),x+="L ".concat(e+r,",").concat(n+i-u*y[2]),y[2]>0&&(x+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(e+r-f*y[2],",").concat(n+i)),x+="L ".concat(e+f*y[3],",").concat(n+i),y[3]>0&&(x+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-u*y[3])),x+="Z"}else if(o>0&&a===+a&&a>0){var I=Math.min(o,a);x="M ".concat(e,",").concat(n+u*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(h,",").concat(e+f*I,",").concat(n,`
            L `).concat(e+r-f*I,",").concat(n,`
            A `).concat(I,",").concat(I,",0,0,").concat(h,",").concat(e+r,",").concat(n+u*I,`
            L `).concat(e+r,",").concat(n+i-u*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(h,",").concat(e+r-f*I,",").concat(n+i,`
            L `).concat(e+f*I,",").concat(n+i,`
            A `).concat(I,",").concat(I,",0,0,").concat(h,",").concat(e,",").concat(n+i-u*I," Z")}else x="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return x},Dse=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var h=Math.min(a,a+u),x=Math.max(a,a+u),y=Math.min(o,o+f),w=Math.max(o,o+f);return r>=h&&r<=x&&i>=y&&i<=w}return!1},Rse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wA=function(e){var n=ZT(ZT({},Rse),e),r=ee.useRef(),i=ee.useState(-1),a=Cse(i,2),o=a[0],u=a[1];ee.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&u(V)}catch{}},[]);var f=n.x,h=n.y,x=n.width,y=n.height,w=n.radius,_=n.className,I=n.animationEasing,N=n.animationDuration,M=n.animationBegin,P=n.isAnimationActive,S=n.isUpdateAnimationActive;if(f!==+f||h!==+h||x!==+x||y!==+y||x===0||y===0)return null;var C=ft("recharts-rectangle",_);return S?ae.createElement(Xa,{canBegin:o>0,from:{width:x,height:y,x:f,y:h},to:{width:x,height:y,x:f,y:h},duration:N,animationEasing:I,isActive:S},function(V){var k=V.width,R=V.height,j=V.x,D=V.y;return ae.createElement(Xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:M,duration:N,isActive:P,easing:I},ae.createElement("path",Pm({},Ze(n,!0),{className:C,d:JT(j,D,k,R,w),ref:r})))}):ae.createElement("path",Pm({},Ze(n,!0),{className:C,d:JT(f,h,x,y,w)}))},Lse=["points","className","baseLinePoints","connectNulls"];function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}function Bse(t,e){if(t==null)return{};var n=Fse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eC(t){return zse(t)||Use(t)||Vse(t)||$se()}function $se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vse(t,e){if(t){if(typeof t=="string")return v2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v2(t,e)}}function Use(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zse(t){if(Array.isArray(t))return v2(t)}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tC=function(e){return e&&e.x===+e.x&&e.y===+e.y},qse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){tC(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),tC(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},pf=function(e,n){var r=qse(e);n&&(r=[r.reduce(function(a,o){return[].concat(eC(a),eC(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,u,f){return"".concat(o).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Hse=function(e,n,r){var i=pf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(pf(n.reverse(),r).slice(1))},Wse=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Bse(e,Lse);if(!n||!n.length)return null;var u=ft("recharts-polygon",r);if(i&&i.length){var f=o.stroke&&o.stroke!=="none",h=Hse(n,i,a);return ae.createElement("g",{className:u},ae.createElement("path",jc({},Ze(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:h})),f?ae.createElement("path",jc({},Ze(o,!0),{fill:"none",d:pf(n,a)})):null,f?ae.createElement("path",jc({},Ze(o,!0),{fill:"none",d:pf(i,a)})):null)}var x=pf(n,a);return ae.createElement("path",jc({},Ze(o,!0),{fill:x.slice(-1)==="Z"?o.fill:"none",className:u,d:x}))};function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b2.apply(this,arguments)}var pg=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=ft("recharts-dot",a);return n===+n&&r===+r&&i===+i?ee.createElement("circle",b2({},Ze(e,!1),Yp(e),{className:o,cx:n,cy:r,r:i})):null};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}var Gse=["x","y","top","left","width","height","className"];function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(this,arguments)}function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Qse(t,"string");return mh(e)=="symbol"?e:e+""}function Qse(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zse(t,e){if(t==null)return{};var n=Jse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eoe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},toe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,u=o===void 0?0:o,f=e.left,h=f===void 0?0:f,x=e.width,y=x===void 0?0:x,w=e.height,_=w===void 0?0:w,I=e.className,N=Zse(e,Gse),M=Kse({x:r,y:a,top:u,left:h,width:y,height:_},N);return!je(r)||!je(a)||!je(y)||!je(_)||!je(u)||!je(h)?null:ae.createElement("path",w2({},Ze(M,!0),{className:ft("recharts-cross",I),d:eoe(r,a,y,_,u,h)}))},noe=cg,roe=x8,ioe=Qa;function aoe(t,e){return t&&t.length?noe(t,ioe(e),roe):void 0}var soe=aoe;const ooe=kt(soe);var loe=cg,coe=Qa,uoe=y8;function doe(t,e){return t&&t.length?loe(t,coe(e),uoe):void 0}var foe=doe;const hoe=kt(foe);var poe=["cx","cy","angle","ticks","axisLine"],moe=["ticks","tick","angle","tickFormatter","stroke"];function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iC(t,e){if(t==null)return{};var n=goe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function goe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oP(r.key),r)}}function yoe(t,e,n){return e&&aC(t.prototype,e),n&&aC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function voe(t,e,n){return e=jm(e),boe(t,sP()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function boe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return woe(t)}function woe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function Aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A2(t,e)}function A2(t,e){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A2(t,e)}function mg(t,e,n){return e=oP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oP(t){var e=_oe(t,"string");return Eu(e)=="symbol"?e:e+""}function _oe(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gg=function(t){function e(){return xoe(this,e),voe(this,e,arguments)}return Aoe(e,t),yoe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,u=a.cx,f=a.cy;return en(u,f,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,u=r.ticks,f=ooe(u,function(x){return x.coordinate||0}),h=hoe(u,function(x){return x.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,u=r.ticks,f=r.axisLine,h=iC(r,poe),x=u.reduce(function(I,N){return[Math.min(I[0],N.coordinate),Math.max(I[1],N.coordinate)]},[1/0,-1/0]),y=en(i,a,x[0],o),w=en(i,a,x[1],o),_=tl(tl(tl({},Ze(h,!1)),{},{fill:"none"},Ze(f,!1)),{},{x1:y.x,y1:y.y,x2:w.x,y2:w.y});return ae.createElement("line",mf({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,u=i.angle,f=i.tickFormatter,h=i.stroke,x=iC(i,moe),y=this.getTickTextAnchor(),w=Ze(x,!1),_=Ze(o,!1),I=a.map(function(N,M){var P=r.getTickValueCoord(N),S=tl(tl(tl(tl({textAnchor:y,transform:"rotate(".concat(90-u,", ").concat(P.x,", ").concat(P.y,")")},w),{},{stroke:"none",fill:h},_),{},{index:M},P),{},{payload:N});return ae.createElement(St,mf({className:ft("recharts-polar-radius-axis-tick",W8(o)),key:"tick-".concat(N.coordinate)},Fl(r.props,N,M)),e.renderTickItem(o,S,f?f(N.value,M):N.value))});return ae.createElement(St,{className:"recharts-polar-radius-axis-ticks"},I)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:ae.createElement(St,{className:ft("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),cr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ae.isValidElement(r)?o=ae.cloneElement(r,i):rt(r)?o=r(i):o=ae.createElement($l,mf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(ee.PureComponent);mg(gg,"displayName","PolarRadiusAxis");mg(gg,"axisType","radiusAxis");mg(gg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){xg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cP(r.key),r)}}function Soe(t,e,n){return e&&oC(t.prototype,e),n&&oC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Toe(t,e,n){return e=km(e),Coe(t,lP()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function Coe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Noe(t)}function Noe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lP=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function Ioe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_2(t,e)}function _2(t,e){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_2(t,e)}function xg(t,e,n){return e=cP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cP(t){var e=Ooe(t,"string");return Su(e)=="symbol"?e:e+""}function Ooe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Poe=Math.PI/180,lC=1e-5,yg=function(t){function e(){return Eoe(this,e),Toe(this,e,arguments)}return Ioe(e,t),Soe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,u=i.radius,f=i.orientation,h=i.tickSize,x=h||8,y=en(a,o,u,r.coordinate),w=en(a,o,u+(f==="inner"?-1:1)*x,r.coordinate);return{x1:y.x,y1:y.y,x2:w.x,y2:w.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Poe),o;return a>lC?o=i==="outer"?"start":"end":a<-lC?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,u=r.axisLine,f=r.axisLineType,h=nl(nl({},Ze(this.props,!1)),{},{fill:"none"},Ze(u,!1));if(f==="circle")return ae.createElement(pg,dl({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:a,r:o}));var x=this.props.ticks,y=x.map(function(w){return en(i,a,o,w.coordinate)});return ae.createElement(Wse,dl({className:"recharts-polar-angle-axis-line"},h,{points:y}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,u=i.tickLine,f=i.tickFormatter,h=i.stroke,x=Ze(this.props,!1),y=Ze(o,!1),w=nl(nl({},x),{},{fill:"none"},Ze(u,!1)),_=a.map(function(I,N){var M=r.getTickLineCoord(I),P=r.getTickTextAnchor(I),S=nl(nl(nl({textAnchor:P},x),{},{stroke:"none",fill:h},y),{},{index:N,payload:I,x:M.x2,y:M.y2});return ae.createElement(St,dl({className:ft("recharts-polar-angle-axis-tick",W8(o)),key:"tick-".concat(I.coordinate)},Fl(r.props,I,N)),u&&ae.createElement("line",dl({className:"recharts-polar-angle-axis-tick-line"},w,M)),o&&e.renderTickItem(o,S,f?f(I.value,N):I.value))});return ae.createElement(St,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:ae.createElement(St,{className:ft("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ae.isValidElement(r)?o=ae.cloneElement(r,i):rt(r)?o=r(i):o=ae.createElement($l,dl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(ee.PureComponent);xg(yg,"displayName","PolarAngleAxis");xg(yg,"axisType","angleAxis");xg(yg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var joe=h5,koe=joe(Object.getPrototypeOf,Object),Moe=koe,Doe=ks,Roe=Moe,Loe=Ms,Boe="[object Object]",Foe=Function.prototype,$oe=Object.prototype,uP=Foe.toString,Voe=$oe.hasOwnProperty,Uoe=uP.call(Object);function zoe(t){if(!Loe(t)||Doe(t)!=Boe)return!1;var e=Roe(t);if(e===null)return!0;var n=Voe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&uP.call(n)==Uoe}var qoe=zoe;const Hoe=kt(qoe);var Woe=ks,Goe=Ms,Koe="[object Boolean]";function Xoe(t){return t===!0||t===!1||Goe(t)&&Woe(t)==Koe}var Yoe=Xoe;const Qoe=kt(Yoe);function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}function Zoe(t,e){return nle(t)||tle(t,e)||ele(t,e)||Joe()}function Joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ele(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function nle(t){if(Array.isArray(t))return t}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return e=ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ale(t,"string");return gh(e)=="symbol"?e:e+""}function ale(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fC=function(e,n,r,i,a){var o=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-o/2,",").concat(n+a),u+="L ".concat(e+r-o/2-i,",").concat(n+a),u+="L ".concat(e,",").concat(n," Z"),u},sle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ole=function(e){var n=dC(dC({},sle),e),r=ee.useRef(),i=ee.useState(-1),a=Zoe(i,2),o=a[0],u=a[1];ee.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&u(C)}catch{}},[]);var f=n.x,h=n.y,x=n.upperWidth,y=n.lowerWidth,w=n.height,_=n.className,I=n.animationEasing,N=n.animationDuration,M=n.animationBegin,P=n.isUpdateAnimationActive;if(f!==+f||h!==+h||x!==+x||y!==+y||w!==+w||x===0&&y===0||w===0)return null;var S=ft("recharts-trapezoid",_);return P?ae.createElement(Xa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:w,x:f,y:h},to:{upperWidth:x,lowerWidth:y,height:w,x:f,y:h},duration:N,animationEasing:I,isActive:P},function(C){var V=C.upperWidth,k=C.lowerWidth,R=C.height,j=C.x,D=C.y;return ae.createElement(Xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:M,duration:N,easing:I},ae.createElement("path",Mm({},Ze(n,!0),{className:S,d:fC(j,D,V,k,R),ref:r})))}):ae.createElement("g",null,ae.createElement("path",Mm({},Ze(n,!0),{className:S,d:fC(f,h,x,y,w)})))},lle=["option","shapeType","propTransformer","activeClassName","isActive"];function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function cle(t,e){if(t==null)return{};var n=ule(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ule(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dle(t,e,n){return e=fle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fle(t){var e=hle(t,"string");return xh(e)=="symbol"?e:e+""}function hle(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ple(t,e){return Dm(Dm({},e),t)}function mle(t,e){return t==="symbols"}function pC(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ae.createElement(wA,n);case"trapezoid":return ae.createElement(ole,n);case"sector":return ae.createElement(X8,n);case"symbols":if(mle(e))return ae.createElement($w,n);break;default:return null}}function gle(t){return ee.isValidElement(t)?t.props:t}function dP(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ple:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,u=t.isActive,f=cle(t,lle),h;if(ee.isValidElement(e))h=ee.cloneElement(e,Dm(Dm({},f),gle(e)));else if(rt(e))h=e(f);else if(Hoe(e)&&!Qoe(e)){var x=i(e,f);h=ae.createElement(pC,{shapeType:n,elementProps:x})}else{var y=f;h=ae.createElement(pC,{shapeType:n,elementProps:y})}return u?ae.createElement(St,{className:o},h):h}function vg(t,e){return e!=null&&"trapezoids"in t.props}function bg(t,e){return e!=null&&"sectors"in t.props}function yh(t,e){return e!=null&&"points"in t.props}function xle(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function yle(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function vle(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function ble(t,e){var n;return vg(t,e)?n=xle:bg(t,e)?n=yle:yh(t,e)&&(n=vle),n}function wle(t,e){var n;return vg(t,e)?n="trapezoids":bg(t,e)?n="sectors":yh(t,e)&&(n="points"),n}function Ale(t,e){if(vg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(bg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return yh(t,e)?e.payload:{}}function _le(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=wle(n,e),a=Ale(n,e),o=r.filter(function(f,h){var x=wu(a,f),y=n.props[i].filter(function(I){var N=ble(n,e);return N(I,e)}),w=n.props[i].indexOf(y[y.length-1]),_=h===w;return x&&_}),u=r.indexOf(o[o.length-1]);return u}var up;function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){Wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hP(r.key),r)}}function Sle(t,e,n){return e&&gC(t.prototype,e),n&&gC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tle(t,e,n){return e=Rm(e),Cle(t,fP()?Reflect.construct(e,n||[],Rm(t).constructor):e.apply(t,n))}function Cle(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nle(t)}function Nle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rm(t)}function Ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E2(t,e)}function E2(t,e){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E2(t,e)}function Wi(t,e,n){return e=hP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hP(t){var e=Ole(t,"string");return Tu(e)=="symbol"?e:e+""}function Ole(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Za=function(t){function e(n){var r;return Ele(this,e),r=Tle(this,e,[n]),Wi(r,"pieRef",null),Wi(r,"sectorRefs",[]),Wi(r,"id",Ju("recharts-pie-")),Wi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(i)&&i()}),Wi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Ile(e,t),Sle(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,u=a.labelLine,f=a.dataKey,h=a.valueKey,x=Ze(this.props,!1),y=Ze(o,!1),w=Ze(u,!1),_=o&&o.offsetRadius||20,I=r.map(function(N,M){var P=(N.startAngle+N.endAngle)/2,S=en(N.cx,N.cy,N.outerRadius+_,P),C=Qt(Qt(Qt(Qt({},x),N),{},{stroke:"none"},y),{},{index:M,textAnchor:e.getTextAnchor(S.x,N.cx)},S),V=Qt(Qt(Qt(Qt({},x),N),{},{fill:"none",stroke:N.fill},w),{},{index:M,points:[en(N.cx,N.cy,N.outerRadius,P),S]}),k=f;return ct(f)&&ct(h)?k="value":ct(f)&&(k=h),ae.createElement(St,{key:"label-".concat(N.startAngle,"-").concat(N.endAngle,"-").concat(N.midAngle,"-").concat(M)},u&&e.renderLabelLineItem(u,V,"line"),e.renderLabelItem(o,C,Qn(N,k)))});return ae.createElement(St,{className:"recharts-pie-labels"},I)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,u=a.blendStroke,f=a.inactiveShape;return r.map(function(h,x){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var y=i.isActiveIndex(x),w=f&&i.hasActiveIndex()?f:null,_=y?o:w,I=Qt(Qt({},h),{},{stroke:u?h.fill:h.stroke,tabIndex:-1});return ae.createElement(St,kc({ref:function(M){M&&!i.sectorRefs.includes(M)&&i.sectorRefs.push(M)},tabIndex:-1,className:"recharts-pie-sector"},Fl(i.props,h,x),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(x)}),ae.createElement(dP,kc({option:_,isActive:y,shapeType:"sector"},I)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,x=i.animationId,y=this.state,w=y.prevSectors,_=y.prevIsAnimationActive;return ae.createElement(Xa,{begin:u,duration:f,isActive:o,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(x,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(I){var N=I.t,M=[],P=a&&a[0],S=P.startAngle;return a.forEach(function(C,V){var k=w&&w[V],R=V>0?Pi(C,"paddingAngle",0):0;if(k){var j=ti(k.endAngle-k.startAngle,C.endAngle-C.startAngle),D=Qt(Qt({},C),{},{startAngle:S+R,endAngle:S+j(N)+R});M.push(D),S=D.endAngle}else{var L=C.endAngle,E=C.startAngle,O=ti(0,L-E),$=O(N),F=Qt(Qt({},C),{},{startAngle:S+R,endAngle:S+$+R});M.push(F),S=F.endAngle}}),ae.createElement(St,null,r.renderSectorsStatically(M))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!wu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,u=i.className,f=i.label,h=i.cx,x=i.cy,y=i.innerRadius,w=i.outerRadius,_=i.isAnimationActive,I=this.state.isAnimationFinished;if(a||!o||!o.length||!je(h)||!je(x)||!je(y)||!je(w))return null;var N=ft("recharts-pie",u);return ae.createElement(St,{tabIndex:this.props.rootTabIndex,className:N,ref:function(P){r.pieRef=P}},this.renderSectors(),f&&this.renderLabels(o),cr.renderCallByParent(this.props,null,!1),(!_||I)&&bs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(ae.isValidElement(r))return ae.cloneElement(r,i);if(rt(r))return r(i);var o=ft("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ae.createElement(Kc,kc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(ae.isValidElement(r))return ae.cloneElement(r,i);var o=a;if(rt(r)&&(o=r(i),ae.isValidElement(o)))return o;var u=ft("recharts-pie-label-text",typeof r!="boolean"&&!rt(r)?r.className:"");return ae.createElement($l,kc({},i,{alignmentBaseline:"middle",className:u}),o)}}])}(ee.PureComponent);up=Za;Wi(Za,"displayName","Pie");Wi(Za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wi(Za,"parseDeltaAngle",function(t,e){var n=Fr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Wi(Za,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ze(t,!1),i=Yi(n,qh);return e&&e.length?e.map(function(a,o){return Qt(Qt(Qt({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Qt(Qt({},r),a.props)}):[]});Wi(Za,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=H8(i,a),u=r+$r(t.cx,i,i/2),f=n+$r(t.cy,a,a/2),h=$r(t.innerRadius,o,0),x=$r(t.outerRadius,o,o*.8),y=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:x,maxRadius:y}});Wi(Za,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=up.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,u=r.endAngle,f=r.paddingAngle,h=r.dataKey,x=r.nameKey,y=r.valueKey,w=r.tooltipType,_=Math.abs(r.minAngle),I=up.parseCoordinateOfPie(r,n),N=up.parseDeltaAngle(o,u),M=Math.abs(N),P=h;ct(h)&&ct(y)?(ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):ct(h)&&(ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=y);var S=i.filter(function(D){return Qn(D,P,0)!==0}).length,C=(M>=360?S:S-1)*f,V=M-S*_-C,k=i.reduce(function(D,L){var E=Qn(L,P,0);return D+(je(E)?E:0)},0),R;if(k>0){var j;R=i.map(function(D,L){var E=Qn(D,P,0),O=Qn(D,x,L),$=(je(E)?E:0)/k,F;L?F=j.endAngle+Fr(N)*f*(E!==0?1:0):F=o;var H=F+Fr(N)*((E!==0?_:0)+$*V),z=(F+H)/2,W=(I.innerRadius+I.outerRadius)/2,Y=[{name:O,value:E,payload:D,dataKey:P,type:w}],re=en(I.cx,I.cy,W,z);return j=Qt(Qt(Qt({percent:$,cornerRadius:a,name:O,tooltipPayload:Y,midAngle:z,middleRadius:W,tooltipPosition:re},D),I),{},{value:Qn(D,P),startAngle:F,endAngle:H,payload:D,paddingAngle:Fr(N)*f}),j})}return Qt(Qt({},I),{},{sectors:R,data:i})});var Ple=Math.ceil,jle=Math.max;function kle(t,e,n,r){for(var i=-1,a=jle(Ple((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Mle=kle,Dle=j5,xC=1/0,Rle=17976931348623157e292;function Lle(t){if(!t)return t===0?t:0;if(t=Dle(t),t===xC||t===-xC){var e=t<0?-1:1;return e*Rle}return t===t?t:0}var pP=Lle,Ble=Mle,Fle=ng,qx=pP;function $le(t){return function(e,n,r){return r&&typeof r!="number"&&Fle(e,n,r)&&(n=r=void 0),e=qx(e),n===void 0?(n=e,e=0):n=qx(n),r=r===void 0?e<n?1:-1:qx(r),Ble(e,n,r,t)}}var Vle=$le,Ule=Vle,zle=Ule(),qle=zle;const Lm=kt(qle);function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){mP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mP(t,e,n){return e=Hle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hle(t){var e=Wle(t,"string");return vh(e)=="symbol"?e:e+""}function Wle(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gle=["Webkit","Moz","O","ms"],Kle=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Gle.reduce(function(a,o){return vC(vC({},a),{},mP({},o+r,n))},{});return i[e]=n,i};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xP(r.key),r)}}function Yle(t,e,n){return e&&wC(t.prototype,e),n&&wC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qle(t,e,n){return e=Fm(e),Zle(t,gP()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function Zle(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jle(t)}function Jle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gP=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S2(t,e)}function S2(t,e){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S2(t,e)}function wi(t,e,n){return e=xP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xP(t){var e=tce(t,"string");return Cu(e)=="symbol"?e:e+""}function tce(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nce=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=df().domain(Lm(0,f)).range([a,a+o-u]),x=h.domain().map(function(y){return h(y)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:x}},AC=function(e){return e.changedTouches&&!!e.changedTouches.length},Nu=function(t){function e(n){var r;return Xle(this,e),r=Qle(this,e,[n]),wi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),wi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),wi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,u=i.startIndex;o==null||o({endIndex:a,startIndex:u})}),r.detachDragEndListener()}),wi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),wi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),wi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),wi(r,"handleSlideDragStart",function(i){var a=AC(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ece(e,t),Yle(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,u=this.props,f=u.gap,h=u.data,x=h.length-1,y=Math.min(i,a),w=Math.max(i,a),_=e.getIndexInRange(o,y),I=e.getIndexInRange(o,w);return{startIndex:_-_%f,endIndex:I===x?x:I-I%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,u=i.dataKey,f=Qn(a[r],u,r);return rt(o)?o(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,u=i.endX,f=this.props,h=f.x,x=f.width,y=f.travellerWidth,w=f.startIndex,_=f.endIndex,I=f.onChange,N=r.pageX-a;N>0?N=Math.min(N,h+x-y-u,h+x-y-o):N<0&&(N=Math.max(N,h-o,h-u));var M=this.getIndex({startX:o+N,endX:u+N});(M.startIndex!==w||M.endIndex!==_)&&I&&I(M),this.setState({startX:o+N,endX:u+N,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=AC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,f=i.startX,h=this.state[o],x=this.props,y=x.x,w=x.width,_=x.travellerWidth,I=x.onChange,N=x.gap,M=x.data,P={startX:this.state.startX,endX:this.state.endX},S=r.pageX-a;S>0?S=Math.min(S,y+w-_-h):S<0&&(S=Math.max(S,y-h)),P[o]=h+S;var C=this.getIndex(P),V=C.startIndex,k=C.endIndex,R=function(){var D=M.length-1;return o==="startX"&&(u>f?V%N===0:k%N===0)||u<f&&k===D||o==="endX"&&(u>f?k%N===0:V%N===0)||u>f&&k===D};this.setState(wi(wi({},o,h+S),"brushMoveStartX",r.pageX),function(){I&&R()&&I(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,u=o.scaleValues,f=o.startX,h=o.endX,x=this.state[i],y=u.indexOf(x);if(y!==-1){var w=y+r;if(!(w===-1||w>=u.length)){var _=u[w];i==="startX"&&_>=h||i==="endX"&&_<=f||this.setState(wi({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,u=r.height,f=r.fill,h=r.stroke;return ae.createElement("rect",{stroke:h,fill:f,x:i,y:a,width:o,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,u=r.height,f=r.data,h=r.children,x=r.padding,y=ee.Children.only(h);return y?ae.cloneElement(y,{x:i,y:a,width:o,height:u,margin:x,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,u=this,f=this.props,h=f.y,x=f.travellerWidth,y=f.height,w=f.traveller,_=f.ariaLabel,I=f.data,N=f.startIndex,M=f.endIndex,P=Math.max(r,this.props.x),S=Hx(Hx({},Ze(this.props,!1)),{},{x:P,y:h,width:x,height:y}),C=_||"Min value: ".concat((a=I[N])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=I[M])===null||o===void 0?void 0:o.name);return ae.createElement(St,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),u.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(w,S))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,u=a.height,f=a.stroke,h=a.travellerWidth,x=Math.min(r,i)+h,y=Math.max(Math.abs(i-r)-h,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x,y:o,width:y,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,u=r.height,f=r.travellerWidth,h=r.stroke,x=this.state,y=x.startX,w=x.endX,_=5,I={pointerEvents:"none",fill:h};return ae.createElement(St,{className:"recharts-brush-texts"},ae.createElement($l,Bm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(y,w)-_,y:o+u/2},I),this.getTextOfTick(i)),ae.createElement($l,Bm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(y,w)+f+_,y:o+u/2},I),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,u=r.x,f=r.y,h=r.width,x=r.height,y=r.alwaysShowText,w=this.state,_=w.startX,I=w.endX,N=w.isTextActive,M=w.isSlideMoving,P=w.isTravellerMoving,S=w.isTravellerFocused;if(!i||!i.length||!je(u)||!je(f)||!je(h)||!je(x)||h<=0||x<=0)return null;var C=ft("recharts-brush",a),V=ae.Children.count(o)===1,k=Kle("userSelect","none");return ae.createElement(St,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(_,I),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(I,"endX"),(N||M||P||S||y)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,u=r.height,f=r.stroke,h=Math.floor(a+u/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:i,y:a,width:o,height:u,fill:f,stroke:"none"}),ae.createElement("line",{x1:i+1,y1:h,x2:i+o-1,y2:h,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:i+1,y1:h+2,x2:i+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ae.isValidElement(r)?a=ae.cloneElement(r,i):rt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,u=r.x,f=r.travellerWidth,h=r.updateId,x=r.startIndex,y=r.endIndex;if(a!==i.prevData||h!==i.prevUpdateId)return Hx({prevData:a,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:o},a&&a.length?nce({data:a,width:o,x:u,travellerWidth:f,startIndex:x,endIndex:y}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([u,u+o-f]);var w=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:f,prevUpdateId:h,prevX:u,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:w}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,u=a-1;u-o>1;){var f=Math.floor((o+u)/2);r[f]>i?u=f:o=f}return i>=r[u]?u:o}}])}(ee.PureComponent);wi(Nu,"displayName","Brush");wi(Nu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rce=Gw;function ice(t,e){var n;return rce(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var ace=ice,sce=a5,oce=Qa,lce=ace,cce=ci,uce=ng;function dce(t,e,n){var r=cce(t)?sce:lce;return n&&uce(t,e,n)&&(e=void 0),r(t,oce(e))}var fce=dce;const hce=kt(fce);var Wa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},_C=C5;function pce(t,e,n){e=="__proto__"&&_C?_C(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var mce=pce,gce=mce,xce=S5,yce=Qa;function vce(t,e){var n={};return e=yce(e),xce(t,function(r,i,a){gce(n,i,e(r,i,a))}),n}var bce=vce;const wce=kt(bce);function Ace(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var _ce=Ace,Ece=Gw;function Sce(t,e){var n=!0;return Ece(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Tce=Sce,Cce=_ce,Nce=Tce,Ice=Qa,Oce=ci,Pce=ng;function jce(t,e,n){var r=Oce(t)?Cce:Nce;return n&&Pce(t,e,n)&&(e=void 0),r(t,Ice(e))}var kce=jce;const yP=kt(kce);var Mce=["x","y"];function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T2.apply(this,arguments)}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return e=Rce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rce(t){var e=Lce(t,"string");return bh(e)=="symbol"?e:e+""}function Lce(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bce(t,e){if(t==null)return{};var n=Fce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $ce(t,e){var n=t.x,r=t.y,i=Bce(t,Mce),a="".concat(n),o=parseInt(a,10),u="".concat(r),f=parseInt(u,10),h="".concat(e.height||i.height),x=parseInt(h,10),y="".concat(e.width||i.width),w=parseInt(y,10);return Rd(Rd(Rd(Rd(Rd({},e),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:x,width:w,name:e.name,radius:e.radius})}function SC(t){return ae.createElement(dP,T2({shapeType:"rectangle",propTransformer:$ce,activeClassName:"recharts-active-bar"},t))}var Vce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=je(r)||lU(r);return a?e(r,i):(a||Ul(),n)}},Uce=["value","background"],vP;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function zce(t,e){if(t==null)return{};var n=qce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){so(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wP(r.key),r)}}function Wce(t,e,n){return e&&CC(t.prototype,e),n&&CC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gce(t,e,n){return e=Vm(e),Kce(t,bP()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function Kce(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xce(t)}function Xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function Yce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C2(t,e)}function C2(t,e){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C2(t,e)}function so(t,e,n){return e=wP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wP(t){var e=Qce(t,"string");return Iu(e)=="symbol"?e:e+""}function Qce(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=function(t){function e(){var n;Hce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Gce(this,e,[].concat(i)),so(n,"state",{isAnimationFinished:!1}),so(n,"id",Ju("recharts-bar-")),so(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),so(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Yce(e,t),Wce(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,u=a.dataKey,f=a.activeIndex,h=a.activeBar,x=Ze(this.props,!1);return r&&r.map(function(y,w){var _=w===f,I=_?h:o,N=Ln(Ln(Ln({},x),y),{},{isActive:_,option:I,index:w,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ae.createElement(St,$m({className:"recharts-bar-rectangle"},Fl(i.props,y,w),{key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(w)}),ae.createElement(SC,N))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,u=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,x=i.animationEasing,y=i.animationId,w=this.state.prevData;return ae.createElement(Xa,{begin:f,duration:h,isActive:u,easing:x,from:{t:0},to:{t:1},key:"bar-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var I=_.t,N=a.map(function(M,P){var S=w&&w[P];if(S){var C=ti(S.x,M.x),V=ti(S.y,M.y),k=ti(S.width,M.width),R=ti(S.height,M.height);return Ln(Ln({},M),{},{x:C(I),y:V(I),width:k(I),height:R(I)})}if(o==="horizontal"){var j=ti(0,M.height),D=j(I);return Ln(Ln({},M),{},{y:M.y+M.height-D,height:D})}var L=ti(0,M.width),E=L(I);return Ln(Ln({},M),{},{width:E})});return ae.createElement(St,null,r.renderRectanglesStatically(N))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!wu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,u=i.activeIndex,f=Ze(this.props.background,!1);return a.map(function(h,x){h.value;var y=h.background,w=zce(h,Uce);if(!y)return null;var _=Ln(Ln(Ln(Ln(Ln({},w),{},{fill:"#eee"},y),f),Fl(r.props,h,x)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:x,className:"recharts-bar-background-rectangle"});return ae.createElement(SC,$m({key:"background-bar-".concat(x),option:r.props.background,isActive:x===u},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,u=a.xAxis,f=a.yAxis,h=a.layout,x=a.children,y=Yi(x,hg);if(!y)return null;var w=h==="vertical"?o[0].height/2:o[0].width/2,_=function(M,P){var S=Array.isArray(M.value)?M.value[1]:M.value;return{x:M.x,y:M.y,value:S,errorVal:Qn(M,P)}},I={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ae.createElement(St,I,y.map(function(N){return ae.cloneElement(N,{key:"error-bar-".concat(i,"-").concat(N.props.dataKey),data:o,xAxis:u,yAxis:f,layout:h,offset:w,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,u=r.xAxis,f=r.yAxis,h=r.left,x=r.top,y=r.width,w=r.height,_=r.isAnimationActive,I=r.background,N=r.id;if(i||!a||!a.length)return null;var M=this.state.isAnimationFinished,P=ft("recharts-bar",o),S=u&&u.allowDataOverflow,C=f&&f.allowDataOverflow,V=S||C,k=ct(N)?this.id:N;return ae.createElement(St,{className:P},S||C?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(k)},ae.createElement("rect",{x:S?h:h-y/2,y:C?x:x-w/2,width:S?y:y*2,height:C?w:w*2}))):null,ae.createElement(St,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(k,")"):null},I?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,k),(!_||M)&&bs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(ee.PureComponent);vP=No;so(No,"displayName","Bar");so(No,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});so(No,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,u=t.xAxisTicks,f=t.yAxisTicks,h=t.stackedData,x=t.dataStartIndex,y=t.displayedData,w=t.offset,_=Cre(r,n);if(!_)return null;var I=e.layout,N=n.type.defaultProps,M=N!==void 0?Ln(Ln({},N),n.props):n.props,P=M.dataKey,S=M.children,C=M.minPointSize,V=I==="horizontal"?o:a,k=h?V.scale.domain():null,R=Mre({numericAxis:V}),j=Yi(S,qh),D=y.map(function(L,E){var O,$,F,H,z,W;h?O=Nre(h[x+E],k):(O=Qn(L,P),Array.isArray(O)||(O=[R,O]));var Y=Vce(C,vP.defaultProps.minPointSize)(O[1],E);if(I==="horizontal"){var re,ne=[o.scale(O[0]),o.scale(O[1])],ce=ne[0],ve=ne[1];$=vT({axis:a,ticks:u,bandSize:i,offset:_.offset,entry:L,index:E}),F=(re=ve??ce)!==null&&re!==void 0?re:void 0,H=_.size;var ye=ce-ve;if(z=Number.isNaN(ye)?0:ye,W={x:$,y:o.y,width:H,height:o.height},Math.abs(Y)>0&&Math.abs(z)<Math.abs(Y)){var pe=Fr(z||Y)*(Math.abs(Y)-Math.abs(z));F-=pe,z+=pe}}else{var se=[a.scale(O[0]),a.scale(O[1])],Te=se[0],oe=se[1];if($=Te,F=vT({axis:o,ticks:f,bandSize:i,offset:_.offset,entry:L,index:E}),H=oe-Te,z=_.size,W={x:a.x,y:F,width:a.width,height:z},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var ue=Fr(H||Y)*(Math.abs(Y)-Math.abs(H));H+=ue}}return Ln(Ln(Ln({},L),{},{x:$,y:F,width:H,height:z,value:h?O:O[1],payload:L,background:W},j&&j[E]&&j[E].props),{},{tooltipPayload:[z8(n,L)],tooltipPosition:{x:$+H/2,y:F+z/2}})});return Ln({data:D,layout:I},w)});function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AP(r.key),r)}}function Jce(t,e,n){return e&&NC(t.prototype,e),n&&NC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wg(t,e,n){return e=AP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AP(t){var e=eue(t,"string");return wh(e)=="symbol"?e:e+""}function eue(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _P=function(e,n,r,i,a){var o=e.width,u=e.height,f=e.layout,h=e.children,x=Object.keys(n),y={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},w=!!_i(h,No);return x.reduce(function(_,I){var N=n[I],M=N.orientation,P=N.domain,S=N.padding,C=S===void 0?{}:S,V=N.mirror,k=N.reversed,R="".concat(M).concat(V?"Mirror":""),j,D,L,E,O;if(N.type==="number"&&(N.padding==="gap"||N.padding==="no-gap")){var $=P[1]-P[0],F=1/0,H=N.categoricalDomain.sort(dU);if(H.forEach(function(se,Te){Te>0&&(F=Math.min((se||0)-(H[Te-1]||0),F))}),Number.isFinite(F)){var z=F/$,W=N.layout==="vertical"?r.height:r.width;if(N.padding==="gap"&&(j=z*W/2),N.padding==="no-gap"){var Y=$r(e.barCategoryGap,z*W),re=z*W/2;j=re-Y-(re-Y)/W*Y}}}i==="xAxis"?D=[r.left+(C.left||0)+(j||0),r.left+r.width-(C.right||0)-(j||0)]:i==="yAxis"?D=f==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(j||0),r.top+r.height-(C.bottom||0)-(j||0)]:D=N.range,k&&(D=[D[1],D[0]]);var ne=F8(N,a,w),ce=ne.scale,ve=ne.realScaleType;ce.domain(P).range(D),$8(ce);var ye=V8(ce,fa(fa({},N),{},{realScaleType:ve}));i==="xAxis"?(O=M==="top"&&!V||M==="bottom"&&V,L=r.left,E=y[R]-O*N.height):i==="yAxis"&&(O=M==="left"&&!V||M==="right"&&V,L=y[R]-O*N.width,E=r.top);var pe=fa(fa(fa({},N),ye),{},{realScaleType:ve,x:L,y:E,scale:ce,width:i==="xAxis"?r.width:N.width,height:i==="yAxis"?r.height:N.height});return pe.bandSize=Em(pe,ye),!N.hide&&i==="xAxis"?y[R]+=(O?-1:1)*pe.height:N.hide||(y[R]+=(O?-1:1)*pe.width),fa(fa({},_),{},wg({},I,pe))},{})},EP=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},tue=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return EP({x:n,y:r},{x:i,y:a})},SP=function(){function t(e){Zce(this,t),this.scale=e}return Jce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();wg(SP,"EPS",1e-4);var AA=function(e){var n=Object.keys(e).reduce(function(r,i){return fa(fa({},r),{},wg({},i,SP.create(e[i])))},{});return fa(fa({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,u=a.position;return wce(i,function(f,h){return n[h].apply(f,{bandAware:o,position:u})})},isInRange:function(i){return yP(i,function(a,o){return n[o].isInRange(a)})}})};function nue(t){return(t%180+180)%180}var rue=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=nue(i),o=a*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},iue=Qa,aue=zh,sue=eg;function oue(t){return function(e,n,r){var i=Object(e);if(!aue(e)){var a=iue(n);e=sue(e),n=function(u){return a(i[u],u,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var lue=oue,cue=pP;function uue(t){var e=cue(t),n=e%1;return e===e?n?e-n:e:0}var due=uue,fue=v5,hue=Qa,pue=due,mue=Math.max;function gue(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:pue(n);return i<0&&(i=mue(r+i,0)),fue(t,hue(e),i)}var xue=gue,yue=lue,vue=xue,bue=yue(vue),wue=bue;const Aue=kt(wue);var _ue=pV(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_A=ee.createContext(void 0),EA=ee.createContext(void 0),TP=ee.createContext(void 0),CP=ee.createContext({}),NP=ee.createContext(void 0),IP=ee.createContext(0),OP=ee.createContext(0),OC=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,u=e.children,f=e.width,h=e.height,x=_ue(a);return ae.createElement(_A.Provider,{value:r},ae.createElement(EA.Provider,{value:i},ae.createElement(CP.Provider,{value:a},ae.createElement(TP.Provider,{value:x},ae.createElement(NP.Provider,{value:o},ae.createElement(IP.Provider,{value:h},ae.createElement(OP.Provider,{value:f},u)))))))},Eue=function(){return ee.useContext(NP)},PP=function(e){var n=ee.useContext(_A);n==null&&Ul();var r=n[e];return r==null&&Ul(),r},Sue=function(){var e=ee.useContext(_A);return Zs(e)},Tue=function(){var e=ee.useContext(EA),n=Aue(e,function(r){return yP(r.domain,Number.isFinite)});return n||Zs(e)},jP=function(e){var n=ee.useContext(EA);n==null&&Ul();var r=n[e];return r==null&&Ul(),r},Cue=function(){var e=ee.useContext(TP);return e},Nue=function(){return ee.useContext(CP)},SA=function(){return ee.useContext(OP)},TA=function(){return ee.useContext(IP)};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MP(r.key),r)}}function Pue(t,e,n){return e&&Oue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jue(t,e,n){return e=Um(e),kue(t,kP()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function kue(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mue(t)}function Mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kP=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N2(t,e)}function N2(t,e){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N2(t,e)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){CA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CA(t,e,n){return e=MP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MP(t){var e=Rue(t,"string");return Ou(e)=="symbol"?e:e+""}function Rue(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lue(t,e){return Vue(t)||$ue(t,e)||Fue(t,e)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fue(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Vue(t){if(Array.isArray(t))return t}function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I2.apply(this,arguments)}var Uue=function(e,n){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,n):rt(e)?r=e(n):r=ae.createElement("line",I2({},n,{className:"recharts-reference-line-line"})),r},zue=function(e,n,r,i,a,o,u,f,h){var x=a.x,y=a.y,w=a.width,_=a.height;if(r){var I=h.y,N=e.y.apply(I,{position:o});if(Wa(h,"discard")&&!e.y.isInRange(N))return null;var M=[{x:x+w,y:N},{x,y:N}];return f==="left"?M.reverse():M}if(n){var P=h.x,S=e.x.apply(P,{position:o});if(Wa(h,"discard")&&!e.x.isInRange(S))return null;var C=[{x:S,y:y+_},{x:S,y}];return u==="top"?C.reverse():C}if(i){var V=h.segment,k=V.map(function(R){return e.apply(R,{position:o})});return Wa(h,"discard")&&hce(k,function(R){return!e.isInRange(R)})?null:k}return null};function que(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,u=t.className,f=t.alwaysShow,h=Eue(),x=PP(i),y=jP(a),w=Cue();if(!h||!w)return null;ba(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=AA({x:x.scale,y:y.scale}),I=Jn(e),N=Jn(n),M=r&&r.length===2,P=zue(_,I,N,M,w,t.position,x.orientation,y.orientation,t);if(!P)return null;var S=Lue(P,2),C=S[0],V=C.x,k=C.y,R=S[1],j=R.x,D=R.y,L=Wa(t,"hidden")?"url(#".concat(h,")"):void 0,E=jC(jC({clipPath:L},Ze(t,!0)),{},{x1:V,y1:k,x2:j,y2:D});return ae.createElement(St,{className:ft("recharts-reference-line",u)},Uue(o,E),cr.renderCallByParent(t,tue({x1:V,y1:k,x2:j,y2:D})))}var NA=function(t){function e(){return Iue(this,e),jue(this,e,arguments)}return Due(e,t),Pue(e,[{key:"render",value:function(){return ae.createElement(que,this.props)}}])}(ae.Component);CA(NA,"displayName","ReferenceLine");CA(NA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O2.apply(this,arguments)}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){Ag(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RP(r.key),r)}}function Gue(t,e,n){return e&&Wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,n){return e=zm(e),Xue(t,DP()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function Xue(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P2(t,e)}function Ag(t,e,n){return e=RP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RP(t){var e=Zue(t,"string");return Pu(e)=="symbol"?e:e+""}function Zue(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jue=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=AA({x:i.scale,y:a.scale}),u=o.apply({x:n,y:r},{bandAware:!0});return Wa(e,"discard")&&!o.isInRange(u)?null:u},_g=function(t){function e(){return Hue(this,e),Kue(this,e,arguments)}return Que(e,t),Gue(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,u=r.alwaysShow,f=r.clipPathId,h=Jn(i),x=Jn(a);if(ba(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!x)return null;var y=Jue(this.props);if(!y)return null;var w=y.x,_=y.y,I=this.props,N=I.shape,M=I.className,P=Wa(this.props,"hidden")?"url(#".concat(f,")"):void 0,S=DC(DC({clipPath:P},Ze(this.props,!0)),{},{cx:w,cy:_});return ae.createElement(St,{className:ft("recharts-reference-dot",M)},e.renderDot(N,S),cr.renderCallByParent(this.props,{x:w-o,y:_-o,width:2*o,height:2*o}))}}])}(ae.Component);Ag(_g,"displayName","ReferenceDot");Ag(_g,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ag(_g,"renderDot",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):rt(t)?n=t(e):n=ae.createElement(pg,O2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(this,arguments)}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){Eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BP(r.key),r)}}function nde(t,e,n){return e&&tde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rde(t,e,n){return e=qm(e),ide(t,LP()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function ide(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(t)}function ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k2(t,e)}function k2(t,e){return k2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k2(t,e)}function Eg(t,e,n){return e=BP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BP(t){var e=ode(t,"string");return ju(e)=="symbol"?e:e+""}function ode(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lde=function(e,n,r,i,a){var o=a.x1,u=a.x2,f=a.y1,h=a.y2,x=a.xAxis,y=a.yAxis;if(!x||!y)return null;var w=AA({x:x.scale,y:y.scale}),_={x:e?w.x.apply(o,{position:"start"}):w.x.rangeMin,y:r?w.y.apply(f,{position:"start"}):w.y.rangeMin},I={x:n?w.x.apply(u,{position:"end"}):w.x.rangeMax,y:i?w.y.apply(h,{position:"end"}):w.y.rangeMax};return Wa(a,"discard")&&(!w.isInRange(_)||!w.isInRange(I))?null:EP(_,I)},Sg=function(t){function e(){return ede(this,e),rde(this,e,arguments)}return sde(e,t),nde(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,u=r.y2,f=r.className,h=r.alwaysShow,x=r.clipPathId;ba(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=Jn(i),w=Jn(a),_=Jn(o),I=Jn(u),N=this.props.shape;if(!y&&!w&&!_&&!I&&!N)return null;var M=lde(y,w,_,I,this.props);if(!M&&!N)return null;var P=Wa(this.props,"hidden")?"url(#".concat(x,")"):void 0;return ae.createElement(St,{className:ft("recharts-reference-area",f)},e.renderRect(N,LC(LC({clipPath:P},Ze(this.props,!0)),M)),cr.renderCallByParent(this.props,M))}}])}(ae.Component);Eg(Sg,"displayName","ReferenceArea");Eg(Sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Eg(Sg,"renderRect",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):rt(t)?n=t(e):n=ae.createElement(wA,j2({},e,{className:"recharts-reference-area-rect"})),n});function FP(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function cde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return rue(r,n)}function ude(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,u=t.height;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function Hm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function dde(t,e){return FP(t,e+1)}function fde(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,u=e.end,f=0,h=1,x=o,y=function(){var I=r==null?void 0:r[f];if(I===void 0)return{v:FP(r,h)};var N=f,M,P=function(){return M===void 0&&(M=n(I,N)),M},S=I.coordinate,C=f===0||Hm(t,S,P,x,u);C||(f=0,x=o,h+=1),C&&(x=S+t*(P()/2+i),f+=h)},w;h<=a.length;)if(w=y(),w)return w.v;return[]}function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return e=pde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pde(t){var e=mde(t,"string");return Ah(e)=="symbol"?e:e+""}function mde(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gde(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,u=e.start,f=e.end,h=function(w){var _=a[w],I,N=function(){return I===void 0&&(I=n(_,w)),I};if(w===o-1){var M=t*(_.coordinate+t*N()/2-f);a[w]=_=Nr(Nr({},_),{},{tickCoord:M>0?_.coordinate-M*t:_.coordinate})}else a[w]=_=Nr(Nr({},_),{},{tickCoord:_.coordinate});var P=Hm(t,_.tickCoord,N,u,f);P&&(f=_.tickCoord-t*(N()/2+i),a[w]=Nr(Nr({},_),{},{isShow:!0}))},x=o-1;x>=0;x--)h(x);return a}function xde(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,f=e.start,h=e.end;if(a){var x=r[u-1],y=n(x,u-1),w=t*(x.coordinate+t*y/2-h);o[u-1]=x=Nr(Nr({},x),{},{tickCoord:w>0?x.coordinate-w*t:x.coordinate});var _=Hm(t,x.tickCoord,function(){return y},f,h);_&&(h=x.tickCoord-t*(y/2+i),o[u-1]=Nr(Nr({},x),{},{isShow:!0}))}for(var I=a?u-1:u,N=function(S){var C=o[S],V,k=function(){return V===void 0&&(V=n(C,S)),V};if(S===0){var R=t*(C.coordinate-t*k()/2-f);o[S]=C=Nr(Nr({},C),{},{tickCoord:R<0?C.coordinate-R*t:C.coordinate})}else o[S]=C=Nr(Nr({},C),{},{tickCoord:C.coordinate});var j=Hm(t,C.tickCoord,k,f,h);j&&(f=C.tickCoord+t*(k()/2+i),o[S]=Nr(Nr({},C),{},{isShow:!0}))},M=0;M<I;M++)N(M);return o}function IA(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,u=t.orientation,f=t.interval,h=t.tickFormatter,x=t.unit,y=t.angle;if(!i||!i.length||!r)return[];if(je(f)||Xl.isSsr)return dde(i,typeof f=="number"&&je(f)?f:0);var w=[],_=u==="top"||u==="bottom"?"width":"height",I=x&&_==="width"?uf(x,{fontSize:e,letterSpacing:n}):{width:0,height:0},N=function(C,V){var k=rt(h)?h(C.value,V):C.value;return _==="width"?cde(uf(k,{fontSize:e,letterSpacing:n}),I,y):uf(k,{fontSize:e,letterSpacing:n})[_]},M=i.length>=2?Fr(i[1].coordinate-i[0].coordinate):1,P=ude(a,M,_);return f==="equidistantPreserveStart"?fde(M,P,N,i,o):(f==="preserveStart"||f==="preserveStartEnd"?w=xde(M,P,N,i,o,f==="preserveStartEnd"):w=gde(M,P,N,i,o),w.filter(function(S){return S.isShow}))}var yde=["viewBox"],vde=["viewBox"],bde=["ticks"];function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){OA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wx(t,e){if(t==null)return{};var n=wde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VP(r.key),r)}}function _de(t,e,n){return e&&$C(t.prototype,e),n&&$C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ede(t,e,n){return e=Wm(e),Sde(t,$P()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function Sde(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tde(t)}function Tde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function Cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M2(t,e)}function M2(t,e){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M2(t,e)}function OA(t,e,n){return e=VP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VP(t){var e=Nde(t,"string");return ku(e)=="symbol"?e:e+""}function Nde(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sd=function(t){function e(n){var r;return Ade(this,e),r=Ede(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Cde(e,t),_de(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Wx(r,yde),u=this.props,f=u.viewBox,h=Wx(u,vde);return!Hc(a,f)||!Hc(o,h)||!Hc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,u=i.width,f=i.height,h=i.orientation,x=i.tickSize,y=i.mirror,w=i.tickMargin,_,I,N,M,P,S,C=y?-1:1,V=r.tickSize||x,k=je(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":_=I=r.coordinate,M=o+ +!y*f,N=M-C*V,S=N-C*w,P=k;break;case"left":N=M=r.coordinate,I=a+ +!y*u,_=I-C*V,P=_-C*w,S=k;break;case"right":N=M=r.coordinate,I=a+ +y*u,_=I+C*V,P=_+C*w,S=k;break;default:_=I=r.coordinate,M=o+ +y*f,N=M+C*V,S=N+C*w,P=k;break}return{line:{x1:_,y1:N,x2:I,y2:M},tick:{x:P,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,u=r.height,f=r.orientation,h=r.mirror,x=r.axisLine,y=Gn(Gn(Gn({},Ze(this.props,!1)),Ze(x,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var w=+(f==="top"&&!h||f==="bottom"&&h);y=Gn(Gn({},y),{},{x1:i,y1:a+w*u,x2:i+o,y2:a+w*u})}else{var _=+(f==="left"&&!h||f==="right"&&h);y=Gn(Gn({},y),{},{x1:i+_*o,y1:a,x2:i+_*o,y2:a+u})}return ae.createElement("line",Mc({},y,{className:ft("recharts-cartesian-axis-line",Pi(x,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,u=this.props,f=u.tickLine,h=u.stroke,x=u.tick,y=u.tickFormatter,w=u.unit,_=IA(Gn(Gn({},this.props),{},{ticks:r}),i,a),I=this.getTickTextAnchor(),N=this.getTickVerticalAnchor(),M=Ze(this.props,!1),P=Ze(x,!1),S=Gn(Gn({},M),{},{fill:"none"},Ze(f,!1)),C=_.map(function(V,k){var R=o.getTickLineCoord(V),j=R.line,D=R.tick,L=Gn(Gn(Gn(Gn({textAnchor:I,verticalAnchor:N},M),{},{stroke:"none",fill:h},P),D),{},{index:k,payload:V,visibleTicksCount:_.length,tickFormatter:y});return ae.createElement(St,Mc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Fl(o.props,V,k)),f&&ae.createElement("line",Mc({},S,j,{className:ft("recharts-cartesian-axis-tick-line",Pi(f,"className"))})),x&&e.renderTickItem(x,L,"".concat(rt(y)?y(V.value,k):V.value).concat(w||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,u=i.height,f=i.ticksGenerator,h=i.className,x=i.hide;if(x)return null;var y=this.props,w=y.ticks,_=Wx(y,bde),I=w;return rt(f)&&(I=w&&w.length>0?f(this.props):f(_)),o<=0||u<=0||!I||!I.length?null:ae.createElement(St,{className:ft("recharts-cartesian-axis",h),ref:function(M){r.layerReference=M}},a&&this.renderAxisLine(),this.renderTicks(I,this.state.fontSize,this.state.letterSpacing),cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,u=ft(i.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(r)?o=ae.cloneElement(r,Gn(Gn({},i),{},{className:u})):rt(r)?o=r(Gn(Gn({},i),{},{className:u})):o=ae.createElement($l,Mc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(ee.Component);OA(sd,"displayName","CartesianAxis");OA(sd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ide=["x1","y1","x2","y2","key"],Ode=["offset"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return e=jde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jde(t){var e=kde(t,"string");return zl(e)=="symbol"?e:e+""}function kde(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}function UC(t,e){if(t==null)return{};var n=Mde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,u=e.height,f=e.ry;return ae.createElement("rect",{x:i,y:a,ry:f,width:o,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UP(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(rt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,u=e.key,f=UC(e,Ide),h=Ze(f,!1);h.offset;var x=UC(h,Ode);n=ae.createElement("line",vl({},x,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function Rde(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,f){var h=jr(jr({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(f),index:f});return UP(i,h)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Lde(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,f){var h=jr(jr({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(f),index:f});return UP(i,h)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Bde(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,u=t.horizontalPoints,f=t.horizontal,h=f===void 0?!0:f;if(!h||!e||!e.length)return null;var x=u.map(function(w){return Math.round(w+i-i)}).sort(function(w,_){return w-_});i!==x[0]&&x.unshift(0);var y=x.map(function(w,_){var I=!x[_+1],N=I?i+o-w:x[_+1]-w;if(N<=0)return null;var M=_%e.length;return ae.createElement("rect",{key:"react-".concat(_),y:w,x:r,height:N,width:a,stroke:"none",fill:e[M],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},y)}function Fde(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,u=t.width,f=t.height,h=t.verticalPoints;if(!n||!r||!r.length)return null;var x=h.map(function(w){return Math.round(w+a-a)}).sort(function(w,_){return w-_});a!==x[0]&&x.unshift(0);var y=x.map(function(w,_){var I=!x[_+1],N=I?a+u-w:x[_+1]-w;if(N<=0)return null;var M=_%r.length;return ae.createElement("rect",{key:"react-".concat(_),x:w,y:o,width:N,height:f,stroke:"none",fill:r[M],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},y)}var $de=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return B8(IA(jr(jr(jr({},sd.defaultProps),r),{},{ticks:ps(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Vde=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return B8(IA(jr(jr(jr({},sd.defaultProps),r),{},{ticks:ps(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},dc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zP(t){var e,n,r,i,a,o,u=SA(),f=TA(),h=Nue(),x=jr(jr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:dc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:dc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:dc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:dc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:dc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:dc.verticalFill,x:je(t.x)?t.x:h.left,y:je(t.y)?t.y:h.top,width:je(t.width)?t.width:h.width,height:je(t.height)?t.height:h.height}),y=x.x,w=x.y,_=x.width,I=x.height,N=x.syncWithTicks,M=x.horizontalValues,P=x.verticalValues,S=Sue(),C=Tue();if(!je(_)||_<=0||!je(I)||I<=0||!je(y)||y!==+y||!je(w)||w!==+w)return null;var V=x.verticalCoordinatesGenerator||$de,k=x.horizontalCoordinatesGenerator||Vde,R=x.horizontalPoints,j=x.verticalPoints;if((!R||!R.length)&&rt(k)){var D=M&&M.length,L=k({yAxis:C?jr(jr({},C),{},{ticks:D?M:C.ticks}):void 0,width:u,height:f,offset:h},D?!0:N);ba(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zl(L),"]")),Array.isArray(L)&&(R=L)}if((!j||!j.length)&&rt(V)){var E=P&&P.length,O=V({xAxis:S?jr(jr({},S),{},{ticks:E?P:S.ticks}):void 0,width:u,height:f,offset:h},E?!0:N);ba(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zl(O),"]")),Array.isArray(O)&&(j=O)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(Dde,{fill:x.fill,fillOpacity:x.fillOpacity,x:x.x,y:x.y,width:x.width,height:x.height,ry:x.ry}),ae.createElement(Rde,vl({},x,{offset:h,horizontalPoints:R,xAxis:S,yAxis:C})),ae.createElement(Lde,vl({},x,{offset:h,verticalPoints:j,xAxis:S,yAxis:C})),ae.createElement(Bde,vl({},x,{horizontalPoints:R})),ae.createElement(Fde,vl({},x,{verticalPoints:j})))}zP.displayName="CartesianGrid";var Ude=["layout","type","stroke","connectNulls","isRange","ref"],zde=["key"],qP;function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function HP(t,e){if(t==null)return{};var n=qde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){$a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GP(r.key),r)}}function Wde(t,e,n){return e&&qC(t.prototype,e),n&&qC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gde(t,e,n){return e=Gm(e),Kde(t,WP()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function Kde(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xde(t)}function Xde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function Yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D2(t,e)}function D2(t,e){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D2(t,e)}function $a(t,e,n){return e=GP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GP(t){var e=Qde(t,"string");return Mu(e)=="symbol"?e:e+""}function Qde(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ps=function(t){function e(){var n;Hde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Gde(this,e,[].concat(i)),$a(n,"state",{isAnimationFinished:!0}),$a(n,"id",Ju("recharts-area-")),$a(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),rt(o)&&o()}),$a(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),rt(o)&&o()}),n}return Yde(e,t),Wde(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(o&&!u)return null;var f=this.props,h=f.dot,x=f.points,y=f.dataKey,w=Ze(this.props,!1),_=Ze(h,!0),I=x.map(function(M,P){var S=Ws(Ws(Ws({key:"dot-".concat(P),r:3},w),_),{},{index:P,cx:M.x,cy:M.y,dataKey:y,value:M.value,payload:M.payload,points:x});return e.renderDotItem(h,S)}),N={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ae.createElement(St,bl({className:"recharts-area-dots"},N),I)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,u=i.strokeWidth,f=o[0].x,h=o[o.length-1].x,x=r*Math.abs(f-h),y=ao(o.map(function(w){return w.y||0}));return je(a)&&typeof a=="number"?y=Math.max(a,y):a&&Array.isArray(a)&&a.length&&(y=Math.max(ao(a.map(function(w){return w.y||0})),y)),je(y)?ae.createElement("rect",{x:f<h?f:f-x,y:0,width:x,height:Math.floor(y+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,u=i.strokeWidth,f=o[0].y,h=o[o.length-1].y,x=r*Math.abs(f-h),y=ao(o.map(function(w){return w.x||0}));return je(a)&&typeof a=="number"?y=Math.max(a,y):a&&Array.isArray(a)&&a.length&&(y=Math.max(ao(a.map(function(w){return w.x||0})),y)),je(y)?ae.createElement("rect",{x:0,y:f<h?f:f-x,width:y+(u?parseInt("".concat(u),10):1),height:Math.floor(x)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var u=this.props,f=u.layout,h=u.type,x=u.stroke,y=u.connectNulls,w=u.isRange;u.ref;var _=HP(u,Ude);return ae.createElement(St,{clipPath:a?"url(#clipPath-".concat(o,")"):null},ae.createElement(Kc,bl({},Ze(_,!0),{points:r,connectNulls:y,type:h,baseLine:i,layout:f,stroke:"none",className:"recharts-area-area"})),x!=="none"&&ae.createElement(Kc,bl({},Ze(this.props,!1),{className:"recharts-area-curve",layout:f,type:h,connectNulls:y,fill:"none",points:r})),x!=="none"&&w&&ae.createElement(Kc,bl({},Ze(this.props,!1),{className:"recharts-area-curve",layout:f,type:h,connectNulls:y,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,u=o.points,f=o.baseLine,h=o.isAnimationActive,x=o.animationBegin,y=o.animationDuration,w=o.animationEasing,_=o.animationId,I=this.state,N=I.prevPoints,M=I.prevBaseLine;return ae.createElement(Xa,{begin:x,duration:y,isActive:h,easing:w,from:{t:0},to:{t:1},key:"area-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var S=P.t;if(N){var C=N.length/u.length,V=u.map(function(D,L){var E=Math.floor(L*C);if(N[E]){var O=N[E],$=ti(O.x,D.x),F=ti(O.y,D.y);return Ws(Ws({},D),{},{x:$(S),y:F(S)})}return D}),k;if(je(f)&&typeof f=="number"){var R=ti(M,f);k=R(S)}else if(ct(f)||Zu(f)){var j=ti(M,0);k=j(S)}else k=f.map(function(D,L){var E=Math.floor(L*C);if(M[E]){var O=M[E],$=ti(O.x,D.x),F=ti(O.y,D.y);return Ws(Ws({},D),{},{x:$(S),y:F(S)})}return D});return a.renderAreaStatically(V,k,r,i)}return ae.createElement(St,null,ae.createElement("defs",null,ae.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(S))),ae.createElement(St,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(u,f,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,u=a.baseLine,f=a.isAnimationActive,h=this.state,x=h.prevPoints,y=h.prevBaseLine,w=h.totalLength;return f&&o&&o.length&&(!x&&w>0||!wu(x,o)||!wu(y,u))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,u,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,u=i.points,f=i.className,h=i.top,x=i.left,y=i.xAxis,w=i.yAxis,_=i.width,I=i.height,N=i.isAnimationActive,M=i.id;if(a||!u||!u.length)return null;var P=this.state.isAnimationFinished,S=u.length===1,C=ft("recharts-area",f),V=y&&y.allowDataOverflow,k=w&&w.allowDataOverflow,R=V||k,j=ct(M)?this.id:M,D=(r=Ze(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=D.r,E=L===void 0?3:L,O=D.strokeWidth,$=O===void 0?2:O,F=bU(o)?o:{},H=F.clipDot,z=H===void 0?!0:H,W=E*2+$;return ae.createElement(St,{className:C},V||k?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(j)},ae.createElement("rect",{x:V?x:x-_/2,y:k?h:h-I/2,width:V?_:_*2,height:k?I:I*2})),!z&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(j)},ae.createElement("rect",{x:x-W/2,y:h-W/2,width:_+W,height:I+W}))):null,S?null:this.renderArea(R,j),(o||S)&&this.renderDots(R,z,j),(!N||P)&&bs.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(ee.PureComponent);qP=Ps;$a(Ps,"displayName","Area");$a(Ps,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$a(Ps,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,u=o??a;if(je(u)&&typeof u=="number")return u;var f=i==="horizontal"?r:n,h=f.scale.domain();if(f.type==="number"){var x=Math.max(h[0],h[1]),y=Math.min(h[0],h[1]);return u==="dataMin"?y:u==="dataMax"||x<0?x:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});$a(Ps,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,u=t.bandSize,f=t.dataKey,h=t.stackedData,x=t.dataStartIndex,y=t.displayedData,w=t.offset,_=e.layout,I=h&&h.length,N=qP.getBaseValue(e,n,r,i),M=_==="horizontal",P=!1,S=y.map(function(V,k){var R;I?R=h[x+k]:(R=Qn(V,f),Array.isArray(R)?P=!0:R=[N,R]);var j=R[1]==null||I&&Qn(V,f)==null;return M?{x:yT({axis:r,ticks:a,bandSize:u,entry:V,index:k}),y:j?null:i.scale(R[1]),value:R,payload:V}:{x:j?null:r.scale(R[1]),y:yT({axis:i,ticks:o,bandSize:u,entry:V,index:k}),value:R,payload:V}}),C;return I||P?C=S.map(function(V){var k=Array.isArray(V.value)?V.value[0]:null;return M?{x:V.x,y:k!=null&&V.y!=null?i.scale(k):null}:{x:k!=null?r.scale(k):null,y:V.y}}):C=M?i.scale(N):r.scale(N),Ws({points:S,baseLine:C,layout:_,isRange:P},w)});$a(Ps,"renderDotItem",function(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(rt(t))n=t(e);else{var r=ft("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=HP(e,zde);n=ae.createElement(pg,bl({},a,{key:i,className:r}))}return n});function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YP(r.key),r)}}function efe(t,e,n){return e&&Jde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tfe(t,e,n){return e=Km(e),nfe(t,KP()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function nfe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rfe(t)}function rfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function ife(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R2(t,e)}function XP(t,e,n){return e=YP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YP(t){var e=afe(t,"string");return Du(e)=="symbol"?e:e+""}function afe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L2.apply(this,arguments)}function sfe(t){var e=t.xAxisId,n=SA(),r=TA(),i=PP(e);return i==null?null:ee.createElement(sd,L2({},i,{className:ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ps(o,!0)}}))}var od=function(t){function e(){return Zde(this,e),tfe(this,e,arguments)}return ife(e,t),efe(e,[{key:"render",value:function(){return ee.createElement(sfe,this.props)}}])}(ee.Component);XP(od,"displayName","XAxis");XP(od,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function ofe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JP(r.key),r)}}function cfe(t,e,n){return e&&lfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ufe(t,e,n){return e=Xm(e),dfe(t,QP()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function dfe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ffe(t)}function ffe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function hfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B2(t,e)}function B2(t,e){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B2(t,e)}function ZP(t,e,n){return e=JP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JP(t){var e=pfe(t,"string");return Ru(e)=="symbol"?e:e+""}function pfe(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(this,arguments)}var mfe=function(e){var n=e.yAxisId,r=SA(),i=TA(),a=jP(n);return a==null?null:ee.createElement(sd,F2({},a,{className:ft("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return ps(u,!0)}}))},ld=function(t){function e(){return ofe(this,e),ufe(this,e,arguments)}return hfe(e,t),cfe(e,[{key:"render",value:function(){return ee.createElement(mfe,this.props)}}])}(ee.Component);ZP(ld,"displayName","YAxis");ZP(ld,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HC(t){return vfe(t)||yfe(t)||xfe(t)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(t,e){if(t){if(typeof t=="string")return $2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $2(t,e)}}function yfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vfe(t){if(Array.isArray(t))return $2(t)}function $2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V2=function(e,n,r,i,a){var o=Yi(e,NA),u=Yi(e,_g),f=[].concat(HC(o),HC(u)),h=Yi(e,Sg),x="".concat(i,"Id"),y=i[0],w=n;if(f.length&&(w=f.reduce(function(N,M){if(M.props[x]===r&&Wa(M.props,"extendDomain")&&je(M.props[y])){var P=M.props[y];return[Math.min(N[0],P),Math.max(N[1],P)]}return N},w)),h.length){var _="".concat(y,"1"),I="".concat(y,"2");w=h.reduce(function(N,M){if(M.props[x]===r&&Wa(M.props,"extendDomain")&&je(M.props[_])&&je(M.props[I])){var P=M.props[_],S=M.props[I];return[Math.min(N[0],P,S),Math.max(N[1],P,S)]}return N},w)}return a&&a.length&&(w=a.reduce(function(N,M){return je(M)?[Math.min(N[0],M),Math.max(N[1],M)]:N},w)),w},ej={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,x){this.fn=f,this.context=h,this.once=x||!1}function a(f,h,x,y,w){if(typeof x!="function")throw new TypeError("The listener must be a function");var _=new i(x,y||f,w),I=n?n+h:h;return f._events[I]?f._events[I].fn?f._events[I]=[f._events[I],_]:f._events[I].push(_):(f._events[I]=_,f._eventsCount++),f}function o(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],x,y;if(this._eventsCount===0)return h;for(y in x=this._events)e.call(x,y)&&h.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(x)):h},u.prototype.listeners=function(h){var x=n?n+h:h,y=this._events[x];if(!y)return[];if(y.fn)return[y.fn];for(var w=0,_=y.length,I=new Array(_);w<_;w++)I[w]=y[w].fn;return I},u.prototype.listenerCount=function(h){var x=n?n+h:h,y=this._events[x];return y?y.fn?1:y.length:0},u.prototype.emit=function(h,x,y,w,_,I){var N=n?n+h:h;if(!this._events[N])return!1;var M=this._events[N],P=arguments.length,S,C;if(M.fn){switch(M.once&&this.removeListener(h,M.fn,void 0,!0),P){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,x),!0;case 3:return M.fn.call(M.context,x,y),!0;case 4:return M.fn.call(M.context,x,y,w),!0;case 5:return M.fn.call(M.context,x,y,w,_),!0;case 6:return M.fn.call(M.context,x,y,w,_,I),!0}for(C=1,S=new Array(P-1);C<P;C++)S[C-1]=arguments[C];M.fn.apply(M.context,S)}else{var V=M.length,k;for(C=0;C<V;C++)switch(M[C].once&&this.removeListener(h,M[C].fn,void 0,!0),P){case 1:M[C].fn.call(M[C].context);break;case 2:M[C].fn.call(M[C].context,x);break;case 3:M[C].fn.call(M[C].context,x,y);break;case 4:M[C].fn.call(M[C].context,x,y,w);break;default:if(!S)for(k=1,S=new Array(P-1);k<P;k++)S[k-1]=arguments[k];M[C].fn.apply(M[C].context,S)}}return!0},u.prototype.on=function(h,x,y){return a(this,h,x,y,!1)},u.prototype.once=function(h,x,y){return a(this,h,x,y,!0)},u.prototype.removeListener=function(h,x,y,w){var _=n?n+h:h;if(!this._events[_])return this;if(!x)return o(this,_),this;var I=this._events[_];if(I.fn)I.fn===x&&(!w||I.once)&&(!y||I.context===y)&&o(this,_);else{for(var N=0,M=[],P=I.length;N<P;N++)(I[N].fn!==x||w&&!I[N].once||y&&I[N].context!==y)&&M.push(I[N]);M.length?this._events[_]=M.length===1?M[0]:M:o(this,_)}return this},u.prototype.removeAllListeners=function(h){var x;return h?(x=n?n+h:h,this._events[x]&&o(this,x)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(ej);var bfe=ej.exports;const wfe=kt(bfe);var Gx=new wfe,Kx="recharts.syncMouseEvents";function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function Afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tj(r.key),r)}}function Efe(t,e,n){return e&&_fe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xx(t,e,n){return e=tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tj(t){var e=Sfe(t,"string");return _h(e)=="symbol"?e:e+""}function Sfe(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tfe=function(){function t(){Afe(this,t),Xx(this,"activeIndex",0),Xx(this,"coordinateList",[]),Xx(this,"layout","horizontal")}return Efe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,u=o===void 0?null:o,f=n.layout,h=f===void 0?null:f,x=n.offset,y=x===void 0?null:x,w=n.mouseHandlerCallback,_=w===void 0?null:w;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=y??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,u=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,x=((r=window)===null||r===void 0?void 0:r.scrollY)||0,y=a+f+h,w=o+this.offset.top+u/2+x;this.mouseHandlerCallback({pageX:y,pageY:w})}}}])}();function Cfe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&je(r)&&je(i))return!0}return!1}function Nfe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function nj(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=en(e,n,r,i),u=en(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Ife(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,f=e.cy,h=e.innerRadius,x=e.outerRadius,y=e.angle,w=en(u,f,h,y),_=en(u,f,x,y);r=w.x,i=w.y,a=_.x,o=_.y}else return nj(e);return[{x:r,y:i},{x:a,y:o}]}function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return e=Pfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=jfe(t,"string");return Eh(e)=="symbol"?e:e+""}function jfe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kfe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,u=t.activePayload,f=t.offset,h=t.activeTooltipIndex,x=t.tooltipAxisBandSize,y=t.layout,w=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!a||!o||w!=="ScatterChart"&&i!=="axis")return null;var I,N=Kc;if(w==="ScatterChart")I=o,N=toe;else if(w==="BarChart")I=Nfe(y,o,f,x),N=wA;else if(y==="radial"){var M=nj(o),P=M.cx,S=M.cy,C=M.radius,V=M.startAngle,k=M.endAngle;I={cx:P,cy:S,startAngle:V,endAngle:k,innerRadius:C,outerRadius:C},N=X8}else I={points:Ife(y,o,f)},N=Kc;var R=q0(q0(q0(q0({stroke:"#ccc",pointerEvents:"none"},f),I),Ze(_,!1)),{},{payload:u,payloadIndex:h,className:ft("recharts-tooltip-cursor",_.className)});return ee.isValidElement(_)?ee.cloneElement(_,R):ee.createElement(N,R)}var Mfe=["item"],Dfe=["children","className","width","height","style","compact","title","desc"];function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}function GC(t,e){return Bfe(t)||Lfe(t,e)||ij(t,e)||Rfe()}function Rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],f=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(f=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){h=!0,i=x}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return u}}function Bfe(t){if(Array.isArray(t))return t}function KC(t,e){if(t==null)return{};var n=Ffe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ffe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aj(r.key),r)}}function Ufe(t,e,n){return e&&Vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zfe(t,e,n){return e=Ym(e),qfe(t,rj()?Reflect.construct(e,n||[],Ym(t).constructor):e.apply(t,n))}function qfe(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hfe(t)}function Hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rj=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ym(t)}function Wfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U2(t,e)}function U2(t,e){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U2(t,e)}function Bu(t){return Xfe(t)||Kfe(t)||ij(t)||Gfe()}function Gfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ij(t,e){if(t){if(typeof t=="string")return z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(t,e)}}function Kfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xfe(t){if(Array.isArray(t))return z2(t)}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tt(t,e,n){return e=aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aj(t){var e=Yfe(t,"string");return Lu(e)=="symbol"?e:e+""}function Yfe(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qfe={xAxis:["bottom","top"],yAxis:["left","right"]},Zfe={width:"100%",height:"100%"},sj={x:0,y:0};function H0(t){return t}var Jfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ehe=function(e,n,r,i){var a=n.find(function(x){return x&&x.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,u=i.radius;return Se(Se(Se({},i),en(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var f=a.coordinate,h=i.angle;return Se(Se(Se({},i),en(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return sj},Tg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(u,f){var h=f.props.data;return h&&h.length?[].concat(Bu(u),Bu(h)):u},[]);return o.length>0?o:e&&e.length&&je(i)&&je(a)?e.slice(i,a+1):[]};function oj(t){return t==="number"?[0,"auto"]:void 0}var q2=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,u=Tg(n,e);return r<0||!a||!a.length||r>=u.length?null:a.reduce(function(f,h){var x,y=(x=h.props.data)!==null&&x!==void 0?x:n;y&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(y=y.slice(e.dataStartIndex,e.dataEndIndex+1));var w;if(o.dataKey&&!o.allowDuplicatedCategory){var _=y===void 0?u:y;w=Xp(_,o.dataKey,i)}else w=y&&y[r]||u[r];return w?[].concat(Bu(f),[z8(h,w)]):f},[])},YC=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Jfe(a,r),u=e.orderedTooltipTicks,f=e.tooltipAxis,h=e.tooltipTicks,x=wre(o,u,h,f);if(x>=0&&h){var y=h[x]&&h[x].value,w=q2(e,n,x,y),_=ehe(r,u,x,a);return{activeTooltipIndex:x,activeLabel:y,activePayload:w,activeCoordinate:_}}return null},the=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,x=e.layout,y=e.children,w=e.stackOffset,_=L8(x,a);return r.reduce(function(I,N){var M,P=N.type.defaultProps!==void 0?Se(Se({},N.type.defaultProps),N.props):N.props,S=P.type,C=P.dataKey,V=P.allowDataOverflow,k=P.allowDuplicatedCategory,R=P.scale,j=P.ticks,D=P.includeHidden,L=P[o];if(I[L])return I;var E=Tg(e.data,{graphicalItems:i.filter(function(ye){var pe,se=o in ye.props?ye.props[o]:(pe=ye.type.defaultProps)===null||pe===void 0?void 0:pe[o];return se===L}),dataStartIndex:f,dataEndIndex:h}),O=E.length,$,F,H;Cfe(P.domain,V,S)&&($=a2(P.domain,null,V),_&&(S==="number"||R!=="auto")&&(H=ff(E,C,"category")));var z=oj(S);if(!$||$.length===0){var W,Y=(W=P.domain)!==null&&W!==void 0?W:z;if(C){if($=ff(E,C,S),S==="category"&&_){var re=uU($);k&&re?(F=$,$=Lm(0,O)):k||($=AT(Y,$,N).reduce(function(ye,pe){return ye.indexOf(pe)>=0?ye:[].concat(Bu(ye),[pe])},[]))}else if(S==="category")k?$=$.filter(function(ye){return ye!==""&&!ct(ye)}):$=AT(Y,$,N).reduce(function(ye,pe){return ye.indexOf(pe)>=0||pe===""||ct(pe)?ye:[].concat(Bu(ye),[pe])},[]);else if(S==="number"){var ne=Tre(E,i.filter(function(ye){var pe,se,Te=o in ye.props?ye.props[o]:(pe=ye.type.defaultProps)===null||pe===void 0?void 0:pe[o],oe="hide"in ye.props?ye.props.hide:(se=ye.type.defaultProps)===null||se===void 0?void 0:se.hide;return Te===L&&(D||!oe)}),C,a,x);ne&&($=ne)}_&&(S==="number"||R!=="auto")&&(H=ff(E,C,"category"))}else _?$=Lm(0,O):u&&u[L]&&u[L].hasStack&&S==="number"?$=w==="expand"?[0,1]:U8(u[L].stackGroups,f,h):$=R8(E,i.filter(function(ye){var pe=o in ye.props?ye.props[o]:ye.type.defaultProps[o],se="hide"in ye.props?ye.props.hide:ye.type.defaultProps.hide;return pe===L&&(D||!se)}),S,x,!0);if(S==="number")$=V2(y,$,L,a,j),Y&&($=a2(Y,$,V));else if(S==="category"&&Y){var ce=Y,ve=$.every(function(ye){return ce.indexOf(ye)>=0});ve&&($=ce)}}return Se(Se({},I),{},tt({},L,Se(Se({},P),{},{axisType:a,domain:$,categoricalDomain:H,duplicateDomain:F,originalDomain:(M=P.domain)!==null&&M!==void 0?M:z,isCategorical:_,layout:x})))},{})},nhe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,x=e.layout,y=e.children,w=Tg(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),_=w.length,I=L8(x,a),N=-1;return r.reduce(function(M,P){var S=P.type.defaultProps!==void 0?Se(Se({},P.type.defaultProps),P.props):P.props,C=S[o],V=oj("number");if(!M[C]){N++;var k;return I?k=Lm(0,_):u&&u[C]&&u[C].hasStack?(k=U8(u[C].stackGroups,f,h),k=V2(y,k,C,a)):(k=a2(V,R8(w,r.filter(function(R){var j,D,L=o in R.props?R.props[o]:(j=R.type.defaultProps)===null||j===void 0?void 0:j[o],E="hide"in R.props?R.props.hide:(D=R.type.defaultProps)===null||D===void 0?void 0:D.hide;return L===C&&!E}),"number",x),i.defaultProps.allowDataOverflow),k=V2(y,k,C,a)),Se(Se({},M),{},tt({},C,Se(Se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Pi(Qfe,"".concat(a,".").concat(N%2),null),domain:k,originalDomain:V,isCategorical:I,layout:x})))}return M},{})},rhe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,x=e.children,y="".concat(i,"Id"),w=Yi(x,a),_={};return w&&w.length?_=the(e,{axes:w,graphicalItems:o,axisType:i,axisIdKey:y,stackGroups:u,dataStartIndex:f,dataEndIndex:h}):o&&o.length&&(_=nhe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:y,stackGroups:u,dataStartIndex:f,dataEndIndex:h})),_},ihe=function(e){var n=Zs(e),r=ps(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Kw(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Em(n,r)}},QC=function(e){var n=e.children,r=e.defaultShowTooltip,i=_i(n,Nu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ahe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ys(n&&n.type);return r&&r.indexOf("Bar")>=0})},ZC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},she=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,u=e.yAxisMap,f=u===void 0?{}:u,h=r.width,x=r.height,y=r.children,w=r.margin||{},_=_i(y,Nu),I=_i(y,El),N=Object.keys(f).reduce(function(k,R){var j=f[R],D=j.orientation;return!j.mirror&&!j.hide?Se(Se({},k),{},tt({},D,k[D]+j.width)):k},{left:w.left||0,right:w.right||0}),M=Object.keys(o).reduce(function(k,R){var j=o[R],D=j.orientation;return!j.mirror&&!j.hide?Se(Se({},k),{},tt({},D,Pi(k,"".concat(D))+j.height)):k},{top:w.top||0,bottom:w.bottom||0}),P=Se(Se({},M),N),S=P.bottom;_&&(P.bottom+=_.props.height||Nu.defaultProps.height),I&&n&&(P=Ere(P,i,r,n));var C=h-P.left-P.right,V=x-P.top-P.bottom;return Se(Se({brushBottom:S},P),{},{width:Math.max(C,0),height:Math.max(V,0)})},ohe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},PA=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,f=e.axisComponents,h=e.legendContent,x=e.formatAxisMap,y=e.defaultProps,w=function(P,S){var C=S.graphicalItems,V=S.stackGroups,k=S.offset,R=S.updateId,j=S.dataStartIndex,D=S.dataEndIndex,L=P.barSize,E=P.layout,O=P.barGap,$=P.barCategoryGap,F=P.maxBarSize,H=ZC(E),z=H.numericAxisName,W=H.cateAxisName,Y=ahe(C),re=[];return C.forEach(function(ne,ce){var ve=Tg(P.data,{graphicalItems:[ne],dataStartIndex:j,dataEndIndex:D}),ye=ne.type.defaultProps!==void 0?Se(Se({},ne.type.defaultProps),ne.props):ne.props,pe=ye.dataKey,se=ye.maxBarSize,Te=ye["".concat(z,"Id")],oe=ye["".concat(W,"Id")],ue={},Q=f.reduce(function(Ve,Gr){var Sa=S["".concat(Gr.axisType,"Map")],_r=ye["".concat(Gr.axisType,"Id")];Sa&&Sa[_r]||Gr.axisType==="zAxis"||Ul();var Ja=Sa[_r];return Se(Se({},Ve),{},tt(tt({},Gr.axisType,Ja),"".concat(Gr.axisType,"Ticks"),ps(Ja)))},ue),fe=Q[W],Ee=Q["".concat(W,"Ticks")],ie=V&&V[Te]&&V[Te].hasStack&&Dre(ne,V[Te].stackGroups),he=ys(ne.type).indexOf("Bar")>=0,Ce=Em(fe,Ee),$e=[],He=Y&&Are({barSize:L,stackGroups:V,totalSize:ohe(Q,W)});if(he){var xt,wt,pt=ct(se)?F:se,lt=(xt=(wt=Em(fe,Ee,!0))!==null&&wt!==void 0?wt:pt)!==null&&xt!==void 0?xt:0;$e=_re({barGap:O,barCategoryGap:$,bandSize:lt!==Ce?lt:Ce,sizeList:He[oe],maxBarSize:pt}),lt!==Ce&&($e=$e.map(function(Ve){return Se(Se({},Ve),{},{position:Se(Se({},Ve.position),{},{offset:Ve.position.offset-lt/2})})}))}var ui=ne&&ne.type&&ne.type.getComposedData;ui&&re.push({props:Se(Se({},ui(Se(Se({},Q),{},{displayedData:ve,props:P,dataKey:pe,item:ne,bandSize:Ce,barPosition:$e,offset:k,stackedData:ie,layout:E,dataStartIndex:j,dataEndIndex:D}))),{},tt(tt(tt({key:ne.key||"item-".concat(ce)},z,Q[z]),W,Q[W]),"animationId",R)),childIndex:_U(ne,P.children),item:ne})}),re},_=function(P,S){var C=P.props,V=P.dataStartIndex,k=P.dataEndIndex,R=P.updateId;if(!mS({props:C}))return null;var j=C.children,D=C.layout,L=C.stackOffset,E=C.data,O=C.reverseStackOrder,$=ZC(D),F=$.numericAxisName,H=$.cateAxisName,z=Yi(j,r),W=kre(E,z,"".concat(F,"Id"),"".concat(H,"Id"),L,O),Y=f.reduce(function(ye,pe){var se="".concat(pe.axisType,"Map");return Se(Se({},ye),{},tt({},se,rhe(C,Se(Se({},pe),{},{graphicalItems:z,stackGroups:pe.axisType===F&&W,dataStartIndex:V,dataEndIndex:k}))))},{}),re=she(Se(Se({},Y),{},{props:C,graphicalItems:z}),S==null?void 0:S.legendBBox);Object.keys(Y).forEach(function(ye){Y[ye]=x(C,Y[ye],re,ye.replace("Map",""),n)});var ne=Y["".concat(H,"Map")],ce=ihe(ne),ve=w(C,Se(Se({},Y),{},{dataStartIndex:V,dataEndIndex:k,updateId:R,graphicalItems:z,stackGroups:W,offset:re}));return Se(Se({formattedGraphicalItems:ve,graphicalItems:z,offset:re,stackGroups:W},ce),Y)},I=function(M){function P(S){var C,V,k;return $fe(this,P),k=zfe(this,P,[S]),tt(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tt(k,"accessibilityManager",new Tfe),tt(k,"handleLegendBBoxUpdate",function(R){if(R){var j=k.state,D=j.dataStartIndex,L=j.dataEndIndex,E=j.updateId;k.setState(Se({legendBBox:R},_({props:k.props,dataStartIndex:D,dataEndIndex:L,updateId:E},Se(Se({},k.state),{},{legendBBox:R}))))}}),tt(k,"handleReceiveSyncEvent",function(R,j,D){if(k.props.syncId===R){if(D===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(j)}}),tt(k,"handleBrushChange",function(R){var j=R.startIndex,D=R.endIndex;if(j!==k.state.dataStartIndex||D!==k.state.dataEndIndex){var L=k.state.updateId;k.setState(function(){return Se({dataStartIndex:j,dataEndIndex:D},_({props:k.props,dataStartIndex:j,dataEndIndex:D,updateId:L},k.state))}),k.triggerSyncEvent({dataStartIndex:j,dataEndIndex:D})}}),tt(k,"handleMouseEnter",function(R){var j=k.getMouseInfo(R);if(j){var D=Se(Se({},j),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var L=k.props.onMouseEnter;rt(L)&&L(D,R)}}),tt(k,"triggeredAfterMouseMove",function(R){var j=k.getMouseInfo(R),D=j?Se(Se({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(D),k.triggerSyncEvent(D);var L=k.props.onMouseMove;rt(L)&&L(D,R)}),tt(k,"handleItemMouseEnter",function(R){k.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),tt(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),tt(k,"handleMouseMove",function(R){R.persist(),k.throttleTriggeredAfterMouseMove(R)}),tt(k,"handleMouseLeave",function(R){k.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};k.setState(j),k.triggerSyncEvent(j);var D=k.props.onMouseLeave;rt(D)&&D(j,R)}),tt(k,"handleOuterEvent",function(R){var j=AU(R),D=Pi(k.props,"".concat(j));if(j&&rt(D)){var L,E;/.*touch.*/i.test(j)?E=k.getMouseInfo(R.changedTouches[0]):E=k.getMouseInfo(R),D((L=E)!==null&&L!==void 0?L:{},R)}}),tt(k,"handleClick",function(R){var j=k.getMouseInfo(R);if(j){var D=Se(Se({},j),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var L=k.props.onClick;rt(L)&&L(D,R)}}),tt(k,"handleMouseDown",function(R){var j=k.props.onMouseDown;if(rt(j)){var D=k.getMouseInfo(R);j(D,R)}}),tt(k,"handleMouseUp",function(R){var j=k.props.onMouseUp;if(rt(j)){var D=k.getMouseInfo(R);j(D,R)}}),tt(k,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),tt(k,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&k.handleMouseDown(R.changedTouches[0])}),tt(k,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&k.handleMouseUp(R.changedTouches[0])}),tt(k,"handleDoubleClick",function(R){var j=k.props.onDoubleClick;if(rt(j)){var D=k.getMouseInfo(R);j(D,R)}}),tt(k,"handleContextMenu",function(R){var j=k.props.onContextMenu;if(rt(j)){var D=k.getMouseInfo(R);j(D,R)}}),tt(k,"triggerSyncEvent",function(R){k.props.syncId!==void 0&&Gx.emit(Kx,k.props.syncId,R,k.eventEmitterSymbol)}),tt(k,"applySyncEvent",function(R){var j=k.props,D=j.layout,L=j.syncMethod,E=k.state.updateId,O=R.dataStartIndex,$=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)k.setState(Se({dataStartIndex:O,dataEndIndex:$},_({props:k.props,dataStartIndex:O,dataEndIndex:$,updateId:E},k.state)));else if(R.activeTooltipIndex!==void 0){var F=R.chartX,H=R.chartY,z=R.activeTooltipIndex,W=k.state,Y=W.offset,re=W.tooltipTicks;if(!Y)return;if(typeof L=="function")z=L(re,R);else if(L==="value"){z=-1;for(var ne=0;ne<re.length;ne++)if(re[ne].value===R.activeLabel){z=ne;break}}var ce=Se(Se({},Y),{},{x:Y.left,y:Y.top}),ve=Math.min(F,ce.x+ce.width),ye=Math.min(H,ce.y+ce.height),pe=re[z]&&re[z].value,se=q2(k.state,k.props.data,z),Te=re[z]?{x:D==="horizontal"?re[z].coordinate:ve,y:D==="horizontal"?ye:re[z].coordinate}:sj;k.setState(Se(Se({},R),{},{activeLabel:pe,activeCoordinate:Te,activePayload:se,activeTooltipIndex:z}))}else k.setState(R)}),tt(k,"renderCursor",function(R){var j,D=k.state,L=D.isTooltipActive,E=D.activeCoordinate,O=D.activePayload,$=D.offset,F=D.activeTooltipIndex,H=D.tooltipAxisBandSize,z=k.getTooltipEventType(),W=(j=R.props.active)!==null&&j!==void 0?j:L,Y=k.props.layout,re=R.key||"_recharts-cursor";return ae.createElement(kfe,{key:re,activeCoordinate:E,activePayload:O,activeTooltipIndex:F,chartName:n,element:R,isActive:W,layout:Y,offset:$,tooltipAxisBandSize:H,tooltipEventType:z})}),tt(k,"renderPolarAxis",function(R,j,D){var L=Pi(R,"type.axisType"),E=Pi(k.state,"".concat(L,"Map")),O=R.type.defaultProps,$=O!==void 0?Se(Se({},O),R.props):R.props,F=E&&E[$["".concat(L,"Id")]];return ee.cloneElement(R,Se(Se({},F),{},{className:ft(L,F.className),key:R.key||"".concat(j,"-").concat(D),ticks:ps(F,!0)}))}),tt(k,"renderPolarGrid",function(R){var j=R.props,D=j.radialLines,L=j.polarAngles,E=j.polarRadius,O=k.state,$=O.radiusAxisMap,F=O.angleAxisMap,H=Zs($),z=Zs(F),W=z.cx,Y=z.cy,re=z.innerRadius,ne=z.outerRadius;return ee.cloneElement(R,{polarAngles:Array.isArray(L)?L:ps(z,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(E)?E:ps(H,!0).map(function(ce){return ce.coordinate}),cx:W,cy:Y,innerRadius:re,outerRadius:ne,key:R.key||"polar-grid",radialLines:D})}),tt(k,"renderLegend",function(){var R=k.state.formattedGraphicalItems,j=k.props,D=j.children,L=j.width,E=j.height,O=k.props.margin||{},$=L-(O.left||0)-(O.right||0),F=M8({children:D,formattedGraphicalItems:R,legendWidth:$,legendContent:h});if(!F)return null;var H=F.item,z=KC(F,Mfe);return ee.cloneElement(H,Se(Se({},z),{},{chartWidth:L,chartHeight:E,margin:O,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),tt(k,"renderTooltip",function(){var R,j=k.props,D=j.children,L=j.accessibilityLayer,E=_i(D,Ei);if(!E)return null;var O=k.state,$=O.isTooltipActive,F=O.activeCoordinate,H=O.activePayload,z=O.activeLabel,W=O.offset,Y=(R=E.props.active)!==null&&R!==void 0?R:$;return ee.cloneElement(E,{viewBox:Se(Se({},W),{},{x:W.left,y:W.top}),active:Y,label:z,payload:Y?H:[],coordinate:F,accessibilityLayer:L})}),tt(k,"renderBrush",function(R){var j=k.props,D=j.margin,L=j.data,E=k.state,O=E.offset,$=E.dataStartIndex,F=E.dataEndIndex,H=E.updateId;return ee.cloneElement(R,{key:R.key||"_recharts-brush",onChange:$0(k.handleBrushChange,R.props.onChange),data:L,x:je(R.props.x)?R.props.x:O.left,y:je(R.props.y)?R.props.y:O.top+O.height+O.brushBottom-(D.bottom||0),width:je(R.props.width)?R.props.width:O.width,startIndex:$,endIndex:F,updateId:"brush-".concat(H)})}),tt(k,"renderReferenceElement",function(R,j,D){if(!R)return null;var L=k,E=L.clipPathId,O=k.state,$=O.xAxisMap,F=O.yAxisMap,H=O.offset,z=R.type.defaultProps||{},W=R.props,Y=W.xAxisId,re=Y===void 0?z.xAxisId:Y,ne=W.yAxisId,ce=ne===void 0?z.yAxisId:ne;return ee.cloneElement(R,{key:R.key||"".concat(j,"-").concat(D),xAxis:$[re],yAxis:F[ce],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:E})}),tt(k,"renderActivePoints",function(R){var j=R.item,D=R.activePoint,L=R.basePoint,E=R.childIndex,O=R.isRange,$=[],F=j.props.key,H=j.item.type.defaultProps!==void 0?Se(Se({},j.item.type.defaultProps),j.item.props):j.item.props,z=H.activeDot,W=H.dataKey,Y=Se(Se({index:E,dataKey:W,cx:D.x,cy:D.y,r:4,fill:bA(j.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ze(z,!1)),Yp(z));return $.push(P.renderActiveDot(z,Y,"".concat(F,"-activePoint-").concat(E))),L?$.push(P.renderActiveDot(z,Se(Se({},Y),{},{cx:L.x,cy:L.y}),"".concat(F,"-basePoint-").concat(E))):O&&$.push(null),$}),tt(k,"renderGraphicChild",function(R,j,D){var L=k.filterFormatItem(R,j,D);if(!L)return null;var E=k.getTooltipEventType(),O=k.state,$=O.isTooltipActive,F=O.tooltipAxis,H=O.activeTooltipIndex,z=O.activeLabel,W=k.props.children,Y=_i(W,Ei),re=L.props,ne=re.points,ce=re.isRange,ve=re.baseLine,ye=L.item.type.defaultProps!==void 0?Se(Se({},L.item.type.defaultProps),L.item.props):L.item.props,pe=ye.activeDot,se=ye.hide,Te=ye.activeBar,oe=ye.activeShape,ue=!!(!se&&$&&Y&&(pe||Te||oe)),Q={};E!=="axis"&&Y&&Y.props.trigger==="click"?Q={onClick:$0(k.handleItemMouseEnter,R.props.onClick)}:E!=="axis"&&(Q={onMouseLeave:$0(k.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:$0(k.handleItemMouseEnter,R.props.onMouseEnter)});var fe=ee.cloneElement(R,Se(Se({},L.props),Q));function Ee(Gr){return typeof F.dataKey=="function"?F.dataKey(Gr.payload):null}if(ue)if(H>=0){var ie,he;if(F.dataKey&&!F.allowDuplicatedCategory){var Ce=typeof F.dataKey=="function"?Ee:"payload.".concat(F.dataKey.toString());ie=Xp(ne,Ce,z),he=ce&&ve&&Xp(ve,Ce,z)}else ie=ne==null?void 0:ne[H],he=ce&&ve&&ve[H];if(oe||Te){var $e=R.props.activeIndex!==void 0?R.props.activeIndex:H;return[ee.cloneElement(R,Se(Se(Se({},L.props),Q),{},{activeIndex:$e})),null,null]}if(!ct(ie))return[fe].concat(Bu(k.renderActivePoints({item:L,activePoint:ie,basePoint:he,childIndex:H,isRange:ce})))}else{var He,xt=(He=k.getItemByXY(k.state.activeCoordinate))!==null&&He!==void 0?He:{graphicalItem:fe},wt=xt.graphicalItem,pt=wt.item,lt=pt===void 0?R:pt,ui=wt.childIndex,Ve=Se(Se(Se({},L.props),Q),{},{activeIndex:ui});return[ee.cloneElement(lt,Ve),null,null]}return ce?[fe,null,null]:[fe,null]}),tt(k,"renderCustomized",function(R,j,D){return ee.cloneElement(R,Se(Se({key:"recharts-customized-".concat(D)},k.props),k.state))}),tt(k,"renderMap",{CartesianGrid:{handler:H0,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:H0},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:H0},YAxis:{handler:H0},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((C=S.id)!==null&&C!==void 0?C:Ju("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=k5(k.triggeredAfterMouseMove,(V=S.throttleDelay)!==null&&V!==void 0?V:1e3/60),k.state={},k}return Wfe(P,M),Ufe(P,[{key:"componentDidMount",value:function(){var C,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,V=C.children,k=C.data,R=C.height,j=C.layout,D=_i(V,Ei);if(D){var L=D.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,O=q2(this.state,k,L,E),$=this.state.tooltipTicks[L].coordinate,F=(this.state.offset.top+R)/2,H=j==="horizontal",z=H?{x:$,y:F}:{y:$,x:F},W=this.state.formattedGraphicalItems.find(function(re){var ne=re.item;return ne.type.name==="Scatter"});W&&(z=Se(Se({},z),W.props.points[L].tooltipPosition),O=W.props.points[L].tooltipPayload);var Y={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:z};this.setState(Y),this.renderCursor(D),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var k,R;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(C){bv([_i(C.children,Ei)],[_i(this.props.children,Ei)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=_i(this.props.children,Ei);if(C&&typeof C.props.shared=="boolean"){var V=C.props.shared?"axis":"item";return u.indexOf(V)>=0?V:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var V=this.container,k=V.getBoundingClientRect(),R=XZ(k),j={chartX:Math.round(C.pageX-R.left),chartY:Math.round(C.pageY-R.top)},D=k.width/V.offsetWidth||1,L=this.inRange(j.chartX,j.chartY,D);if(!L)return null;var E=this.state,O=E.xAxisMap,$=E.yAxisMap,F=this.getTooltipEventType(),H=YC(this.state,this.props.data,this.props.layout,L);if(F!=="axis"&&O&&$){var z=Zs(O).scale,W=Zs($).scale,Y=z&&z.invert?z.invert(j.chartX):null,re=W&&W.invert?W.invert(j.chartY):null;return Se(Se({},j),{},{xValue:Y,yValue:re},H)}return H?Se(Se({},j),H):null}},{key:"inRange",value:function(C,V){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,j=C/k,D=V/k;if(R==="horizontal"||R==="vertical"){var L=this.state.offset,E=j>=L.left&&j<=L.left+L.width&&D>=L.top&&D<=L.top+L.height;return E?{x:j,y:D}:null}var O=this.state,$=O.angleAxisMap,F=O.radiusAxisMap;if($&&F){var H=Zs($);return ST({x:j,y:D},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,V=this.getTooltipEventType(),k=_i(C,Ei),R={};k&&V==="axis"&&(k.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Yp(this.props,this.handleOuterEvent);return Se(Se({},j),R)}},{key:"addListener",value:function(){Gx.on(Kx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gx.removeListener(Kx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,V,k){for(var R=this.state.formattedGraphicalItems,j=0,D=R.length;j<D;j++){var L=R[j];if(L.item===C||L.props.key===C.key||V===ys(L.item.type)&&k===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,V=this.state.offset,k=V.left,R=V.top,j=V.height,D=V.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:C},ae.createElement("rect",{x:k,y:R,height:j,width:D})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(V,k){var R=GC(k,2),j=R[0],D=R[1];return Se(Se({},V),{},tt({},j,D.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(V,k){var R=GC(k,2),j=R[0],D=R[1];return Se(Se({},V),{},tt({},j,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[C])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(C){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[C])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(C){var V=this.state,k=V.formattedGraphicalItems,R=V.activeItem;if(k&&k.length)for(var j=0,D=k.length;j<D;j++){var L=k[j],E=L.props,O=L.item,$=O.type.defaultProps!==void 0?Se(Se({},O.type.defaultProps),O.props):O.props,F=ys(O.type);if(F==="Bar"){var H=(E.data||[]).find(function(re){return Dse(C,re)});if(H)return{graphicalItem:L,payload:H}}else if(F==="RadialBar"){var z=(E.data||[]).find(function(re){return ST(C,re)});if(z)return{graphicalItem:L,payload:z}}else if(vg(L,R)||bg(L,R)||yh(L,R)){var W=_le({graphicalItem:L,activeTooltipItem:R,itemData:$.data}),Y=$.activeIndex===void 0?W:$.activeIndex;return{graphicalItem:Se(Se({},L),{},{childIndex:Y}),payload:yh(L,R)?$.data[W]:L.props.data[W]}}}return null}},{key:"render",value:function(){var C=this;if(!mS(this))return null;var V=this.props,k=V.children,R=V.className,j=V.width,D=V.height,L=V.style,E=V.compact,O=V.title,$=V.desc,F=KC(V,Dfe),H=Ze(F,!1);if(E)return ae.createElement(OC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(Av,Dc({},H,{width:j,height:D,title:O,desc:$}),this.renderClipPath(),xS(k,this.renderMap)));if(this.props.accessibilityLayer){var z,W;H.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,H.role=(W=this.props.role)!==null&&W!==void 0?W:"application",H.onKeyDown=function(re){C.accessibilityManager.keyboardEvent(re)},H.onFocus=function(){C.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return ae.createElement(OC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",Dc({className:ft("recharts-wrapper",R),style:Se({position:"relative",cursor:"default",width:j,height:D},L)},Y,{ref:function(ne){C.container=ne}}),ae.createElement(Av,Dc({},H,{width:j,height:D,title:O,desc:$,style:Zfe}),this.renderClipPath(),xS(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ee.Component);tt(I,"displayName",n),tt(I,"defaultProps",Se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},y)),tt(I,"getDerivedStateFromProps",function(M,P){var S=M.dataKey,C=M.data,V=M.children,k=M.width,R=M.height,j=M.layout,D=M.stackOffset,L=M.margin,E=P.dataStartIndex,O=P.dataEndIndex;if(P.updateId===void 0){var $=QC(M);return Se(Se(Se({},$),{},{updateId:0},_(Se(Se({props:M},$),{},{updateId:0}),P)),{},{prevDataKey:S,prevData:C,prevWidth:k,prevHeight:R,prevLayout:j,prevStackOffset:D,prevMargin:L,prevChildren:V})}if(S!==P.prevDataKey||C!==P.prevData||k!==P.prevWidth||R!==P.prevHeight||j!==P.prevLayout||D!==P.prevStackOffset||!Hc(L,P.prevMargin)){var F=QC(M),H={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},z=Se(Se({},YC(P,C,j)),{},{updateId:P.updateId+1}),W=Se(Se(Se({},F),H),z);return Se(Se(Se({},W),_(Se({props:M},W),P)),{},{prevDataKey:S,prevData:C,prevWidth:k,prevHeight:R,prevLayout:j,prevStackOffset:D,prevMargin:L,prevChildren:V})}if(!bv(V,P.prevChildren)){var Y,re,ne,ce,ve=_i(V,Nu),ye=ve&&(Y=(re=ve.props)===null||re===void 0?void 0:re.startIndex)!==null&&Y!==void 0?Y:E,pe=ve&&(ne=(ce=ve.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&ne!==void 0?ne:O,se=ye!==E||pe!==O,Te=!ct(C),oe=Te&&!se?P.updateId:P.updateId+1;return Se(Se({updateId:oe},_(Se(Se({props:M},P),{},{updateId:oe,dataStartIndex:ye,dataEndIndex:pe}),P)),{},{prevChildren:V,dataStartIndex:ye,dataEndIndex:pe})}return null}),tt(I,"renderActiveDot",function(M,P,S){var C;return ee.isValidElement(M)?C=ee.cloneElement(M,P):rt(M)?C=M(P):C=ae.createElement(pg,P),ae.createElement(St,{className:"recharts-active-dot",key:S},C)});var N=ee.forwardRef(function(P,S){return ae.createElement(I,Dc({},P,{ref:S}))});return N.displayName=I.displayName,N},lhe=PA({chartName:"BarChart",GraphicalChild:No,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:ld}],formatAxisMap:_P}),lj=PA({chartName:"PieChart",GraphicalChild:Za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yg},{axisType:"radiusAxis",AxisComp:gg}],formatAxisMap:Hre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),che=PA({chartName:"AreaChart",GraphicalChild:Ps,axisComponents:[{axisType:"xAxis",AxisComp:od},{axisType:"yAxis",AxisComp:ld}],formatAxisMap:_P});const JC=({products:t=[],transactions:e=[],isAdmin:n=!1,companyData:r=null})=>{const[i,a]=ee.useState(!1),[o,u]=ee.useState("daily"),[f,h]=ee.useState(new Date),[x,y]=ee.useState({start:new Date,end:new Date});ee.useEffect(()=>{let E,O;switch(o){case"daily":E=new Date(f),E.setHours(0,0,0,0),O=new Date(f),O.setHours(23,59,59,999);break;case"weekly":E=new Date(f),E.setDate(E.getDate()-E.getDay()),E.setHours(0,0,0,0),O=new Date(E),O.setDate(O.getDate()+6),O.setHours(23,59,59,999);break;case"monthly":E=new Date(f.getFullYear(),f.getMonth(),1),O=new Date(f.getFullYear(),f.getMonth()+1,0,23,59,59,999);break;case"yearly":E=new Date(f.getFullYear(),0,1),O=new Date(f.getFullYear(),11,31,23,59,59,999);break;default:E=new Date,O=new Date}y({start:E,end:O})},[o,f]);const w=E=>{const O=new Date(f);switch(o){case"daily":O.setDate(O.getDate()+E);break;case"weekly":O.setDate(O.getDate()+E*7);break;case"monthly":O.setMonth(O.getMonth()+E);break;case"yearly":O.setFullYear(O.getFullYear()+E);break}h(O)},_=e.filter(E=>{const O=E.date instanceof Date?E.date:new Date(E.date);return O>=x.start&&O<=x.end}),I={income:_.filter(E=>E.type==="kirim").reduce((E,O)=>E+O.quantity*(O.costPrice||O.price||0),0),sales:_.filter(E=>E.type==="chiqim").reduce((E,O)=>E+(O.totalAmount||O.quantity*O.price||0),0),cost:_.filter(E=>E.type==="chiqim").reduce((E,O)=>E+O.quantity*(O.costPrice||0),0),debt:_.filter(E=>E.type==="chiqim"&&E.debt>0).reduce((E,O)=>E+(O.debt||0),0),soldCount:_.filter(E=>E.type==="chiqim").reduce((E,O)=>E+O.quantity,0),transactionCount:_.filter(E=>E.type==="chiqim").length};I.profit=I.sales-I.cost,I.profitMargin=I.sales>0?(I.profit/I.sales*100).toFixed(1):0;const N=t.reduce((E,O)=>E+O.quantity*(O.costPrice||O.price||0),0),M=t.reduce((E,O)=>E+O.quantity*(O.sellingPrice||O.price||0),0),P=t.filter(E=>E.quantity>0&&E.quantity<5).length,S=t.filter(E=>E.quantity===0).length,C=()=>{const E=[];if(o==="daily")for(let O=0;O<24;O++){const $=_.filter(F=>(F.date instanceof Date?F.date:new Date(F.date)).getHours()===O&&F.type==="chiqim");E.push({name:`${O}:00`,sotish:$.reduce((F,H)=>F+(H.totalAmount||0),0),foyda:$.reduce((F,H)=>F+((H.totalAmount||0)-H.quantity*(H.costPrice||0)),0)})}else if(o==="weekly"){const O=["Yak","Dush","Sesh","Chor","Pay","Jum","Shan"];for(let $=0;$<7;$++){const F=new Date(x.start);F.setDate(F.getDate()+$);const H=new Date(F);H.setHours(23,59,59,999);const z=e.filter(W=>{const Y=W.date instanceof Date?W.date:new Date(W.date);return Y>=F&&Y<=H&&W.type==="chiqim"});E.push({name:O[F.getDay()],sotish:z.reduce((W,Y)=>W+(Y.totalAmount||0),0),foyda:z.reduce((W,Y)=>W+((Y.totalAmount||0)-Y.quantity*(Y.costPrice||0)),0)})}}else if(o==="monthly"){const O=Math.ceil(x.end.getDate()/7);for(let $=0;$<O;$++){const F=new Date(x.start);F.setDate(F.getDate()+$*7);const H=new Date(F);H.setDate(H.getDate()+6),H>x.end&&H.setTime(x.end.getTime());const z=e.filter(W=>{const Y=W.date instanceof Date?W.date:new Date(W.date);return Y>=F&&Y<=H&&W.type==="chiqim"});E.push({name:`${$+1}-hafta`,sotish:z.reduce((W,Y)=>W+(Y.totalAmount||0),0),foyda:z.reduce((W,Y)=>W+((Y.totalAmount||0)-Y.quantity*(Y.costPrice||0)),0)})}}else{const O=["Yan","Fev","Mar","Apr","May","Iyn","Iyl","Avg","Sen","Okt","Noy","Dek"];for(let $=0;$<12;$++){const F=new Date(f.getFullYear(),$,1),H=new Date(f.getFullYear(),$+1,0,23,59,59,999),z=e.filter(W=>{const Y=W.date instanceof Date?W.date:new Date(W.date);return Y>=F&&Y<=H&&W.type==="chiqim"});E.push({name:O[$],sotish:z.reduce((W,Y)=>W+(Y.totalAmount||0),0),foyda:z.reduce((W,Y)=>W+((Y.totalAmount||0)-Y.quantity*(Y.costPrice||0)),0)})}}return E},V=()=>{const E={};return _.filter(O=>O.type==="chiqim").forEach(O=>{E[O.productName]||(E[O.productName]={quantity:0,amount:0}),E[O.productName].quantity+=O.quantity,E[O.productName].amount+=O.totalAmount||O.quantity*O.price||0}),Object.entries(E).map(([O,$])=>({name:O,...$})).sort((O,$)=>$.amount-O.amount).slice(0,5)},k=E=>E>=1e9?`${(E/1e9).toFixed(1)} mlrd`:E>=1e6?`${(E/1e6).toFixed(1)} mln`:E>=1e3?`${(E/1e3).toFixed(0)} ming`:E.toLocaleString(),R=()=>{const E={day:"numeric",month:"long",year:"numeric"};switch(o){case"daily":return f.toLocaleDateString("uz-UZ",E);case"weekly":return`${x.start.toLocaleDateString("uz-UZ",{day:"numeric",month:"short"})} - ${x.end.toLocaleDateString("uz-UZ",{day:"numeric",month:"short",year:"numeric"})}`;case"monthly":return f.toLocaleDateString("uz-UZ",{month:"long",year:"numeric"});case"yearly":return f.getFullYear().toString();default:return""}},j=C(),D=V(),L=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#ef4444"];return d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:(r==null?void 0:r.name)||"Dashboard"}),d.jsx("p",{className:"text-slate-500",children:"Savdo statistikasi"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("div",{className:"flex bg-slate-100 rounded-xl p-1",children:[{type:"daily",label:"Kunlik"},{type:"weekly",label:"Haftalik"},{type:"monthly",label:"Oylik"},{type:"yearly",label:"Yillik"}].map(E=>d.jsx("button",{onClick:()=>u(E.type),className:`px-3 py-2 text-sm font-medium rounded-lg transition-all ${o===E.type?"bg-white text-emerald-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:E.label},E.type))}),d.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-xl border border-slate-200 p-1",children:[d.jsx("button",{onClick:()=>w(-1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:d.jsx(GL,{className:"w-5 h-5 text-slate-600"})}),d.jsx("div",{className:"px-3 py-1 min-w-[140px] text-center",children:d.jsx("span",{className:"text-sm font-medium text-slate-700",children:R()})}),d.jsx("button",{onClick:()=>w(1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",disabled:o==="daily"&&f.toDateString()===new Date().toDateString(),children:d.jsx(mc,{className:"w-5 h-5 text-slate-600"})})]}),d.jsx("input",{type:"date",value:f.toISOString().split("T")[0],onChange:E=>h(new Date(E.target.value)),className:"px-3 py-2 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-emerald-500"}),n&&d.jsxs("button",{onClick:()=>a(!i),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${i?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[i?d.jsx(du,{className:"w-4 h-4"}):d.jsx(Rl,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Foyda"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-5 text-white shadow-lg shadow-emerald-500/25",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(M1,{className:"w-6 h-6"})}),d.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[I.transactionCount," ta savdo"]})]}),d.jsx("p",{className:"text-emerald-100 text-sm",children:"Sotish"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:k(I.sales)})]}),n&&i&&d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-5 text-white shadow-lg shadow-amber-500/25",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(Ew,{className:"w-6 h-6"})}),d.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[I.profitMargin,"%"]})]}),d.jsx("p",{className:"text-amber-100 text-sm",children:"Sof foyda"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:k(I.profit)})]}),d.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-rose-600 rounded-2xl p-5 text-white shadow-lg shadow-rose-500/25",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(Oi,{className:"w-6 h-6"})})}),d.jsx("p",{className:"text-rose-100 text-sm",children:"Qarzlar"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:k(I.debt)})]}),d.jsxs("div",{className:"bg-gradient-to-br from-violet-500 to-violet-600 rounded-2xl p-5 text-white shadow-lg shadow-violet-500/25",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(Hi,{className:"w-6 h-6"})}),d.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[t.length," ta"]})]}),d.jsx("p",{className:"text-violet-100 text-sm",children:"Ombor qiymati"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:k(n&&i?N:M)})]}),n&&i&&d.jsxs("div",{className:"bg-gradient-to-br from-slate-600 to-slate-700 rounded-2xl p-5 text-white shadow-lg shadow-slate-500/25",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(To,{className:"w-6 h-6"})})}),d.jsx("p",{className:"text-slate-300 text-sm",children:"Tannarx"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:k(I.cost)})]})]}),(P>0||S>0)&&d.jsxs("div",{className:"flex flex-wrap gap-3",children:[P>0&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 rounded-xl",children:[d.jsx("span",{className:"text-amber-600",children:""}),d.jsxs("span",{className:"text-amber-700 text-sm font-medium",children:[P," ta mahsulot kam qoldi"]})]}),S>0&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-rose-50 border border-rose-200 rounded-xl",children:[d.jsx("span",{className:"text-rose-600",children:""}),d.jsxs("span",{className:"text-rose-700 text-sm font-medium",children:[S," ta mahsulot tugadi"]})]})]}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[d.jsx(j1,{className:"w-5 h-5 text-emerald-500"}),"Sotish dinamikasi"]}),d.jsx("div",{className:"h-[300px]",children:d.jsx(cm,{width:"100%",height:"100%",children:d.jsxs(che,{data:j,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorSotish",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),n&&i&&d.jsxs("linearGradient",{id:"colorFoyda",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),d.jsx(od,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),d.jsx(ld,{axisLine:!1,tickLine:!1,tick:{fontSize:12},tickFormatter:k}),d.jsx(Ei,{formatter:E=>k(E),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),d.jsx(Ps,{type:"monotone",dataKey:"sotish",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorSotish)",name:"Sotish"}),n&&i&&d.jsx(Ps,{type:"monotone",dataKey:"foyda",stroke:"#f59e0b",strokeWidth:2,fillOpacity:1,fill:"url(#colorFoyda)",name:"Foyda"})]})})})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[d.jsx(cB,{className:"w-5 h-5 text-violet-500"}),"Top mahsulotlar"]}),D.length===0?d.jsx("div",{className:"h-[260px] flex items-center justify-center text-slate-400",children:"Bu davrda sotish yo'q"}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-[180px]",children:d.jsx(cm,{width:"100%",height:"100%",children:d.jsxs(lj,{children:[d.jsx(Za,{data:D,dataKey:"amount",nameKey:"name",cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,children:D.map((E,O)=>d.jsx(qh,{fill:L[O%L.length]},`cell-${O}`))}),d.jsx(Ei,{formatter:E=>k(E)})]})})}),d.jsx("div",{className:"space-y-2 mt-4",children:D.map((E,O)=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L[O]}}),d.jsx("span",{className:"text-slate-600 truncate max-w-[120px]",children:E.name})]}),d.jsx("span",{className:"font-medium text-slate-800",children:k(E.amount)})]},O))})]})]})]})]})};var We;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var eN=new Map([[We.QR_CODE,"QR_CODE"],[We.AZTEC,"AZTEC"],[We.CODABAR,"CODABAR"],[We.CODE_39,"CODE_39"],[We.CODE_93,"CODE_93"],[We.CODE_128,"CODE_128"],[We.DATA_MATRIX,"DATA_MATRIX"],[We.MAXICODE,"MAXICODE"],[We.ITF,"ITF"],[We.EAN_13,"EAN_13"],[We.EAN_8,"EAN_8"],[We.PDF_417,"PDF_417"],[We.RSS_14,"RSS_14"],[We.RSS_EXPANDED,"RSS_EXPANDED"],[We.UPC_A,"UPC_A"],[We.UPC_E,"UPC_E"],[We.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),tN;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(tN||(tN={}));function uhe(t){return Object.values(We).includes(t)}var Io;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Io||(Io={}));var ha=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Io.SCAN_TYPE_CAMERA,Io.SCAN_TYPE_FILE],t}(),cj=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!eN.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,eN.get(e))},t}(),nN=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),H2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(H2||(H2={}));var uj=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:H2.UNKWOWN_ERROR}},t}(),dj=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Ra(t){return typeof t>"u"||t===null}function dhe(t,e,n){return t>n?n:t<e?e:t}var Rc=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),$t=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),rN=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),fj=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(e),u=0,f=o;u<f.length;u++){var h=f[u];if(a.has(h))return n.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t}(),W2={exports:{}};(function(t,e){(function(n,r){r(e)})(La,function(n){function r(G){return G==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,s){G.__proto__=s}||function(G,s){for(var l in s)s.hasOwnProperty(l)&&(G[l]=s[l])};function a(G,s){i(G,s);function l(){this.constructor=G}G.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function o(G,s){var l=Object.setPrototypeOf;l?l(G,s):G.__proto__=s}function u(G,s){s===void 0&&(s=G.constructor);var l=Error.captureStackTrace;l&&l(G,s)}var f=function(G){a(s,G);function s(l){var c=this.constructor,p=G.call(this,l)||this;return Object.defineProperty(p,"name",{value:c.name,enumerable:!1}),o(p,c.prototype),u(p),p}return s}(Error);class h extends f{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}h.kind="Exception";class x extends h{}x.kind="ArgumentException";class y extends h{}y.kind="IllegalArgumentException";class w{constructor(s){if(this.binarizer=s,s===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,c,p){const m=this.binarizer.getLuminanceSource().crop(s,l,c,p);return new w(this.binarizer.createBinarizer(m))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends h{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class I{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(s,l,c,p,m){for(;m--;)c[p++]=s[l++]}static currentTimeMillis(){return Date.now()}}class M extends h{}M.kind="IndexOutOfBoundsException";class P extends M{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}P.kind="ArrayIndexOutOfBoundsException";class S{static fill(s,l){for(let c=0,p=s.length;c<p;c++)s[c]=l}static fillWithin(s,l,c,p){S.rangeCheck(s.length,l,c);for(let m=l;m<c;m++)s[m]=p}static rangeCheck(s,l,c){if(l>c)throw new y("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new P(l);if(c>s)throw new P(c)}static asList(...s){return s}static create(s,l,c){return Array.from({length:s}).map(m=>Array.from({length:l}).fill(c))}static createInt32Array(s,l,c){return Array.from({length:s}).map(m=>Int32Array.from({length:l}).fill(c))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let c=0,p=s.length;c<p;c++)if(s[c]!==l[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const c of s)l=31*l+c;return l}static fillUint8Array(s,l){for(let c=0;c!==s.length;c++)s[c]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const c=new Uint8Array(l);return c.set(s),c}return s.slice(0,l)}static copyOfRange(s,l,c){const p=c-l,m=new Int32Array(p);return N.arraycopy(s,l,m,0,p),m}static binarySearch(s,l,c){c===void 0&&(c=S.numberComparator);let p=0,m=s.length-1;for(;p<=m;){const g=m+p>>1,v=c(l,s[g]);if(v>0)p=g+1;else if(v<0)m=g-1;else return g}return-p-1}static numberComparator(s,l){return s-l}}class C{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let c=31;return l=s<<16,l!==0&&(c-=16,s=l),l=s<<8,l!==0&&(c-=8,s=l),l=s<<4,l!==0&&(c-=4,s=l),l=s<<2,l!==0&&(c-=2,s=l),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}C.MIN_VALUE_32_BITS=-2147483648,C.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=V.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=V.makeArray(s);N.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const c=this.bits;let p=Math.floor(s/32),m=c[p];m&=~((1<<(s&31))-1);const g=c.length;for(;m===0;){if(++p===g)return l;m=c[p]}const v=p*32+C.numberOfTrailingZeros(m);return v>l?l:v}getNextUnset(s){const l=this.size;if(s>=l)return l;const c=this.bits;let p=Math.floor(s/32),m=~c[p];m&=~((1<<(s&31))-1);const g=c.length;for(;m===0;){if(++p===g)return l;m=~c[p]}const v=p*32+C.numberOfTrailingZeros(m);return v>l?l:v}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new y;if(l===s)return;l--;const c=Math.floor(s/32),p=Math.floor(l/32),m=this.bits;for(let g=c;g<=p;g++){const v=g>c?0:s&31,T=(2<<(g<p?31:l&31))-(1<<v);m[g]|=T}}clear(){const s=this.bits.length,l=this.bits;for(let c=0;c<s;c++)l[c]=0}isRange(s,l,c){if(l<s||s<0||l>this.size)throw new y;if(l===s)return!0;l--;const p=Math.floor(s/32),m=Math.floor(l/32),g=this.bits;for(let v=p;v<=m;v++){const A=v>p?0:s&31,U=(2<<(v<m?31:l&31))-(1<<A)&4294967295;if((g[v]&U)!==(c?U:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new y("Sizes don't match");const l=this.bits;for(let c=0,p=l.length;c<p;c++)l[c]^=s.bits[c]}toBytes(s,l,c,p){for(let m=0;m<p;m++){let g=0;for(let v=0;v<8;v++)this.get(s)&&(g|=1<<7-v),s++;l[c+m]=g}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,p=this.bits;for(let m=0;m<c;m++){let g=p[m];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,s[l-m]=g}if(this.size!==c*32){const m=c*32-this.size;let g=s[0]>>>m;for(let v=1;v<c;v++){const A=s[v];g|=A<<32-m,s[v-1]=g,g=A>>>m}s[c-1]=g}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof V))return!1;const l=s;return this.size===l.size&&S.equals(this.bits,l.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let s="";for(let l=0,c=this.size;l<c;l++)l&7||(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new V(this.size,this.bits.slice())}}var k;(function(G){G[G.OTHER=0]="OTHER",G[G.PURE_BARCODE=1]="PURE_BARCODE",G[G.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",G[G.TRY_HARDER=3]="TRY_HARDER",G[G.CHARACTER_SET=4]="CHARACTER_SET",G[G.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",G[G.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",G[G.ASSUME_GS1=7]="ASSUME_GS1",G[G.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",G[G.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",G[G.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(k||(k={}));var R=k;class j extends h{static getFormatInstance(){return new j}}j.kind="FormatException";var D;(function(G){G[G.Cp437=0]="Cp437",G[G.ISO8859_1=1]="ISO8859_1",G[G.ISO8859_2=2]="ISO8859_2",G[G.ISO8859_3=3]="ISO8859_3",G[G.ISO8859_4=4]="ISO8859_4",G[G.ISO8859_5=5]="ISO8859_5",G[G.ISO8859_6=6]="ISO8859_6",G[G.ISO8859_7=7]="ISO8859_7",G[G.ISO8859_8=8]="ISO8859_8",G[G.ISO8859_9=9]="ISO8859_9",G[G.ISO8859_10=10]="ISO8859_10",G[G.ISO8859_11=11]="ISO8859_11",G[G.ISO8859_13=12]="ISO8859_13",G[G.ISO8859_14=13]="ISO8859_14",G[G.ISO8859_15=14]="ISO8859_15",G[G.ISO8859_16=15]="ISO8859_16",G[G.SJIS=16]="SJIS",G[G.Cp1250=17]="Cp1250",G[G.Cp1251=18]="Cp1251",G[G.Cp1252=19]="Cp1252",G[G.Cp1256=20]="Cp1256",G[G.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",G[G.UTF8=22]="UTF8",G[G.ASCII=23]="ASCII",G[G.Big5=24]="Big5",G[G.GB18030=25]="GB18030",G[G.EUC_KR=26]="EUC_KR"})(D||(D={}));class L{constructor(s,l,c,...p){this.valueIdentifier=s,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=p,L.VALUE_IDENTIFIER_TO_ECI.set(s,this),L.NAME_TO_ECI.set(c,this);const m=this.values;for(let g=0,v=m.length;g!==v;g++){const A=m[g];L.VALUES_TO_ECI.set(A,this)}for(const g of p)L.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new j("incorect value");const l=L.VALUES_TO_ECI.get(s);if(l===void 0)throw new j("incorect value");return l}static getCharacterSetECIByName(s){const l=L.NAME_TO_ECI.get(s);if(l===void 0)throw new j("incorect value");return l}equals(s){if(!(s instanceof L))return!1;const l=s;return this.getName()===l.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(D.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(D.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(D.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(D.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(D.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(D.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(D.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(D.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(D.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(D.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(D.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(D.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(D.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(D.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(D.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(D.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(D.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(D.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(D.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(D.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(D.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(D.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(D.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(D.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(D.Big5,28,"Big5"),L.GB18030=new L(D.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(D.EUC_KR,30,"EUC_KR","EUC-KR");class E extends h{}E.kind="UnsupportedOperationException";class O{static decode(s,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!O.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof L?s:L.getCharacterSetECIByName(s)}static decodeFallback(s,l){const c=this.encodingCharacterSet(l);if(O.isDecodeFallbackSupported(c)){let p="";for(let m=0,g=s.length;m<g;m++){let v=s[m].toString(16);v.length<2&&(v="0"+v),p+="%"+v}return decodeURIComponent(p)}if(c.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new E(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(L.UTF8)||s.equals(L.ISO8859_1)||s.equals(L.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),p=[];for(let m=0;m<c.length;m++)p.push(c[m].charCodeAt(0));return new Uint8Array(p)}}class ${static castAsNonUtf8Char(s,l=null){const c=l?l.getName():this.ISO88591;return O.decode(new Uint8Array([s]),c)}static guessEncoding(s,l){if(l!=null&&l.get(R.CHARACTER_SET)!==void 0)return l.get(R.CHARACTER_SET).toString();const c=s.length;let p=!0,m=!0,g=!0,v=0,A=0,T=0,U=0,K=0,X=0,te=0,le=0,de=0,xe=0,_e=0;const Me=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let De=0;De<c&&(p||m||g);De++){const Oe=s[De]&255;g&&(v>0?Oe&128?v--:g=!1:Oe&128&&(Oe&64?(v++,Oe&32?(v++,Oe&16?(v++,Oe&8?g=!1:U++):T++):A++):g=!1)),p&&(Oe>127&&Oe<160?p=!1:Oe>159&&(Oe<192||Oe===215||Oe===247)&&_e++),m&&(K>0?Oe<64||Oe===127||Oe>252?m=!1:K--:Oe===128||Oe===160||Oe>239?m=!1:Oe>160&&Oe<224?(X++,le=0,te++,te>de&&(de=te)):Oe>127?(K++,te=0,le++,le>xe&&(xe=le)):(te=0,le=0))}return g&&v>0&&(g=!1),m&&K>0&&(m=!1),g&&(Me||A+T+U>0)?$.UTF8:m&&($.ASSUME_SHIFT_JIS||de>=3||xe>=3)?$.SHIFT_JIS:p&&m?de===2&&X===2||_e*10>=c?$.SHIFT_JIS:$.ISO88591:p?$.ISO88591:m?$.SHIFT_JIS:g?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let c=-1;function p(g,v,A,T,U,K){if(g==="%%")return"%";if(l[++c]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let X=U?parseInt(U.substr(1)):void 0,te;switch(K){case"s":te=l[c];break;case"c":te=l[c][0];break;case"f":te=parseFloat(l[c]).toFixed(g);break;case"p":te=parseFloat(l[c]).toPrecision(g);break;case"e":te=parseFloat(l[c]).toExponential(g);break;case"x":te=parseInt(l[c]).toString(X||16);break;case"d":te=parseFloat(parseInt(l[c],X||10).toPrecision(g)).toFixed(0);break}te=typeof te=="object"?JSON.stringify(te):(+te).toString(X);let le=parseInt(A),de=A&&A[0]+""=="0"?"0":" ";for(;te.length<le;)te=v!==void 0?te+de:de+te;return te}let m=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(m,p)}static getBytes(s,l){return O.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}$.SHIFT_JIS=L.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=L.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=L.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class F{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=$.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,c){for(let p=l;l<l+c;p++)this.append(s[p]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class H{constructor(s,l,c,p){if(this.width=s,this.height=l,this.rowSize=c,this.bits=p,l==null&&(l=s),this.height=l,s<1||l<1)throw new y("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,c=s[0].length,p=new H(c,l);for(let m=0;m<l;m++){const g=s[m];for(let v=0;v<c;v++)g[v]&&p.set(v,m)}return p}static parseFromString(s,l,c){if(s===null)throw new y("stringRepresentation cannot be null");const p=new Array(s.length);let m=0,g=0,v=-1,A=0,T=0;for(;T<s.length;)if(s.charAt(T)===`
`||s.charAt(T)==="\r"){if(m>g){if(v===-1)v=m-g;else if(m-g!==v)throw new y("row lengths do not match");g=m,A++}T++}else if(s.substring(T,T+l.length)===l)T+=l.length,p[m]=!0,m++;else if(s.substring(T,T+c.length)===c)T+=c.length,p[m]=!1,m++;else throw new y("illegal character encountered: "+s.substring(T));if(m>g){if(v===-1)v=m-g;else if(m-g!==v)throw new y("row lengths do not match");A++}const U=new H(v,A);for(let K=0;K<m;K++)p[K]&&U.set(Math.floor(K%v),Math.floor(K/v));return U}get(s,l){const c=l*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,l){const c=l*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new y("input matrix dimensions do not match");const l=new V(Math.floor(this.width/32)+1),c=this.rowSize,p=this.bits;for(let m=0,g=this.height;m<g;m++){const v=m*c,A=s.getRow(m,l).getBitArray();for(let T=0;T<c;T++)p[v+T]^=A[T]}}clear(){const s=this.bits,l=s.length;for(let c=0;c<l;c++)s[c]=0}setRegion(s,l,c,p){if(l<0||s<0)throw new y("Left and top must be nonnegative");if(p<1||c<1)throw new y("Height and width must be at least 1");const m=s+c,g=l+p;if(g>this.height||m>this.width)throw new y("The region must fit inside the matrix");const v=this.rowSize,A=this.bits;for(let T=l;T<g;T++){const U=T*v;for(let K=s;K<m;K++)A[U+Math.floor(K/32)]|=1<<(K&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new V(this.width):l.clear();const c=this.rowSize,p=this.bits,m=s*c;for(let g=0;g<c;g++)l.setBulk(g*32,p[m+g]);return l}setRow(s,l){N.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let c=new V(s),p=new V(s);for(let m=0,g=Math.floor((l+1)/2);m<g;m++)c=this.getRow(m,c),p=this.getRow(l-1-m,p),c.reverse(),p.reverse(),this.setRow(m,p),this.setRow(l-1-m,c)}getEnclosingRectangle(){const s=this.width,l=this.height,c=this.rowSize,p=this.bits;let m=s,g=l,v=-1,A=-1;for(let T=0;T<l;T++)for(let U=0;U<c;U++){const K=p[T*c+U];if(K!==0){if(T<g&&(g=T),T>A&&(A=T),U*32<m){let X=0;for(;!(K<<31-X&4294967295);)X++;U*32+X<m&&(m=U*32+X)}if(U*32+31>v){let X=31;for(;!(K>>>X);)X--;U*32+X>v&&(v=U*32+X)}}}return v<m||A<g?null:Int32Array.from([m,g,v-m+1,A-g+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const p=c/s;let m=c%s*32;const g=l[c];let v=0;for(;!(g<<31-v&4294967295);)v++;return m+=v,Int32Array.from([m,p])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const p=Math.floor(c/s);let m=Math.floor(c%s)*32;const g=l[c];let v=31;for(;!(g>>>v);)v--;return m+=v,Int32Array.from([m,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof H))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&S.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+S.hashCode(this.bits),s}toString(s="X ",l="  ",c=`
`){return this.buildToString(s,l,c)}buildToString(s,l,c){let p=new F;for(let m=0,g=this.height;m<g;m++){for(let v=0,A=this.width;v<A;v++)p.append(this.get(v,m)?s:l);p.append(c)}return p.toString()}clone(){return new H(this.width,this.height,this.rowSize,this.bits.slice())}}class z extends h{static getNotFoundInstance(){return new z}}z.kind="NotFoundException";class W extends I{constructor(s){super(s),this.luminances=W.EMPTY,this.buckets=new Int32Array(W.LUMINANCE_BUCKETS)}getBlackRow(s,l){const c=this.getLuminanceSource(),p=c.getWidth();l==null||l.getSize()<p?l=new V(p):l.clear(),this.initArrays(p);const m=c.getRow(s,this.luminances),g=this.buckets;for(let A=0;A<p;A++)g[(m[A]&255)>>W.LUMINANCE_SHIFT]++;const v=W.estimateBlackPoint(g);if(p<3)for(let A=0;A<p;A++)(m[A]&255)<v&&l.set(A);else{let A=m[0]&255,T=m[1]&255;for(let U=1;U<p-1;U++){const K=m[U+1]&255;(T*4-A-K)/2<v&&l.set(U),A=T,T=K}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),c=s.getHeight(),p=new H(l,c);this.initArrays(l);const m=this.buckets;for(let A=1;A<5;A++){const T=Math.floor(c*A/5),U=s.getRow(T,this.luminances),K=Math.floor(l*4/5);for(let X=Math.floor(l/5);X<K;X++){const te=U[X]&255;m[te>>W.LUMINANCE_SHIFT]++}}const g=W.estimateBlackPoint(m),v=s.getMatrix();for(let A=0;A<c;A++){const T=A*l;for(let U=0;U<l;U++)(v[T+U]&255)<g&&p.set(U,A)}return p}createBinarizer(s){return new W(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let c=0;c<W.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(s){const l=s.length;let c=0,p=0,m=0;for(let U=0;U<l;U++)s[U]>m&&(p=U,m=s[U]),s[U]>c&&(c=s[U]);let g=0,v=0;for(let U=0;U<l;U++){const K=U-p,X=s[U]*K*K;X>v&&(g=U,v=X)}if(p>g){const U=p;p=g,g=U}if(g-p<=l/16)throw new z;let A=g-1,T=-1;for(let U=g-1;U>p;U--){const K=U-p,X=K*K*(g-U)*(c-s[U]);X>T&&(A=U,T=X)}return A<<W.LUMINANCE_SHIFT}}W.LUMINANCE_BITS=5,W.LUMINANCE_SHIFT=8-W.LUMINANCE_BITS,W.LUMINANCE_BUCKETS=1<<W.LUMINANCE_BITS,W.EMPTY=Uint8ClampedArray.from([0]);class Y extends W{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),c=s.getHeight();if(l>=Y.MINIMUM_DIMENSION&&c>=Y.MINIMUM_DIMENSION){const p=s.getMatrix();let m=l>>Y.BLOCK_SIZE_POWER;l&Y.BLOCK_SIZE_MASK&&m++;let g=c>>Y.BLOCK_SIZE_POWER;c&Y.BLOCK_SIZE_MASK&&g++;const v=Y.calculateBlackPoints(p,m,g,l,c),A=new H(l,c);Y.calculateThresholdForBlock(p,m,g,l,c,v,A),this.matrix=A}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Y(s)}static calculateThresholdForBlock(s,l,c,p,m,g,v){const A=m-Y.BLOCK_SIZE,T=p-Y.BLOCK_SIZE;for(let U=0;U<c;U++){let K=U<<Y.BLOCK_SIZE_POWER;K>A&&(K=A);const X=Y.cap(U,2,c-3);for(let te=0;te<l;te++){let le=te<<Y.BLOCK_SIZE_POWER;le>T&&(le=T);const de=Y.cap(te,2,l-3);let xe=0;for(let Me=-2;Me<=2;Me++){const De=g[X+Me];xe+=De[de-2]+De[de-1]+De[de]+De[de+1]+De[de+2]}const _e=xe/25;Y.thresholdBlock(s,le,K,_e,p,v)}}}static cap(s,l,c){return s<l?l:s>c?c:s}static thresholdBlock(s,l,c,p,m,g){for(let v=0,A=c*m+l;v<Y.BLOCK_SIZE;v++,A+=m)for(let T=0;T<Y.BLOCK_SIZE;T++)(s[A+T]&255)<=p&&g.set(l+T,c+v)}static calculateBlackPoints(s,l,c,p,m){const g=m-Y.BLOCK_SIZE,v=p-Y.BLOCK_SIZE,A=new Array(c);for(let T=0;T<c;T++){A[T]=new Int32Array(l);let U=T<<Y.BLOCK_SIZE_POWER;U>g&&(U=g);for(let K=0;K<l;K++){let X=K<<Y.BLOCK_SIZE_POWER;X>v&&(X=v);let te=0,le=255,de=0;for(let _e=0,Me=U*p+X;_e<Y.BLOCK_SIZE;_e++,Me+=p){for(let De=0;De<Y.BLOCK_SIZE;De++){const Oe=s[Me+De]&255;te+=Oe,Oe<le&&(le=Oe),Oe>de&&(de=Oe)}if(de-le>Y.MIN_DYNAMIC_RANGE)for(_e++,Me+=p;_e<Y.BLOCK_SIZE;_e++,Me+=p)for(let De=0;De<Y.BLOCK_SIZE;De++)te+=s[Me+De]&255}let xe=te>>Y.BLOCK_SIZE_POWER*2;if(de-le<=Y.MIN_DYNAMIC_RANGE&&(xe=le/2,T>0&&K>0)){const _e=(A[T-1][K]+2*A[T][K-1]+A[T-1][K-1])/4;le<_e&&(xe=_e)}A[T][K]=xe}}return A}}Y.BLOCK_SIZE_POWER=3,Y.BLOCK_SIZE=1<<Y.BLOCK_SIZE_POWER,Y.BLOCK_SIZE_MASK=Y.BLOCK_SIZE-1,Y.MINIMUM_DIMENSION=Y.BLOCK_SIZE*5,Y.MIN_DYNAMIC_RANGE=24;class re{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,c,p){throw new E("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new E("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new E("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new F;for(let c=0;c<this.height;c++){const p=this.getRow(c,s);for(let m=0;m<this.width;m++){const g=p[m]&255;let v;g<64?v="#":g<128?v="+":g<192?v=".":v=" ",l.append(v)}l.append(`
`)}return l.toString()}}class ne extends re{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const c=this.delegate.getRow(s,l),p=this.getWidth();for(let m=0;m<p;m++)c[m]=255-(c[m]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let p=0;p<l;p++)c[p]=255-(s[p]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,c,p){return new ne(this.delegate.crop(s,l,c,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class ce extends re{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ce.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return ce.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,c){const p=new Uint8ClampedArray(l*c);for(let m=0,g=0,v=s.length;m<v;m+=4,g++){let A;if(s[m+3]===0)A=255;else{const U=s[m],K=s[m+1],X=s[m+2];A=306*U+601*K+117*X+512>>10}p[g]=A}return p}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const c=this.getWidth(),p=s*c;return l===null?l=this.buffer.slice(p,p+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(p,p+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,c,p){return super.crop(s,l,c,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),c=l.getContext("2d"),p=s*ce.DEGREE_TO_RADIANS,m=this.canvas.width,g=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(p))*m+Math.abs(Math.sin(p))*g),A=Math.ceil(Math.abs(Math.sin(p))*m+Math.abs(Math.cos(p))*g);return l.width=v,l.height=A,c.translate(v/2,A/2),c.rotate(p),c.drawImage(this.canvas,m/-2,g/-2),this.buffer=ce.makeBufferFromCanvasImageData(l),this}invert(){return new ne(this)}}ce.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(s,l,c){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ye=(globalThis||La||self||window||void 0)&&(globalThis||La||self||window||void 0).__awaiter||function(G,s,l,c){function p(m){return m instanceof l?m:new l(function(g){g(m)})}return new(l||(l=Promise))(function(m,g){function v(U){try{T(c.next(U))}catch(K){g(K)}}function A(U){try{T(c.throw(U))}catch(K){g(K)}}function T(U){U.done?m(U.value):p(U.value).then(v,A)}T((c=c.apply(G,s||[])).next())})};class pe{constructor(s,l=500,c){this.reader=s,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ye(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of s){const p=c.kind==="video"?"videoinput":c.kind;if(p!=="videoinput")continue;const m=c.deviceId||c.id,g=c.label||`Video device ${l.length+1}`,v=c.groupId,A={deviceId:m,label:g,kind:p,groupId:v};l.push(A)}return l})}getVideoInputDevices(){return ye(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new ve(l.deviceId,l.label))})}findDeviceById(s){return ye(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return ye(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return ye(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const p={video:c};return yield this.decodeOnceFromConstraints(p,l)})}decodeOnceFromConstraints(s,l){return ye(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(s,l){return ye(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,l,c){return ye(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,c)})}decodeFromVideoDevice(s,l,c){return ye(this,void 0,void 0,function*(){let p;s?p={deviceId:{exact:s}}:p={facingMode:"environment"};const m={video:p};return yield this.decodeFromConstraints(m,l,c)})}decodeFromConstraints(s,l,c){return ye(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(p,l,c)})}decodeFromStream(s,l,c){return ye(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(p,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return ye(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((l,c)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ye(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const c=document.getElementById(s);if(!c)throw new x(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new x(`element with id '${s}' must be an ${l} element`);return c}decodeFromImage(s,l){if(!s&&!l)throw new x("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new x("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,c){if(s===void 0&&l===void 0)throw new x("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new x("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(s){if(!s)throw new x("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=s,c}decodeFromVideoUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=s,c}decodeFromVideoUrlContinuously(s,l){if(!s)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(c,l);return c.src=s,p}_decodeOnLoadImage(s){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ye(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return ye(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,c=!0){this._stopAsyncDecode=!1;const p=(m,g)=>{if(this._stopAsyncDecode){g(new z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(s);m(v)}catch(v){const A=l&&v instanceof z,U=(v instanceof _||v instanceof j)&&c;if(A||U)return setTimeout(p,this._timeBetweenDecodingAttempts,m,g);g(v)}};return new Promise((m,g)=>p(m,g))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(s);l(p,null),setTimeout(c,this.timeBetweenScansMillis)}catch(p){l(null,p);const m=p instanceof _||p instanceof j,g=p instanceof z;(m||g)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,c){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),c=new ce(l),p=new Y(c);return new w(p)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,p;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,p=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,p=s.naturalHeight||s.height)),l.style.width=c+"px",l.style.height=p+"px",l.width=c,l.height=p,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(s,l,c=l==null?0:8*l.length,p,m,g=N.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=c,this.resultPoints=p,this.format=m,this.timestamp=g,this.text=s,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=p,this.format=m,this.resultMetadata=null,g==null?this.timestamp=N.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(l.length+s.length);N.arraycopy(l,0,c,0,l.length),N.arraycopy(s,0,c,l.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Te;(function(G){G[G.AZTEC=0]="AZTEC",G[G.CODABAR=1]="CODABAR",G[G.CODE_39=2]="CODE_39",G[G.CODE_93=3]="CODE_93",G[G.CODE_128=4]="CODE_128",G[G.DATA_MATRIX=5]="DATA_MATRIX",G[G.EAN_8=6]="EAN_8",G[G.EAN_13=7]="EAN_13",G[G.ITF=8]="ITF",G[G.MAXICODE=9]="MAXICODE",G[G.PDF_417=10]="PDF_417",G[G.QR_CODE=11]="QR_CODE",G[G.RSS_14=12]="RSS_14",G[G.RSS_EXPANDED=13]="RSS_EXPANDED",G[G.UPC_A=14]="UPC_A",G[G.UPC_E=15]="UPC_E",G[G.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var oe=Te,ue;(function(G){G[G.OTHER=0]="OTHER",G[G.ORIENTATION=1]="ORIENTATION",G[G.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",G[G.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",G[G.ISSUE_NUMBER=4]="ISSUE_NUMBER",G[G.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",G[G.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",G[G.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",G[G.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",G[G.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",G[G.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ue||(ue={}));var Q=ue;class fe{constructor(s,l,c,p,m=-1,g=-1){this.rawBytes=s,this.text=l,this.byteSegments=c,this.ecLevel=p,this.structuredAppendSequenceNumber=m,this.structuredAppendParity=g,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ee{exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class ie{constructor(s,l){if(l.length===0)throw new y;this.field=s;const c=l.length;if(c>1&&l[0]===0){let p=1;for(;p<c&&l[p]===0;)p++;p===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-p),N.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(s===1){c=0;for(let g=0,v=l.length;g!==v;g++){const A=l[g];c=Ee.addOrSubtract(c,A)}return c}c=l[0];const p=l.length,m=this.field;for(let g=1;g<p;g++)c=Ee.addOrSubtract(m.multiply(s,c),l[g]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,c=s.coefficients;if(l.length>c.length){const g=l;l=c,c=g}let p=new Int32Array(c.length);const m=c.length-l.length;N.arraycopy(c,0,p,0,m);for(let g=m;g<c.length;g++)p[g]=Ee.addOrSubtract(l[g-m],c[g]);return new ie(this.field,p)}multiply(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,p=s.coefficients,m=p.length,g=new Int32Array(c+m-1),v=this.field;for(let A=0;A<c;A++){const T=l[A];for(let U=0;U<m;U++)g[A+U]=Ee.addOrSubtract(g[A+U],v.multiply(T,p[U]))}return new ie(v,g)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,c=this.field,p=new Int32Array(l),m=this.coefficients;for(let g=0;g<l;g++)p[g]=c.multiply(m[g],s);return new ie(c,p)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return this.field.getZero();const c=this.coefficients,p=c.length,m=new Int32Array(p+s),g=this.field;for(let v=0;v<p;v++)m[v]=g.multiply(c[v],l);return new ie(g,m)}divide(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new y("Divide by 0");const l=this.field;let c=l.getZero(),p=this;const m=s.getCoefficient(s.getDegree()),g=l.inverse(m);for(;p.getDegree()>=s.getDegree()&&!p.isZero();){const v=p.getDegree()-s.getDegree(),A=l.multiply(p.getCoefficient(p.getDegree()),g),T=s.multiplyByMonomial(v,A),U=l.buildMonomial(v,A);c=c.addOrSubtract(U),p=p.addOrSubtract(T)}return[c,p]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),l===0||c!==1){const p=this.field.log(c);p===0?s+="1":p===1?s+="a":(s+="a^",s+=p)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class he extends h{}he.kind="ArithmeticException";class Ce extends Ee{constructor(s,l,c){super(),this.primitive=s,this.size=l,this.generatorBase=c;const p=new Int32Array(l);let m=1;for(let v=0;v<l;v++)p[v]=m,m*=2,m>=l&&(m^=s,m&=l-1);this.expTable=p;const g=new Int32Array(l);for(let v=0;v<l-1;v++)g[p[v]]=v;this.logTable=g,this.zero=new ie(this,Int32Array.from([0])),this.one=new ie(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;const c=new Int32Array(s+1);return c[0]=l,new ie(this,c)}inverse(s){if(s===0)throw new he;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+C.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ce.AZTEC_DATA_12=new Ce(4201,4096,1),Ce.AZTEC_DATA_10=new Ce(1033,1024,1),Ce.AZTEC_DATA_6=new Ce(67,64,1),Ce.AZTEC_PARAM=new Ce(19,16,1),Ce.QR_CODE_FIELD_256=new Ce(285,256,0),Ce.DATA_MATRIX_FIELD_256=new Ce(301,256,1),Ce.AZTEC_DATA_8=Ce.DATA_MATRIX_FIELD_256,Ce.MAXICODE_FIELD_64=Ce.AZTEC_DATA_6;class $e extends h{}$e.kind="ReedSolomonException";class He extends h{}He.kind="IllegalStateException";class xt{constructor(s){this.field=s}decode(s,l){const c=this.field,p=new ie(c,s),m=new Int32Array(l);let g=!0;for(let te=0;te<l;te++){const le=p.evaluateAt(c.exp(te+c.getGeneratorBase()));m[m.length-1-te]=le,le!==0&&(g=!1)}if(g)return;const v=new ie(c,m),A=this.runEuclideanAlgorithm(c.buildMonomial(l,1),v,l),T=A[0],U=A[1],K=this.findErrorLocations(T),X=this.findErrorMagnitudes(U,K);for(let te=0;te<K.length;te++){const le=s.length-1-c.log(K[te]);if(le<0)throw new $e("Bad error location");s[le]=Ce.addOrSubtract(s[le],X[te])}}runEuclideanAlgorithm(s,l,c){if(s.getDegree()<l.getDegree()){const te=s;s=l,l=te}const p=this.field;let m=s,g=l,v=p.getZero(),A=p.getOne();for(;g.getDegree()>=(c/2|0);){let te=m,le=v;if(m=g,v=A,m.isZero())throw new $e("r_{i-1} was zero");g=te;let de=p.getZero();const xe=m.getCoefficient(m.getDegree()),_e=p.inverse(xe);for(;g.getDegree()>=m.getDegree()&&!g.isZero();){const Me=g.getDegree()-m.getDegree(),De=p.multiply(g.getCoefficient(g.getDegree()),_e);de=de.addOrSubtract(p.buildMonomial(Me,De)),g=g.addOrSubtract(m.multiplyByMonomial(Me,De))}if(A=de.multiply(v).addOrSubtract(le),g.getDegree()>=m.getDegree())throw new He("Division algorithm failed to reduce polynomial?")}const T=A.getCoefficient(0);if(T===0)throw new $e("sigmaTilde(0) was zero");const U=p.inverse(T),K=A.multiplyScalar(U),X=g.multiplyScalar(U);return[K,X]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(l);let p=0;const m=this.field;for(let g=1;g<m.getSize()&&p<l;g++)s.evaluateAt(g)===0&&(c[p]=m.inverse(g),p++);if(p!==l)throw new $e("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,l){const c=l.length,p=new Int32Array(c),m=this.field;for(let g=0;g<c;g++){const v=m.inverse(l[g]);let A=1;for(let T=0;T<c;T++)if(g!==T){const U=m.multiply(l[T],v),K=U&1?U&-2:U|1;A=m.multiply(A,K)}p[g]=m.multiply(s.evaluateAt(v),m.inverse(A)),m.getGeneratorBase()!==0&&(p[g]=m.multiply(p[g],v))}return p}}var wt;(function(G){G[G.UPPER=0]="UPPER",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.DIGIT=3]="DIGIT",G[G.PUNCT=4]="PUNCT",G[G.BINARY=5]="BINARY"})(wt||(wt={}));class pt{decode(s){this.ddata=s;let l=s.getBits(),c=this.extractBits(l),p=this.correctBits(c),m=pt.convertBoolArrayToByteArray(p),g=pt.getEncodedData(p),v=new fe(m,g,null,null);return v.setNumBits(p.length),v}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,c=wt.UPPER,p=wt.UPPER,m="",g=0;for(;g<l;)if(p===wt.BINARY){if(l-g<5)break;let v=pt.readCode(s,g,5);if(g+=5,v===0){if(l-g<11)break;v=pt.readCode(s,g,11)+31,g+=11}for(let A=0;A<v;A++){if(l-g<8){g=l;break}const T=pt.readCode(s,g,8);m+=$.castAsNonUtf8Char(T),g+=8}p=c}else{let v=p===wt.DIGIT?4:5;if(l-g<v)break;let A=pt.readCode(s,g,v);g+=v;let T=pt.getCharacter(p,A);T.startsWith("CTRL_")?(c=p,p=pt.getTable(T.charAt(5)),T.charAt(6)==="L"&&(c=p)):(m+=T,p=c)}return m}static getTable(s){switch(s){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(s,l){switch(s){case wt.UPPER:return pt.UPPER_TABLE[l];case wt.LOWER:return pt.LOWER_TABLE[l];case wt.MIXED:return pt.MIXED_TABLE[l];case wt.PUNCT:return pt.PUNCT_TABLE[l];case wt.DIGIT:return pt.DIGIT_TABLE[l];default:throw new He("Bad table")}}correctBits(s){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=Ce.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=Ce.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=Ce.AZTEC_DATA_10):(c=12,l=Ce.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),m=s.length/c;if(m<p)throw new j;let g=s.length%c,v=new Int32Array(m);for(let X=0;X<m;X++,g+=c)v[X]=pt.readCode(s,g,c);try{new xt(l).decode(v,m-p)}catch(X){throw new j(X)}let A=(1<<c)-1,T=0;for(let X=0;X<p;X++){let te=v[X];if(te===0||te===A)throw new j;(te===1||te===A-1)&&T++}let U=new Array(p*c-T),K=0;for(let X=0;X<p;X++){let te=v[X];if(te===1||te===A-1)U.fill(te>1,K,K+c-1),K+=c-1;else for(let le=c-1;le>=0;--le)U[K++]=(te&1<<le)!==0}return U}extractBits(s){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),p=(l?11:14)+c*4,m=new Int32Array(p),g=new Array(this.totalBitsInLayer(c,l));if(l)for(let v=0;v<m.length;v++)m[v]=v;else{let v=p+1+2*C.truncDivision(C.truncDivision(p,2)-1,15),A=p/2,T=C.truncDivision(v,2);for(let U=0;U<A;U++){let K=U+C.truncDivision(U,15);m[A-U-1]=T-K-1,m[A+U]=T+K+1}}for(let v=0,A=0;v<c;v++){let T=(c-v)*4+(l?9:12),U=v*2,K=p-1-U;for(let X=0;X<T;X++){let te=X*2;for(let le=0;le<2;le++)g[A+te+le]=s.get(m[U+le],m[U+X]),g[A+2*T+te+le]=s.get(m[U+X],m[K-le]),g[A+4*T+te+le]=s.get(m[K-le],m[K-X]),g[A+6*T+te+le]=s.get(m[K-X],m[U+le])}A+=T*8}return g}static readCode(s,l,c){let p=0;for(let m=l;m<l+c;m++)p<<=1,s[m]&&(p|=1);return p}static readByte(s,l){let c=s.length-l;return c>=8?pt.readCode(s,l,8):pt.readCode(s,l,c)<<8-c}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let c=0;c<l.length;c++)l[c]=pt.readByte(s,8*c);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,c,p){const m=s-c,g=l-p;return Math.sqrt(m*m+g*g)}static sum(s){let l=0;for(let c=0,p=s.length;c!==p;c++){const m=s[c];l+=m}return l}}class ui{static floatToIntBits(s){return s}}ui.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ve{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ve){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*ui.floatToIntBits(this.x)+ui.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),p=this.distance(s[0],s[2]);let m,g,v;if(c>=l&&c>=p?(g=s[0],m=s[1],v=s[2]):p>=c&&p>=l?(g=s[1],m=s[0],v=s[2]):(g=s[2],m=s[0],v=s[1]),this.crossProductZ(m,g,v)<0){const A=m;m=v,v=A}s[0]=m,s[1]=g,s[2]=v}static distance(s,l){return lt.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,c){const p=l.x,m=l.y;return(c.x-p)*(s.y-m)-(c.y-m)*(s.x-p)}}class Gr{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Sa extends Gr{constructor(s,l,c,p,m){super(s,l),this.compact=c,this.nbDatablocks=p,this.nbLayers=m}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class _r{constructor(s,l,c,p){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=_r.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),p==null&&(p=s.getHeight()/2|0);const m=l/2|0;if(this.leftInit=c-m,this.rightInit=c+m,this.upInit=p-m,this.downInit=p+m,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new z}detect(){let s=this.leftInit,l=this.rightInit,c=this.upInit,p=this.downInit,m=!1,g=!0,v=!1,A=!1,T=!1,U=!1,K=!1;const X=this.width,te=this.height;for(;g;){g=!1;let le=!0;for(;(le||!A)&&l<X;)le=this.containsBlackPoint(c,p,l,!1),le?(l++,g=!0,A=!0):A||l++;if(l>=X){m=!0;break}let de=!0;for(;(de||!T)&&p<te;)de=this.containsBlackPoint(s,l,p,!0),de?(p++,g=!0,T=!0):T||p++;if(p>=te){m=!0;break}let xe=!0;for(;(xe||!U)&&s>=0;)xe=this.containsBlackPoint(c,p,s,!1),xe?(s--,g=!0,U=!0):U||s--;if(s<0){m=!0;break}let _e=!0;for(;(_e||!K)&&c>=0;)_e=this.containsBlackPoint(s,l,c,!0),_e?(c--,g=!0,K=!0):K||c--;if(c<0){m=!0;break}g&&(v=!0)}if(!m&&v){const le=l-s;let de=null;for(let De=1;de===null&&De<le;De++)de=this.getBlackPointOnSegment(s,p-De,s+De,p);if(de==null)throw new z;let xe=null;for(let De=1;xe===null&&De<le;De++)xe=this.getBlackPointOnSegment(s,c+De,s+De,c);if(xe==null)throw new z;let _e=null;for(let De=1;_e===null&&De<le;De++)_e=this.getBlackPointOnSegment(l,c+De,l-De,c);if(_e==null)throw new z;let Me=null;for(let De=1;Me===null&&De<le;De++)Me=this.getBlackPointOnSegment(l,p-De,l-De,p);if(Me==null)throw new z;return this.centerEdges(Me,de,_e,xe)}else throw new z}getBlackPointOnSegment(s,l,c,p){const m=lt.round(lt.distance(s,l,c,p)),g=(c-s)/m,v=(p-l)/m,A=this.image;for(let T=0;T<m;T++){const U=lt.round(s+T*g),K=lt.round(l+T*v);if(A.get(U,K))return new Ve(U,K)}return null}centerEdges(s,l,c,p){const m=s.getX(),g=s.getY(),v=l.getX(),A=l.getY(),T=c.getX(),U=c.getY(),K=p.getX(),X=p.getY(),te=_r.CORR;return m<this.width/2?[new Ve(K-te,X+te),new Ve(v+te,A+te),new Ve(T-te,U-te),new Ve(m+te,g-te)]:[new Ve(K+te,X+te),new Ve(v+te,A-te),new Ve(T-te,U+te),new Ve(m-te,g-te)]}containsBlackPoint(s,l,c,p){const m=this.image;if(p){for(let g=s;g<=l;g++)if(m.get(g,c))return!0}else for(let g=s;g<=l;g++)if(m.get(c,g))return!0;return!1}}_r.INIT_SIZE=10,_r.CORR=1;class Ja{static checkAndNudgePoints(s,l){const c=s.getWidth(),p=s.getHeight();let m=!0;for(let g=0;g<l.length&&m;g+=2){const v=Math.floor(l[g]),A=Math.floor(l[g+1]);if(v<-1||v>c||A<-1||A>p)throw new z;m=!1,v===-1?(l[g]=0,m=!0):v===c&&(l[g]=c-1,m=!0),A===-1?(l[g+1]=0,m=!0):A===p&&(l[g+1]=p-1,m=!0)}m=!0;for(let g=l.length-2;g>=0&&m;g-=2){const v=Math.floor(l[g]),A=Math.floor(l[g+1]);if(v<-1||v>c||A<-1||A>p)throw new z;m=!1,v===-1?(l[g]=0,m=!0):v===c&&(l[g]=c-1,m=!0),A===-1?(l[g+1]=0,m=!0):A===p&&(l[g+1]=p-1,m=!0)}}}class qt{constructor(s,l,c,p,m,g,v,A,T){this.a11=s,this.a21=l,this.a31=c,this.a12=p,this.a22=m,this.a32=g,this.a13=v,this.a23=A,this.a33=T}static quadrilateralToQuadrilateral(s,l,c,p,m,g,v,A,T,U,K,X,te,le,de,xe){const _e=qt.quadrilateralToSquare(s,l,c,p,m,g,v,A);return qt.squareToQuadrilateral(T,U,K,X,te,le,de,xe).times(_e)}transformPoints(s){const l=s.length,c=this.a11,p=this.a12,m=this.a13,g=this.a21,v=this.a22,A=this.a23,T=this.a31,U=this.a32,K=this.a33;for(let X=0;X<l;X+=2){const te=s[X],le=s[X+1],de=m*te+A*le+K;s[X]=(c*te+g*le+T)/de,s[X+1]=(p*te+v*le+U)/de}}transformPointsWithValues(s,l){const c=this.a11,p=this.a12,m=this.a13,g=this.a21,v=this.a22,A=this.a23,T=this.a31,U=this.a32,K=this.a33,X=s.length;for(let te=0;te<X;te++){const le=s[te],de=l[te],xe=m*le+A*de+K;s[te]=(c*le+g*de+T)/xe,l[te]=(p*le+v*de+U)/xe}}static squareToQuadrilateral(s,l,c,p,m,g,v,A){const T=s-c+m-v,U=l-p+g-A;if(T===0&&U===0)return new qt(c-s,m-c,s,p-l,g-p,l,0,0,1);{const K=c-m,X=v-m,te=p-g,le=A-g,de=K*le-X*te,xe=(T*le-X*U)/de,_e=(K*U-T*te)/de;return new qt(c-s+xe*c,v-s+_e*v,s,p-l+xe*p,A-l+_e*A,l,xe,_e,1)}}static quadrilateralToSquare(s,l,c,p,m,g,v,A){return qt.squareToQuadrilateral(s,l,c,p,m,g,v,A).buildAdjoint()}buildAdjoint(){return new qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new qt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class nr extends Ja{sampleGrid(s,l,c,p,m,g,v,A,T,U,K,X,te,le,de,xe,_e,Me,De){const Oe=qt.quadrilateralToQuadrilateral(p,m,g,v,A,T,U,K,X,te,le,de,xe,_e,Me,De);return this.sampleGridWithTransform(s,l,c,Oe)}sampleGridWithTransform(s,l,c,p){if(l<=0||c<=0)throw new z;const m=new H(l,c),g=new Float32Array(2*l);for(let v=0;v<c;v++){const A=g.length,T=v+.5;for(let U=0;U<A;U+=2)g[U]=U/2+.5,g[U+1]=T;p.transformPoints(g),Ja.checkAndNudgePoints(s,g);try{for(let U=0;U<A;U+=2)s.get(Math.floor(g[U]),Math.floor(g[U+1]))&&m.set(U/2,v)}catch{throw new z}}return m}}class di{static setGridSampler(s){di.gridSampler=s}static getInstance(){return di.gridSampler}}di.gridSampler=new nr;class rr{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new Ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class cd{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(s){let g=c[0];c[0]=c[2],c[2]=g}this.extractParameters(c);let p=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),m=this.getMatrixCornerPoints(c);return new Sa(p,m,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new z;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(c,l);let p=0;for(let g=0;g<4;g++){let v=c[(this.shift+g)%4];this.compact?(p<<=7,p+=v>>1&127):(p<<=10,p+=(v>>2&992)+(v>>1&31))}let m=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(m>>6)+1,this.nbDataBlocks=(m&63)+1):(this.nbLayers=(m>>11)+1,this.nbDataBlocks=(m&2047)+1)}getRotation(s,l){let c=0;s.forEach((p,m,g)=>{let v=(p>>l-2<<1)+(p&1);c=(c<<3)+v}),c=((c&1)<<11)+(c>>1);for(let p=0;p<4;p++)if(C.bitCount(c^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new z}getCorrectedParameterData(s,l){let c,p;l?(c=7,p=2):(c=10,p=4);let m=c-p,g=new Int32Array(c);for(let A=c-1;A>=0;--A)g[A]=s&15,s>>=4;try{new xt(Ce.AZTEC_PARAM).decode(g,m)}catch{throw new z}let v=0;for(let A=0;A<p;A++)v=(v<<4)+g[A];return v}getBullsEyeCorners(s){let l=s,c=s,p=s,m=s,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let K=this.getFirstDifferent(l,g,1,-1),X=this.getFirstDifferent(c,g,1,1),te=this.getFirstDifferent(p,g,-1,1),le=this.getFirstDifferent(m,g,-1,-1);if(this.nbCenterLayers>2){let de=this.distancePoint(le,K)*this.nbCenterLayers/(this.distancePoint(m,l)*(this.nbCenterLayers+2));if(de<.75||de>1.25||!this.isWhiteOrBlackRectangle(K,X,te,le))break}l=K,c=X,p=te,m=le,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new z;this.compact=this.nbCenterLayers===5;let v=new Ve(l.getX()+.5,l.getY()-.5),A=new Ve(c.getX()+.5,c.getY()+.5),T=new Ve(p.getX()-.5,p.getY()+.5),U=new Ve(m.getX()-.5,m.getY()-.5);return this.expandSquare([v,A,T,U],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,c,p;try{let v=new _r(this.image).detect();s=v[0],l=v[1],c=v[2],p=v[3]}catch{let A=this.image.getWidth()/2,T=this.image.getHeight()/2;s=this.getFirstDifferent(new rr(A+7,T-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new rr(A+7,T+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new rr(A-7,T+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new rr(A-7,T-7),!1,-1,-1).toResultPoint()}let m=lt.round((s.getX()+p.getX()+l.getX()+c.getX())/4),g=lt.round((s.getY()+p.getY()+l.getY()+c.getY())/4);try{let v=new _r(this.image,15,m,g).detect();s=v[0],l=v[1],c=v[2],p=v[3]}catch{s=this.getFirstDifferent(new rr(m+7,g-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new rr(m+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new rr(m-7,g+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new rr(m-7,g-7),!1,-1,-1).toResultPoint()}return m=lt.round((s.getX()+p.getX()+l.getX()+c.getX())/4),g=lt.round((s.getY()+p.getY()+l.getY()+c.getY())/4),new rr(m,g)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,c,p,m){let g=di.getInstance(),v=this.getDimension(),A=v/2-this.nbCenterLayers,T=v/2+this.nbCenterLayers;return g.sampleGrid(s,v,v,A,A,T,A,T,T,A,T,l.getX(),l.getY(),c.getX(),c.getY(),p.getX(),p.getY(),m.getX(),m.getY())}sampleLine(s,l,c){let p=0,m=this.distanceResultPoint(s,l),g=m/c,v=s.getX(),A=s.getY(),T=g*(l.getX()-s.getX())/m,U=g*(l.getY()-s.getY())/m;for(let K=0;K<c;K++)this.image.get(lt.round(v+K*T),lt.round(A+K*U))&&(p|=1<<c-K-1);return p}isWhiteOrBlackRectangle(s,l,c,p){let m=3;s=new rr(s.getX()-m,s.getY()+m),l=new rr(l.getX()-m,l.getY()-m),c=new rr(c.getX()+m,c.getY()-m),p=new rr(p.getX()+m,p.getY()+m);let g=this.getColor(p,s);if(g===0)return!1;let v=this.getColor(s,l);return v!==g||(v=this.getColor(l,c),v!==g)?!1:(v=this.getColor(c,p),v===g)}getColor(s,l){let c=this.distancePoint(s,l),p=(l.getX()-s.getX())/c,m=(l.getY()-s.getY())/c,g=0,v=s.getX(),A=s.getY(),T=this.image.get(s.getX(),s.getY()),U=Math.ceil(c);for(let X=0;X<U;X++)v+=p,A+=m,this.image.get(lt.round(v),lt.round(A))!==T&&g++;let K=g/c;return K>.1&&K<.9?0:K<=.1===T?1:-1}getFirstDifferent(s,l,c,p){let m=s.getX()+c,g=s.getY()+p;for(;this.isValid(m,g)&&this.image.get(m,g)===l;)m+=c,g+=p;for(m-=c,g-=p;this.isValid(m,g)&&this.image.get(m,g)===l;)m+=c;for(m-=c;this.isValid(m,g)&&this.image.get(m,g)===l;)g+=p;return g-=p,new rr(m,g)}expandSquare(s,l,c){let p=c/(2*l),m=s[0].getX()-s[2].getX(),g=s[0].getY()-s[2].getY(),v=(s[0].getX()+s[2].getX())/2,A=(s[0].getY()+s[2].getY())/2,T=new Ve(v+p*m,A+p*g),U=new Ve(v-p*m,A-p*g);m=s[1].getX()-s[3].getX(),g=s[1].getY()-s[3].getY(),v=(s[1].getX()+s[3].getX())/2,A=(s[1].getY()+s[3].getY())/2;let K=new Ve(v+p*m,A+p*g),X=new Ve(v-p*m,A-p*g);return[T,K,U,X]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=lt.round(s.getX()),c=lt.round(s.getY());return this.isValid(l,c)}distancePoint(s,l){return lt.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return lt.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(C.truncDivision(this.nbLayers-4,8)+1)+15}}class Jl{decode(s,l=null){let c=null,p=new cd(s.getBlackMatrix()),m=null,g=null;try{let U=p.detectMirror(!1);m=U.getPoints(),this.reportFoundResultPoints(l,m),g=new pt().decode(U)}catch(U){c=U}if(g==null)try{let U=p.detectMirror(!0);m=U.getPoints(),this.reportFoundResultPoints(l,m),g=new pt().decode(U)}catch(U){throw c??U}let v=new se(g.getText(),g.getRawBytes(),g.getNumBits(),m,oe.AZTEC,N.currentTimeMillis()),A=g.getByteSegments();A!=null&&v.putMetadata(Q.BYTE_SEGMENTS,A);let T=g.getECLevel();return T!=null&&v.putMetadata(Q.ERROR_CORRECTION_LEVEL,T),v}reportFoundResultPoints(s,l){if(s!=null){let c=s.get(R.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((p,m,g)=>{c.foundPossibleResultPoint(p)})}}reset(){}}class Fo extends pe{constructor(s=500){super(new Jl,s)}}class xn{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get(R.TRY_HARDER)===!0&&s.isRotateSupported()){const m=s.rotateCounterClockwise(),g=this.doDecode(m,l),v=g.getResultMetadata();let A=270;v!==null&&v.get(Q.ORIENTATION)===!0&&(A=A+v.get(Q.ORIENTATION)%360),g.putMetadata(Q.ORIENTATION,A);const T=g.getResultPoints();if(T!==null){const U=m.getHeight();for(let K=0;K<T.length;K++)T[K]=new Ve(U-T[K].getY()-1,T[K].getX())}return g}else throw new z}}reset(){}doDecode(s,l){const c=s.getWidth(),p=s.getHeight();let m=new V(c);const g=l&&l.get(R.TRY_HARDER)===!0,v=Math.max(1,p>>(g?8:5));let A;g?A=p:A=15;const T=Math.trunc(p/2);for(let U=0;U<A;U++){const K=Math.trunc((U+1)/2),X=(U&1)===0,te=T+v*(X?K:-K);if(te<0||te>=p)break;try{m=s.getBlackRow(te,m)}catch{continue}for(let le=0;le<2;le++){if(le===1&&(m.reverse(),l&&l.get(R.NEED_RESULT_POINT_CALLBACK)===!0)){const de=new Map;l.forEach((xe,_e)=>de.set(_e,xe)),de.delete(R.NEED_RESULT_POINT_CALLBACK),l=de}try{const de=this.decodeRow(te,m,l);if(le===1){de.putMetadata(Q.ORIENTATION,180);const xe=de.getResultPoints();xe!==null&&(xe[0]=new Ve(c-xe[0].getX()-1,xe[0].getY()),xe[1]=new Ve(c-xe[1].getX()-1,xe[1].getY()))}return de}catch{}}}throw new z}static recordPattern(s,l,c){const p=c.length;for(let T=0;T<p;T++)c[T]=0;const m=s.getSize();if(l>=m)throw new z;let g=!s.get(l),v=0,A=l;for(;A<m;){if(s.get(A)!==g)c[v]++;else{if(++v===p)break;c[v]=1,g=!g}A++}if(!(v===p||v===p-1&&A===m))throw new z}static recordPatternInReverse(s,l,c){let p=c.length,m=s.get(l);for(;l>0&&p>=0;)s.get(--l)!==m&&(p--,m=!m);if(p>=0)throw new z;xn.recordPattern(s,l+1,c)}static patternMatchVariance(s,l,c){const p=s.length;let m=0,g=0;for(let T=0;T<p;T++)m+=s[T],g+=l[T];if(m<g)return Number.POSITIVE_INFINITY;const v=m/g;c*=v;let A=0;for(let T=0;T<p;T++){const U=s[T],K=l[T]*v,X=U>K?U-K:K-U;if(X>c)return Number.POSITIVE_INFINITY;A+=X}return A/m}}class Be extends xn{static findStartPattern(s){const l=s.getSize(),c=s.getNextSet(0);let p=0,m=Int32Array.from([0,0,0,0,0,0]),g=c,v=!1;const A=6;for(let T=c;T<l;T++)if(s.get(T)!==v)m[p]++;else{if(p===A-1){let U=Be.MAX_AVG_VARIANCE,K=-1;for(let X=Be.CODE_START_A;X<=Be.CODE_START_C;X++){const te=xn.patternMatchVariance(m,Be.CODE_PATTERNS[X],Be.MAX_INDIVIDUAL_VARIANCE);te<U&&(U=te,K=X)}if(K>=0&&s.isRange(Math.max(0,g-(T-g)/2),g,!1))return Int32Array.from([g,T,K]);g+=m[0]+m[1],m=m.slice(2,m.length-1),m[p-1]=0,m[p]=0,p--}else p++;m[p]=1,v=!v}throw new z}static decodeCode(s,l,c){xn.recordPattern(s,c,l);let p=Be.MAX_AVG_VARIANCE,m=-1;for(let g=0;g<Be.CODE_PATTERNS.length;g++){const v=Be.CODE_PATTERNS[g],A=this.patternMatchVariance(l,v,Be.MAX_INDIVIDUAL_VARIANCE);A<p&&(p=A,m=g)}if(m>=0)return m;throw new z}decodeRow(s,l,c){const p=c&&c.get(R.ASSUME_GS1)===!0,m=Be.findStartPattern(l),g=m[2];let v=0;const A=new Uint8Array(20);A[v++]=g;let T;switch(g){case Be.CODE_START_A:T=Be.CODE_CODE_A;break;case Be.CODE_START_B:T=Be.CODE_CODE_B;break;case Be.CODE_START_C:T=Be.CODE_CODE_C;break;default:throw new j}let U=!1,K=!1,X="",te=m[0],le=m[1];const de=Int32Array.from([0,0,0,0,0,0]);let xe=0,_e=0,Me=g,De=0,Oe=!0,vt=!1,ut=!1;for(;!U;){const oc=K;switch(K=!1,xe=_e,_e=Be.decodeCode(l,de,le),A[v++]=_e,_e!==Be.CODE_STOP&&(Oe=!0),_e!==Be.CODE_STOP&&(De++,Me+=De*_e),te=le,le+=de.reduce((yj,vj)=>yj+vj,0),_e){case Be.CODE_START_A:case Be.CODE_START_B:case Be.CODE_START_C:throw new j}switch(T){case Be.CODE_CODE_A:if(_e<64)ut===vt?X+=String.fromCharCode(32+_e):X+=String.fromCharCode(32+_e+128),ut=!1;else if(_e<96)ut===vt?X+=String.fromCharCode(_e-64):X+=String.fromCharCode(_e+64),ut=!1;else switch(_e!==Be.CODE_STOP&&(Oe=!1),_e){case Be.CODE_FNC_1:p&&(X.length===0?X+="]C1":X+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_A:!vt&&ut?(vt=!0,ut=!1):vt&&ut?(vt=!1,ut=!1):ut=!0;break;case Be.CODE_SHIFT:K=!0,T=Be.CODE_CODE_B;break;case Be.CODE_CODE_B:T=Be.CODE_CODE_B;break;case Be.CODE_CODE_C:T=Be.CODE_CODE_C;break;case Be.CODE_STOP:U=!0;break}break;case Be.CODE_CODE_B:if(_e<96)ut===vt?X+=String.fromCharCode(32+_e):X+=String.fromCharCode(32+_e+128),ut=!1;else switch(_e!==Be.CODE_STOP&&(Oe=!1),_e){case Be.CODE_FNC_1:p&&(X.length===0?X+="]C1":X+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_B:!vt&&ut?(vt=!0,ut=!1):vt&&ut?(vt=!1,ut=!1):ut=!0;break;case Be.CODE_SHIFT:K=!0,T=Be.CODE_CODE_A;break;case Be.CODE_CODE_A:T=Be.CODE_CODE_A;break;case Be.CODE_CODE_C:T=Be.CODE_CODE_C;break;case Be.CODE_STOP:U=!0;break}break;case Be.CODE_CODE_C:if(_e<100)_e<10&&(X+="0"),X+=_e;else switch(_e!==Be.CODE_STOP&&(Oe=!1),_e){case Be.CODE_FNC_1:p&&(X.length===0?X+="]C1":X+="");break;case Be.CODE_CODE_A:T=Be.CODE_CODE_A;break;case Be.CODE_CODE_B:T=Be.CODE_CODE_B;break;case Be.CODE_STOP:U=!0;break}break}oc&&(T=T===Be.CODE_CODE_A?Be.CODE_CODE_B:Be.CODE_CODE_A)}const Zr=le-te;if(le=l.getNextUnset(le),!l.isRange(le,Math.min(l.getSize(),le+(le-te)/2),!1))throw new z;if(Me-=De*xe,Me%103!==xe)throw new _;const oa=X.length;if(oa===0)throw new z;oa>0&&Oe&&(T===Be.CODE_CODE_C?X=X.substring(0,oa-2):X=X.substring(0,oa-1));const Jr=(m[1]+m[0])/2,Kt=te+Zr/2,pr=A.length,yi=new Uint8Array(pr);for(let oc=0;oc<pr;oc++)yi[oc]=A[oc];const sc=[new Ve(Jr,s),new Ve(Kt,s)];return new se(X,yi,0,sc,oe.CODE_128,new Date().getTime())}}Be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Be.MAX_AVG_VARIANCE=.25,Be.MAX_INDIVIDUAL_VARIANCE=.7,Be.CODE_SHIFT=98,Be.CODE_CODE_C=99,Be.CODE_CODE_B=100,Be.CODE_CODE_A=101,Be.CODE_FNC_1=102,Be.CODE_FNC_2=97,Be.CODE_FNC_3=96,Be.CODE_FNC_4_A=101,Be.CODE_FNC_4_B=100,Be.CODE_START_A=103,Be.CODE_START_B=104,Be.CODE_START_C=105,Be.CODE_STOP=106;class yn extends xn{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,c){let p=this.counters;p.fill(0),this.decodeRowResult="";let m=yn.findAsteriskPattern(l,p),g=l.getNextSet(m[1]),v=l.getSize(),A,T;do{yn.recordPattern(l,g,p);let de=yn.toNarrowWidePattern(p);if(de<0)throw new z;A=yn.patternToChar(de),this.decodeRowResult+=A,T=g;for(let xe of p)g+=xe;g=l.getNextSet(g)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let U=0;for(let de of p)U+=de;let K=g-T-U;if(g!==v&&K*2<U)throw new z;if(this.usingCheckDigit){let de=this.decodeRowResult.length-1,xe=0;for(let _e=0;_e<de;_e++)xe+=yn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_e));if(this.decodeRowResult.charAt(de)!==yn.ALPHABET_STRING.charAt(xe%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,de)}if(this.decodeRowResult.length===0)throw new z;let X;this.extendedMode?X=yn.decodeExtended(this.decodeRowResult):X=this.decodeRowResult;let te=(m[1]+m[0])/2,le=T+U/2;return new se(X,null,0,[new Ve(te,s),new Ve(le,s)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let c=s.getSize(),p=s.getNextSet(0),m=0,g=p,v=!1,A=l.length;for(let T=p;T<c;T++)if(s.get(T)!==v)l[m]++;else{if(m===A-1){if(this.toNarrowWidePattern(l)===yn.ASTERISK_ENCODING&&s.isRange(Math.max(0,g-Math.floor((T-g)/2)),g,!1))return[g,T];g+=l[0]+l[1],l.copyWithin(0,2,2+m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,v=!v}throw new z}static toNarrowWidePattern(s){let l=s.length,c=0,p;do{let m=2147483647;for(let A of s)A<m&&A>c&&(m=A);c=m,p=0;let g=0,v=0;for(let A=0;A<l;A++){let T=s[A];T>c&&(v|=1<<l-1-A,p++,g+=T)}if(p===3){for(let A=0;A<l&&p>0;A++){let T=s[A];if(T>c&&(p--,T*2>=g))return-1}return v}}while(p>3);return-1}static patternToChar(s){for(let l=0;l<yn.CHARACTER_ENCODINGS.length;l++)if(yn.CHARACTER_ENCODINGS[l]===s)return yn.ALPHABET_STRING.charAt(l);if(s===yn.ASTERISK_ENCODING)return"*";throw new z}static decodeExtended(s){let l=s.length,c="";for(let p=0;p<l;p++){let m=s.charAt(p);if(m==="+"||m==="$"||m==="%"||m==="/"){let g=s.charAt(p+1),v="\0";switch(m){case"+":if(g>="A"&&g<="Z")v=String.fromCharCode(g.charCodeAt(0)+32);else throw new j;break;case"$":if(g>="A"&&g<="Z")v=String.fromCharCode(g.charCodeAt(0)-64);else throw new j;break;case"%":if(g>="A"&&g<="E")v=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")v=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")v=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")v=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")v="\0";else if(g==="V")v="@";else if(g==="W")v="`";else if(g==="X"||g==="Y"||g==="Z")v="";else throw new j;break;case"/":if(g>="A"&&g<="O")v=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")v=":";else throw new j;break}c+=v,p++}else c+=m}return c}}yn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yn.ASTERISK_ENCODING=148;class Bt extends xn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,c){let p=this.decodeStart(l),m=this.decodeEnd(l),g=new F;Bt.decodeMiddle(l,p[1],m[0],g);let v=g.toString(),A=null;c!=null&&(A=c.get(R.ALLOWED_LENGTHS)),A==null&&(A=Bt.DEFAULT_ALLOWED_LENGTHS);let T=v.length,U=!1,K=0;for(let le of A){if(T===le){U=!0;break}le>K&&(K=le)}if(!U&&T>K&&(U=!0),!U)throw new j;const X=[new Ve(p[1],s),new Ve(m[0],s)];return new se(v,null,0,X,oe.ITF,new Date().getTime())}static decodeMiddle(s,l,c,p){let m=new Int32Array(10),g=new Int32Array(5),v=new Int32Array(5);for(m.fill(0),g.fill(0),v.fill(0);l<c;){xn.recordPattern(s,l,m);for(let T=0;T<5;T++){let U=2*T;g[T]=m[U],v[T]=m[U+1]}let A=Bt.decodeDigit(g);p.append(A.toString()),A=this.decodeDigit(v),p.append(A.toString()),m.forEach(function(T){l+=T})}}decodeStart(s){let l=Bt.skipWhiteSpace(s),c=Bt.findGuardPattern(s,l,Bt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let p=l-1;c>0&&p>=0&&!s.get(p);p--)c--;if(c!==0)throw new z}static skipWhiteSpace(s){const l=s.getSize(),c=s.getNextSet(0);if(c===l)throw new z;return c}decodeEnd(s){s.reverse();try{let l=Bt.skipWhiteSpace(s),c;try{c=Bt.findGuardPattern(s,l,Bt.END_PATTERN_REVERSED[0])}catch(m){m instanceof z&&(c=Bt.findGuardPattern(s,l,Bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let p=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-p,c}finally{s.reverse()}}static findGuardPattern(s,l,c){let p=c.length,m=new Int32Array(p),g=s.getSize(),v=!1,A=0,T=l;m.fill(0);for(let U=l;U<g;U++)if(s.get(U)!==v)m[A]++;else{if(A===p-1){if(xn.patternMatchVariance(m,c,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return[T,U];T+=m[0]+m[1],N.arraycopy(m,2,m,0,A-1),m[A-1]=0,m[A]=0,A--}else A++;m[A]=1,v=!v}throw new z}static decodeDigit(s){let l=Bt.MAX_AVG_VARIANCE,c=-1,p=Bt.PATTERNS.length;for(let m=0;m<p;m++){let g=Bt.PATTERNS[m],v=xn.patternMatchVariance(s,g,Bt.MAX_INDIVIDUAL_VARIANCE);v<l?(l=v,c=m):v===l&&(c=-1)}if(c>=0)return c%10;throw new z}}Bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Bt.MAX_AVG_VARIANCE=.38,Bt.MAX_INDIVIDUAL_VARIANCE=.5,Bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Bt.START_PATTERN=Int32Array.from([1,1,1,1]),Bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class hn extends xn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,c,p=0,m=Int32Array.from([0,0,0]);for(;!l;){m=Int32Array.from([0,0,0]),c=hn.findGuardPattern(s,p,!1,this.START_END_PATTERN,m);let g=c[0];p=c[1];let v=g-(p-g);v>=0&&(l=s.isRange(v,g,!1))}return c}static checkChecksum(s){return hn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let c=parseInt(s.charAt(l-1),10);return hn.getStandardUPCEANChecksum(s.substring(0,l-1))===c}static getStandardUPCEANChecksum(s){let l=s.length,c=0;for(let p=l-1;p>=0;p-=2){let m=s.charAt(p).charCodeAt(0)-48;if(m<0||m>9)throw new j;c+=m}c*=3;for(let p=l-2;p>=0;p-=2){let m=s.charAt(p).charCodeAt(0)-48;if(m<0||m>9)throw new j;c+=m}return(1e3-c)%10}static decodeEnd(s,l){return hn.findGuardPattern(s,l,!1,hn.START_END_PATTERN,new Int32Array(hn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,c,p){return this.findGuardPattern(s,l,c,p,new Int32Array(p.length))}static findGuardPattern(s,l,c,p,m){let g=s.getSize();l=c?s.getNextUnset(l):s.getNextSet(l);let v=0,A=l,T=p.length,U=c;for(let K=l;K<g;K++)if(s.get(K)!==U)m[v]++;else{if(v===T-1){if(xn.patternMatchVariance(m,p,hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return Int32Array.from([A,K]);A+=m[0]+m[1];let X=m.slice(2,m.length-1);for(let te=0;te<v-1;te++)m[te]=X[te];m[v-1]=0,m[v]=0,v--}else v++;m[v]=1,U=!U}throw new z}static decodeDigit(s,l,c,p){this.recordPattern(s,c,l);let m=this.MAX_AVG_VARIANCE,g=-1,v=p.length;for(let A=0;A<v;A++){let T=p[A],U=xn.patternMatchVariance(l,T,hn.MAX_INDIVIDUAL_VARIANCE);U<m&&(m=U,g=A)}if(g>=0)return g;throw new z}}hn.MAX_AVG_VARIANCE=.48,hn.MAX_INDIVIDUAL_VARIANCE=.7,hn.START_END_PATTERN=Int32Array.from([1,1,1]),hn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),hn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class es{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,c){let p=this.decodeRowStringBuffer,m=this.decodeMiddle(l,c,p),g=p.toString(),v=es.parseExtensionString(g),A=[new Ve((c[0]+c[1])/2,s),new Ve(m,s)],T=new se(g,null,0,A,oe.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&T.putAllMetadata(v),T}decodeMiddle(s,l,c){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=s.getSize(),g=l[1],v=0;for(let T=0;T<5&&g<m;T++){let U=hn.decodeDigit(s,p,g,hn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+U%10);for(let K of p)g+=K;U>=10&&(v|=1<<4-T),T!==4&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(c.length!==5)throw new z;let A=this.determineCheckDigit(v);if(es.extensionChecksum(c.toString())!==A)throw new z;return g}static extensionChecksum(s){let l=s.length,c=0;for(let p=l-2;p>=0;p-=2)c+=s.charAt(p).charCodeAt(0)-48;c*=3;for(let p=l-1;p>=0;p-=2)c+=s.charAt(p).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new z}static parseExtensionString(s){if(s.length!==5)return null;let l=es.parseExtension5String(s);return l==null?null:new Map([[Q.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(s.substring(1)),p=(c/100).toString(),m=c%100,g=m<10?"0"+m:m.toString();return l+p+"."+g}}class ec{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,c){let p=this.decodeRowStringBuffer,m=this.decodeMiddle(l,c,p),g=p.toString(),v=ec.parseExtensionString(g),A=[new Ve((c[0]+c[1])/2,s),new Ve(m,s)],T=new se(g,null,0,A,oe.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&T.putAllMetadata(v),T}decodeMiddle(s,l,c){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=s.getSize(),g=l[1],v=0;for(let A=0;A<2&&g<m;A++){let T=hn.decodeDigit(s,p,g,hn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let U of p)g+=U;T>=10&&(v|=1<<1-A),A!==1&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(c.length!==2)throw new z;if(parseInt(c.toString())%4!==v)throw new z;return g}static parseExtensionString(s){return s.length!==2?null:new Map([[Q.ISSUE_NUMBER,parseInt(s)]])}}class ud{static decodeRow(s,l,c){let p=hn.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new es().decodeRow(s,l,p)}catch{return new ec().decodeRow(s,l,p)}}}ud.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class mt extends hn{constructor(){super(),this.decodeRowStringBuffer="",mt.L_AND_G_PATTERNS=mt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=mt.L_PATTERNS[s-10],c=new Int32Array(l.length);for(let p=0;p<l.length;p++)c[p]=l[l.length-p-1];mt.L_AND_G_PATTERNS[s]=c}}decodeRow(s,l,c){let p=mt.findStartGuardPattern(l),m=c==null?null:c.get(R.NEED_RESULT_POINT_CALLBACK);if(m!=null){const Oe=new Ve((p[0]+p[1])/2,s);m.foundPossibleResultPoint(Oe)}let g=this.decodeMiddle(l,p,this.decodeRowStringBuffer),v=g.rowOffset,A=g.resultString;if(m!=null){const Oe=new Ve(v,s);m.foundPossibleResultPoint(Oe)}let T=this.decodeEnd(l,v);if(m!=null){const Oe=new Ve((T[0]+T[1])/2,s);m.foundPossibleResultPoint(Oe)}let U=T[1],K=U+(U-T[0]);if(K>=l.getSize()||!l.isRange(U,K,!1))throw new z;let X=A.toString();if(X.length<8)throw new j;if(!mt.checkChecksum(X))throw new _;let te=(p[1]+p[0])/2,le=(T[1]+T[0])/2,de=this.getBarcodeFormat(),xe=[new Ve(te,s),new Ve(le,s)],_e=new se(X,null,0,xe,de,new Date().getTime()),Me=0;try{let Oe=ud.decodeRow(s,l,T[1]);_e.putMetadata(Q.UPC_EAN_EXTENSION,Oe.getText()),_e.putAllMetadata(Oe.getResultMetadata()),_e.addResultPoints(Oe.getResultPoints()),Me=Oe.getText().length}catch{}let De=c==null?null:c.get(R.ALLOWED_EAN_EXTENSIONS);if(De!=null){let Oe=!1;for(let vt in De)if(Me.toString()===vt){Oe=!0;break}if(!Oe)throw new z}return _e}decodeEnd(s,l){return mt.findGuardPattern(s,l,!1,mt.START_END_PATTERN,new Int32Array(mt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return mt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let c=parseInt(s.charAt(l-1),10);return mt.getStandardUPCEANChecksum(s.substring(0,l-1))===c}static getStandardUPCEANChecksum(s){let l=s.length,c=0;for(let p=l-1;p>=0;p-=2){let m=s.charAt(p).charCodeAt(0)-48;if(m<0||m>9)throw new j;c+=m}c*=3;for(let p=l-2;p>=0;p-=2){let m=s.charAt(p).charCodeAt(0)-48;if(m<0||m>9)throw new j;c+=m}return(1e3-c)%10}}class ra extends mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,c){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=s.getSize(),g=l[1],v=0;for(let T=0;T<6&&g<m;T++){let U=mt.decodeDigit(s,p,g,mt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+U%10);for(let K of p)g+=K;U>=10&&(v|=1<<5-T)}c=ra.determineFirstDigit(c,v),g=mt.findGuardPattern(s,g,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&g<m;T++){let U=mt.decodeDigit(s,p,g,mt.L_PATTERNS);c+=String.fromCharCode(48+U);for(let K of p)g+=K}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(s,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new z}}ra.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class tc extends mt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,c){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=s.getSize(),g=l[1];for(let A=0;A<4&&g<m;A++){let T=mt.decodeDigit(s,p,g,mt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let U of p)g+=U}g=mt.findGuardPattern(s,g,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<4&&g<m;A++){let T=mt.decodeDigit(s,p,g,mt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let U of p)g+=U}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return oe.EAN_8}}class Ta extends mt{constructor(){super(...arguments),this.ean13Reader=new ra}getBarcodeFormat(){return oe.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,c))}decodeMiddle(s,l,c){return this.ean13Reader.decodeMiddle(s,l,c)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let c=new se(l.substring(1),null,null,s.getResultPoints(),oe.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new z}reset(){this.ean13Reader.reset()}}class Kr extends mt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,c){const p=this.decodeMiddleCounters.map(T=>T);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const m=s.getSize();let g=l[1],v=0;for(let T=0;T<6&&g<m;T++){const U=Kr.decodeDigit(s,p,g,Kr.L_AND_G_PATTERNS);c+=String.fromCharCode(48+U%10);for(let K of p)g+=K;U>=10&&(v|=1<<5-T)}let A=Kr.determineNumSysAndCheckDigit(c,v);return{rowOffset:g,resultString:A}}decodeEnd(s,l){return Kr.findGuardPatternWithoutCounters(s,l,!0,Kr.MIDDLE_END_PATTERN)}checkChecksum(s){return mt.checkChecksum(Kr.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let c=0;c<=1;c++)for(let p=0;p<10;p++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][p]){let m=String.fromCharCode(48+c),g=String.fromCharCode(48+p);return m+s+g}throw z.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(m=>m.charCodeAt(0)),c=new F;c.append(s.charAt(0));let p=l[5];switch(p){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(p),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(p);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}Kr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Rs extends xn{constructor(s){super();let l=s==null?null:s.get(R.POSSIBLE_FORMATS),c=[];r(l)?(c.push(new ra),c.push(new Ta),c.push(new tc),c.push(new Kr)):(l.indexOf(oe.EAN_13)>-1&&c.push(new ra),l.indexOf(oe.UPC_A)>-1&&c.push(new Ta),l.indexOf(oe.EAN_8)>-1&&c.push(new tc),l.indexOf(oe.UPC_E)>-1&&c.push(new Kr)),this.readers=c}decodeRow(s,l,c){for(let p of this.readers)try{const m=p.decodeRow(s,l,c),g=m.getBarcodeFormat()===oe.EAN_13&&m.getText().charAt(0)==="0",v=c==null?null:c.get(R.POSSIBLE_FORMATS),A=v==null||v.includes(oe.UPC_A);if(g&&A){const T=m.getRawBytes(),U=new se(m.getText().substring(1),T,T?T.length:null,m.getResultPoints(),oe.UPC_A);return U.putAllMetadata(m.getResultMetadata()),U}return m}catch{}throw new z}reset(){for(let s of this.readers)s.reset()}}class Un extends xn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let c=0;c<l.length;c++)if(xn.patternMatchVariance(s,l[c],Un.MAX_INDIVIDUAL_VARIANCE)<Un.MAX_AVG_VARIANCE)return c;throw new z}static count(s){return lt.sum(new Int32Array(s))}static increment(s,l){let c=0,p=l[0];for(let m=1;m<s.length;m++)l[m]>p&&(p=l[m],c=m);s[c]++}static decrement(s,l){let c=0,p=l[0];for(let m=1;m<s.length;m++)l[m]<p&&(p=l[m],c=m);s[c]--}static isFinderPattern(s){let l=s[0]+s[1],c=l+s[2]+s[3],p=l/c;if(p>=Un.MIN_FINDER_PATTERN_RATIO&&p<=Un.MAX_FINDER_PATTERN_RATIO){let m=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let v of s)v>g&&(g=v),v<m&&(m=v);return g<10*m}return!1}}Un.MAX_AVG_VARIANCE=.2,Un.MAX_INDIVIDUAL_VARIANCE=.45,Un.MIN_FINDER_PATTERN_RATIO=9.5/12,Un.MAX_FINDER_PATTERN_RATIO=12.5/14;class Di{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Di))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $o{constructor(s,l,c,p,m){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Ve(c,m)),this.resultPoints.push(new Ve(p,m))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof $o))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class Yt{constructor(){}static getRSSvalue(s,l,c){let p=0;for(let A of s)p+=A;let m=0,g=0,v=s.length;for(let A=0;A<v-1;A++){let T;for(T=1,g|=1<<A;T<s[A];T++,g&=~(1<<A)){let U=Yt.combins(p-T-1,v-A-2);if(c&&g===0&&p-T-(v-A-1)>=v-A-1&&(U-=Yt.combins(p-T-(v-A),v-A-2)),v-A-1>1){let K=0;for(let X=p-T-(v-A-2);X>l;X--)K+=Yt.combins(p-T-X-1,v-A-3);U-=K*(v-1-A)}else p-T>l&&U--;m+=U}p-=T}return m}static combins(s,l){let c,p;s-l>l?(p=l,c=s-l):(p=s-l,c=l);let m=1,g=1;for(let v=s;v>c;v--)m*=v,g<=p&&(m/=g,g++);for(;g<=p;)m/=g,g++;return m}}class Xh{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let c=12*l,p=new V(c),m=0,v=s[0].getRightChar().getValue();for(let A=11;A>=0;--A)v&1<<A&&p.set(m),m++;for(let A=1;A<s.length;++A){let T=s[A],U=T.getLeftChar().getValue();for(let K=11;K>=0;--K)U&1<<K&&p.set(m),m++;if(T.getRightChar()!=null){let K=T.getRightChar().getValue();for(let X=11;X>=0;--X)K&1<<X&&p.set(m),m++}}return p}}class fi{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ts{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Er extends ts{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===Er.FNC1}}Er.FNC1="$";class ns extends ts{constructor(s,l,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class zn extends ts{constructor(s,l,c){if(super(s),l<0||l>10||c<0||c>10)throw new j;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===zn.FNC1}isAnyFNC1(){return this.firstDigit===zn.FNC1||this.secondDigit===zn.FNC1}}zn.FNC1=10;class Ue{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new z;let l=s.substring(0,2);for(let m of Ue.TWO_DIGIT_DATA_LENGTH)if(m[0]===l)return m[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(2,m[2],s):Ue.processFixedAI(2,m[1],s);if(s.length<3)throw new z;let c=s.substring(0,3);for(let m of Ue.THREE_DIGIT_DATA_LENGTH)if(m[0]===c)return m[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(3,m[2],s):Ue.processFixedAI(3,m[1],s);for(let m of Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(m[0]===c)return m[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,m[2],s):Ue.processFixedAI(4,m[1],s);if(s.length<4)throw new z;let p=s.substring(0,4);for(let m of Ue.FOUR_DIGIT_DATA_LENGTH)if(m[0]===p)return m[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,m[2],s):Ue.processFixedAI(4,m[1],s);throw new z}static processFixedAI(s,l,c){if(c.length<s)throw new z;let p=c.substring(0,s);if(c.length<s+l)throw new z;let m=c.substring(s,s+l),g=c.substring(s+l),v="("+p+")"+m,A=Ue.parseFieldsInGeneralPurpose(g);return A==null?v:v+A}static processVariableAI(s,l,c){let p=c.substring(0,s),m;c.length<s+l?m=c.length:m=s+l;let g=c.substring(s,m),v=c.substring(m),A="("+p+")"+g,T=Ue.parseFieldsInGeneralPurpose(v);return T==null?A:A+T}}Ue.VARIABLE_LENGTH=[],Ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ue.VARIABLE_LENGTH,20],["22",Ue.VARIABLE_LENGTH,29],["30",Ue.VARIABLE_LENGTH,8],["37",Ue.VARIABLE_LENGTH,8],["90",Ue.VARIABLE_LENGTH,30],["91",Ue.VARIABLE_LENGTH,30],["92",Ue.VARIABLE_LENGTH,30],["93",Ue.VARIABLE_LENGTH,30],["94",Ue.VARIABLE_LENGTH,30],["95",Ue.VARIABLE_LENGTH,30],["96",Ue.VARIABLE_LENGTH,30],["97",Ue.VARIABLE_LENGTH,3],["98",Ue.VARIABLE_LENGTH,30],["99",Ue.VARIABLE_LENGTH,30]],Ue.THREE_DIGIT_DATA_LENGTH=[["240",Ue.VARIABLE_LENGTH,30],["241",Ue.VARIABLE_LENGTH,30],["242",Ue.VARIABLE_LENGTH,6],["250",Ue.VARIABLE_LENGTH,30],["251",Ue.VARIABLE_LENGTH,30],["253",Ue.VARIABLE_LENGTH,17],["254",Ue.VARIABLE_LENGTH,20],["400",Ue.VARIABLE_LENGTH,30],["401",Ue.VARIABLE_LENGTH,30],["402",17],["403",Ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ue.VARIABLE_LENGTH,20],["421",Ue.VARIABLE_LENGTH,15],["422",3],["423",Ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ue.VARIABLE_LENGTH,15],["391",Ue.VARIABLE_LENGTH,18],["392",Ue.VARIABLE_LENGTH,15],["393",Ue.VARIABLE_LENGTH,18],["703",Ue.VARIABLE_LENGTH,30]],Ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ue.VARIABLE_LENGTH,20],["8003",Ue.VARIABLE_LENGTH,30],["8004",Ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ue.VARIABLE_LENGTH,30],["8008",Ue.VARIABLE_LENGTH,12],["8018",18],["8020",Ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ue.VARIABLE_LENGTH,70],["8200",Ue.VARIABLE_LENGTH,70]];class Ls{constructor(s){this.buffer=new F,this.information=s}decodeAllCodes(s,l){let c=l,p=null;do{let m=this.decodeGeneralPurposeField(c,p),g=Ue.parseFieldsInGeneralPurpose(m.getNewString());if(g!=null&&s.append(g),m.isRemaining()?p=""+m.getRemainingValue():p=null,c===m.getNewPosition())break;c=m.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let m=this.extractNumericValueFromBitArray(s,4);return m===0?new zn(this.information.getSize(),zn.FNC1,zn.FNC1):new zn(this.information.getSize(),m-1,zn.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),c=(l-8)/11,p=(l-8)%11;return new zn(s+7,c,p)}extractNumericValueFromBitArray(s,l){return Ls.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,c){let p=0;for(let m=0;m<c;++m)s.get(l+m)&&(p|=1<<c-m-1);return p}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new ns(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new ns(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new ns(this.current.getPosition(),this.buffer.toString()):l=new ns(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new fi(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new ns(this.current.getPosition(),this.buffer.toString());return new fi(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new ns(this.current.getPosition(),this.buffer.toString());return new fi(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new ns(this.current.getPosition(),this.buffer.toString());return new fi(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(s,8);return p>=232&&p<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Er(s+5,Er.FNC1);if(l>=5&&l<15)return new Er(s+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Er(s+7,""+(c+1));if(c>=90&&c<116)return new Er(s+7,""+(c+7));let p=this.extractNumericValueFromBitArray(s,8),m;switch(p){case 232:m="!";break;case 233:m='"';break;case 234:m="%";break;case 235:m="&";break;case 236:m="'";break;case 237:m="(";break;case 238:m=")";break;case 239:m="*";break;case 240:m="+";break;case 241:m=",";break;case 242:m="-";break;case 243:m=".";break;case 244:m="/";break;case 245:m=":";break;case 246:m=";";break;case 247:m="<";break;case 248:m="=";break;case 249:m=">";break;case 250:m="?";break;case 251:m="_";break;case 252:m=" ";break;default:throw new j}return new Er(s+8,m)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Er(s+5,Er.FNC1);if(l>=5&&l<15)return new Er(s+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Er(s+6,""+(c+33));let p;switch(c){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new He("Decoding invalid alphanumeric value: "+c)}return new Er(s+6,p)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class Bs{constructor(s){this.information=s,this.generalDecoder=new Ls(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class fr extends Bs{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,c)}encodeCompressedGtinWithoutAI(s,l,c){for(let p=0;p<4;++p){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*p,10);m/100===0&&s.append("0"),m/10===0&&s.append("0"),s.append(m)}fr.appendCheckDigit(s,c)}static appendCheckDigit(s,l){let c=0;for(let p=0;p<13;p++){let m=s.charAt(p+l).charCodeAt(0)-48;c+=p&1?m:3*m}c=10-c%10,c===10&&(c=0),s.append(c)}}fr.GTIN_SIZE=40;class Ca extends fr{constructor(s){super(s)}parseInformation(){let s=new F;s.append("(01)");let l=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Ca.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Ca.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,Ca.HEADER_SIZE+44)}}Ca.HEADER_SIZE=4;class rs extends Bs{constructor(s){super(s)}parseInformation(){let s=new F;return this.getGeneralDecoder().decodeAllCodes(s,rs.HEADER_SIZE)}}rs.HEADER_SIZE=5;class hi extends fr{constructor(s){super(s)}encodeCompressedWeight(s,l,c){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(s,p);let m=this.checkWeight(p),g=1e5;for(let v=0;v<5;++v)m/g===0&&s.append("0"),g/=10;s.append(m)}}class pi extends hi{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=pi.HEADER_SIZE+hi.GTIN_SIZE+pi.WEIGHT_SIZE)throw new z;let s=new F;return this.encodeCompressedGtin(s,pi.HEADER_SIZE),this.encodeCompressedWeight(s,pi.HEADER_SIZE+hi.GTIN_SIZE,pi.WEIGHT_SIZE),s.toString()}}pi.HEADER_SIZE=5,pi.WEIGHT_SIZE=15;class Yh extends pi{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class dd extends pi{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Xr extends fr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Xr.HEADER_SIZE+fr.GTIN_SIZE)throw new z;let s=new F;this.encodeCompressedGtin(s,Xr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Xr.HEADER_SIZE+fr.GTIN_SIZE,Xr.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Xr.HEADER_SIZE+fr.GTIN_SIZE+Xr.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Xr.HEADER_SIZE=8,Xr.LAST_DIGIT_SIZE=2;class ir extends fr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ir.HEADER_SIZE+fr.GTIN_SIZE)throw new z;let s=new F;this.encodeCompressedGtin(s,ir.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ir.HEADER_SIZE+fr.GTIN_SIZE,ir.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ir.HEADER_SIZE+fr.GTIN_SIZE+ir.LAST_DIGIT_SIZE,ir.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let p=this.getGeneralDecoder().decodeGeneralPurposeField(ir.HEADER_SIZE+fr.GTIN_SIZE+ir.LAST_DIGIT_SIZE+ir.FIRST_THREE_DIGITS_SIZE,null);return s.append(p.getNewString()),s.toString()}}ir.HEADER_SIZE=8,ir.LAST_DIGIT_SIZE=2,ir.FIRST_THREE_DIGITS_SIZE=10;class Gt extends hi{constructor(s,l,c){super(s),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE+Gt.DATE_SIZE)throw new z;let s=new F;return this.encodeCompressedGtin(s,Gt.HEADER_SIZE),this.encodeCompressedWeight(s,Gt.HEADER_SIZE+Gt.GTIN_SIZE,Gt.WEIGHT_SIZE),this.encodeCompressedDate(s,Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Gt.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let p=c%32;c/=32;let m=c%12+1;c/=12;let g=c;g/10==0&&s.append("0"),s.append(g),m/10==0&&s.append("0"),s.append(m),p/10==0&&s.append("0"),s.append(p)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}Gt.HEADER_SIZE=8,Gt.WEIGHT_SIZE=20,Gt.DATE_SIZE=16;function Qh(G){try{if(G.get(1))return new Ca(G);if(!G.get(2))return new rs(G);switch(Ls.extractNumericValueFromBitArray(G,1,4)){case 4:return new Yh(G);case 5:return new dd(G)}switch(Ls.extractNumericValueFromBitArray(G,1,5)){case 12:return new Xr(G);case 13:return new ir(G)}switch(Ls.extractNumericValueFromBitArray(G,1,7)){case 56:return new Gt(G,"310","11");case 57:return new Gt(G,"320","11");case 58:return new Gt(G,"310","13");case 59:return new Gt(G,"320","13");case 60:return new Gt(G,"310","15");case 61:return new Gt(G,"320","15");case 62:return new Gt(G,"310","17");case 63:return new Gt(G,"320","17")}}catch(s){throw console.log(s),new He("unknown decoder: "+G)}}class mi{constructor(s,l,c,p){this.leftchar=s,this.rightchar=l,this.finderpattern=c,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof mi?mi.equalsOrNull(s.leftchar,l.leftchar)&&mi.equalsOrNull(s.rightchar,l.rightchar)&&mi.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:mi.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class nc{constructor(s,l,c){this.pairs=s,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof nc?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let c;return s.forEach((p,m)=>{l.forEach(g=>{p.getLeftChar().getValue()===g.getLeftChar().getValue()&&p.getRightChar().getValue()===g.getRightChar().getValue()&&p.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ie extends Un{constructor(s){super(...arguments),this.pairs=new Array(Ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,c){this.pairs.length=0,this.startFromEven=!1;try{return Ie.constructResult(this.decodeRow2pairs(s,l))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,Ie.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(m){if(m instanceof z){if(!this.pairs.length)throw new z;c=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(s,!1),p){let m=this.checkRowsBoolean(!1);if(m!=null||(m=this.checkRowsBoolean(!0),m!=null))return m}throw new z}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let c=l;c<this.rows.length;c++){let p=this.rows[c];this.pairs.length=0;for(let g of s)this.pairs.push(g.getPairs());if(this.pairs.push(p.getPairs()),!Ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let m=new Array(s);m.push(p);try{return this.checkRows(m,c+1)}catch(g){this.verbose&&console.log(g)}}throw new z}static isValidSequence(s){for(let l of Ie.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let c=!0;for(let p=0;p<s.length;p++)if(s[p].getFinderPattern().getValue()!=l[p]){c=!1;break}if(c)return!0}return!1}storeRow(s,l){let c=0,p=!1,m=!1;for(;c<this.rows.length;){let g=this.rows[c];if(g.getRowNumber()>s){m=g.isEquivalent(this.pairs);break}p=g.isEquivalent(this.pairs),c++}m||p||Ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new nc(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let c of l)if(c.getPairs().length!==s.length){for(let p of c.getPairs())for(let m of s)if(mi.equals(p,m))break}}static isPartialRow(s,l){for(let c of l){let p=!0;for(let m of s){let g=!1;for(let v of c.getPairs())if(m.equals(v)){g=!0;break}if(!g){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=Xh.buildBitArray(s),p=Qh(l).parseInformation(),m=s[0].getFinderPattern().getResultPoints(),g=s[s.length-1].getFinderPattern().getResultPoints(),v=[m[0],m[1],g[0],g[1]];return new se(p,null,null,v,oe.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let p=c.getChecksumPortion(),m=2;for(let v=1;v<this.pairs.size();++v){let A=this.pairs.get(v);p+=A.getLeftChar().getChecksumPortion(),m++;let T=A.getRightChar();T!=null&&(p+=T.getChecksumPortion(),m++)}return p%=211,211*(m-4)+p==l.getValue()}static getNextSecondBar(s,l){let c;return s.get(l)?(c=s.getNextUnset(l),c=s.getNextSet(c)):(c=s.getNextSet(l),c=s.getNextUnset(c)),c}retrieveNextPair(s,l,c){let p=l.length%2==0;this.startFromEven&&(p=!p);let m,g=!0,v=-1;do this.findNextPair(s,l,v),m=this.parseFoundFinderPattern(s,c,p),m==null?v=Ie.getNextSecondBar(s,this.startEnd[0]):g=!1;while(g);let A=this.decodeDataCharacter(s,m,p,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new z;let T;try{T=this.decodeDataCharacter(s,m,p,!1)}catch(U){T=null,this.verbose&&console.log(U)}return new mi(A,T,m,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,c){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=s.getSize(),g;c>=0?g=c:this.isEmptyPair(l)?g=0:g=l[l.length-1].getFinderPattern().getStartEnd()[1];let v=l.length%2!=0;this.startFromEven&&(v=!v);let A=!1;for(;g<m&&(A=!s.get(g),!!A);)g++;let T=0,U=g;for(let K=g;K<m;K++)if(s.get(K)!=A)p[T]++;else{if(T==3){if(v&&Ie.reverseCounters(p),Ie.isFinderPattern(p)){this.startEnd[0]=U,this.startEnd[1]=K;return}v&&Ie.reverseCounters(p),U+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,T--}else T++;p[T]=1,A=!A}throw new z}static reverseCounters(s){let l=s.length;for(let c=0;c<l/2;++c){let p=s[c];s[c]=s[l-c-1],s[l-c-1]=p}}parseFoundFinderPattern(s,l,c){let p,m,g;if(c){let T=this.startEnd[0]-1;for(;T>=0&&!s.get(T);)T--;T++,p=this.startEnd[0]-T,m=T,g=this.startEnd[1]}else m=this.startEnd[0],g=s.getNextUnset(this.startEnd[1]+1),p=g-this.startEnd[1];let v=this.getDecodeFinderCounters();N.arraycopy(v,0,v,1,v.length-1),v[0]=p;let A;try{A=this.parseFinderValue(v,Ie.FINDER_PATTERNS)}catch{return null}return new $o(A,[m,g],m,g,l)}decodeDataCharacter(s,l,c,p){let m=this.getDataCharacterCounters();for(let Kt=0;Kt<m.length;Kt++)m[Kt]=0;if(p)Ie.recordPatternInReverse(s,l.getStartEnd()[0],m);else{Ie.recordPattern(s,l.getStartEnd()[1],m);for(let Kt=0,pr=m.length-1;Kt<pr;Kt++,pr--){let yi=m[Kt];m[Kt]=m[pr],m[pr]=yi}}let g=17,v=lt.sum(new Int32Array(m))/g,A=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(v-A)/A>.3)throw new z;let T=this.getOddCounts(),U=this.getEvenCounts(),K=this.getOddRoundingErrors(),X=this.getEvenRoundingErrors();for(let Kt=0;Kt<m.length;Kt++){let pr=1*m[Kt]/v,yi=pr+.5;if(yi<1){if(pr<.3)throw new z;yi=1}else if(yi>8){if(pr>8.7)throw new z;yi=8}let sc=Kt/2;Kt&1?(U[sc]=yi,X[sc]=pr-yi):(T[sc]=yi,K[sc]=pr-yi)}this.adjustOddEvenCounts(g);let te=4*l.getValue()+(c?0:2)+(p?0:1)-1,le=0,de=0;for(let Kt=T.length-1;Kt>=0;Kt--){if(Ie.isNotA1left(l,c,p)){let pr=Ie.WEIGHTS[te][2*Kt];de+=T[Kt]*pr}le+=T[Kt]}let xe=0;for(let Kt=U.length-1;Kt>=0;Kt--)if(Ie.isNotA1left(l,c,p)){let pr=Ie.WEIGHTS[te][2*Kt+1];xe+=U[Kt]*pr}let _e=de+xe;if(le&1||le>13||le<4)throw new z;let Me=(13-le)/2,De=Ie.SYMBOL_WIDEST[Me],Oe=9-De,vt=Yt.getRSSvalue(T,De,!0),ut=Yt.getRSSvalue(U,Oe,!1),Zr=Ie.EVEN_TOTAL_SUBSET[Me],oa=Ie.GSUM[Me],Jr=vt*Zr+ut+oa;return new Di(Jr,_e)}static isNotA1left(s,l,c){return!(s.getValue()==0&&l&&c)}adjustOddEvenCounts(s){let l=lt.sum(new Int32Array(this.getOddCounts())),c=lt.sum(new Int32Array(this.getEvenCounts())),p=!1,m=!1;l>13?m=!0:l<4&&(p=!0);let g=!1,v=!1;c>13?v=!0:c<4&&(g=!0);let A=l+c-s,T=(l&1)==1,U=(c&1)==0;if(A==1)if(T){if(U)throw new z;m=!0}else{if(!U)throw new z;v=!0}else if(A==-1)if(T){if(U)throw new z;p=!0}else{if(!U)throw new z;g=!0}else if(A==0){if(T){if(!U)throw new z;l<c?(p=!0,v=!0):(m=!0,g=!0)}else if(U)throw new z}else throw new z;if(p){if(m)throw new z;Ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(v)throw new z;Ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ie.SYMBOL_WIDEST=[7,5,4,3,1],Ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ie.GSUM=[0,348,1388,2948,3988],Ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ie.FINDER_PAT_A=0,Ie.FINDER_PAT_B=1,Ie.FINDER_PAT_C=2,Ie.FINDER_PAT_D=3,Ie.FINDER_PAT_E=4,Ie.FINDER_PAT_F=5,Ie.FINDER_PATTERN_SEQUENCES=[[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_C,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_C],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F]],Ie.MAX_PAIRS=11;class Vo extends Di{constructor(s,l,c){super(s,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mt extends Un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,c){const p=this.decodePair(l,!1,s,c);Mt.addOrTally(this.possibleLeftPairs,p),l.reverse();let m=this.decodePair(l,!0,s,c);Mt.addOrTally(this.possibleRightPairs,m),l.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&Mt.checkChecksum(g,v))return Mt.constructResult(g,v)}throw new z}static addOrTally(s,l){if(l==null)return;let c=!1;for(let p of s)if(p.getValue()===l.getValue()){p.incrementCount(),c=!0;break}c||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let c=4537077*s.getValue()+l.getValue(),p=new String(c).toString(),m=new F;for(let T=13-p.length;T>0;T--)m.append("0");m.append(p);let g=0;for(let T=0;T<13;T++){let U=m.charAt(T).charCodeAt(0)-48;g+=T&1?U:3*U}g=10-g%10,g===10&&(g=0),m.append(g.toString());let v=s.getFinderPattern().getResultPoints(),A=l.getFinderPattern().getResultPoints();return new se(m.toString(),null,0,[v[0],v[1],A[0],A[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(s,l){let c=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,p=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,c===p}decodePair(s,l,c,p){try{let m=this.findFinderPattern(s,l),g=this.parseFoundFinderPattern(s,c,l,m),v=p==null?null:p.get(R.NEED_RESULT_POINT_CALLBACK);if(v!=null){let U=(m[0]+m[1])/2;l&&(U=s.getSize()-1-U),v.foundPossibleResultPoint(new Ve(U,c))}let A=this.decodeDataCharacter(s,g,!0),T=this.decodeDataCharacter(s,g,!1);return new Vo(1597*A.getValue()+T.getValue(),A.getChecksumPortion()+4*T.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(s,l,c){let p=this.getDataCharacterCounters();for(let xe=0;xe<p.length;xe++)p[xe]=0;if(c)xn.recordPatternInReverse(s,l.getStartEnd()[0],p);else{xn.recordPattern(s,l.getStartEnd()[1]+1,p);for(let xe=0,_e=p.length-1;xe<_e;xe++,_e--){let Me=p[xe];p[xe]=p[_e],p[_e]=Me}}let m=c?16:15,g=lt.sum(new Int32Array(p))/m,v=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),U=this.getEvenRoundingErrors();for(let xe=0;xe<p.length;xe++){let _e=p[xe]/g,Me=Math.floor(_e+.5);Me<1?Me=1:Me>8&&(Me=8);let De=Math.floor(xe/2);xe&1?(A[De]=Me,U[De]=_e-Me):(v[De]=Me,T[De]=_e-Me)}this.adjustOddEvenCounts(c,m);let K=0,X=0;for(let xe=v.length-1;xe>=0;xe--)X*=9,X+=v[xe],K+=v[xe];let te=0,le=0;for(let xe=A.length-1;xe>=0;xe--)te*=9,te+=A[xe],le+=A[xe];let de=X+3*te;if(c){if(K&1||K>12||K<4)throw new z;let xe=(12-K)/2,_e=Mt.OUTSIDE_ODD_WIDEST[xe],Me=9-_e,De=Yt.getRSSvalue(v,_e,!1),Oe=Yt.getRSSvalue(A,Me,!0),vt=Mt.OUTSIDE_EVEN_TOTAL_SUBSET[xe],ut=Mt.OUTSIDE_GSUM[xe];return new Di(De*vt+Oe+ut,de)}else{if(le&1||le>10||le<4)throw new z;let xe=(10-le)/2,_e=Mt.INSIDE_ODD_WIDEST[xe],Me=9-_e,De=Yt.getRSSvalue(v,_e,!0),Oe=Yt.getRSSvalue(A,Me,!1),vt=Mt.INSIDE_ODD_TOTAL_SUBSET[xe],ut=Mt.INSIDE_GSUM[xe];return new Di(Oe*vt+De+ut,de)}}findFinderPattern(s,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let p=s.getSize(),m=!1,g=0;for(;g<p&&(m=!s.get(g),l!==m);)g++;let v=0,A=g;for(let T=g;T<p;T++)if(s.get(T)!==m)c[v]++;else{if(v===3){if(Un.isFinderPattern(c))return[A,T];A+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,v--}else v++;c[v]=1,m=!m}throw new z}parseFoundFinderPattern(s,l,c,p){let m=s.get(p[0]),g=p[0]-1;for(;g>=0&&m!==s.get(g);)g--;g++;const v=p[0]-g,A=this.getDecodeFinderCounters(),T=new Int32Array(A.length);N.arraycopy(A,0,T,1,A.length-1),T[0]=v;const U=this.parseFinderValue(T,Mt.FINDER_PATTERNS);let K=g,X=p[1];return c&&(K=s.getSize()-1-K,X=s.getSize()-1-X),new $o(U,[g,p[1]],K,X,l)}adjustOddEvenCounts(s,l){let c=lt.sum(new Int32Array(this.getOddCounts())),p=lt.sum(new Int32Array(this.getEvenCounts())),m=!1,g=!1,v=!1,A=!1;s?(c>12?g=!0:c<4&&(m=!0),p>12?A=!0:p<4&&(v=!0)):(c>11?g=!0:c<5&&(m=!0),p>10?A=!0:p<4&&(v=!0));let T=c+p-l,U=(c&1)===(s?1:0),K=(p&1)===1;if(T===1)if(U){if(K)throw new z;g=!0}else{if(!K)throw new z;A=!0}else if(T===-1)if(U){if(K)throw new z;m=!0}else{if(!K)throw new z;v=!0}else if(T===0){if(U){if(!K)throw new z;c<p?(m=!0,A=!0):(g=!0,v=!0)}else if(K)throw new z}else throw new z;if(m){if(g)throw new z;Un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(A)throw new z;Un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mt.OUTSIDE_GSUM=[0,161,961,2015,2715],Mt.INSIDE_GSUM=[0,336,1036,1516],Mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mt.INSIDE_ODD_WIDEST=[2,4,6,8],Mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Na extends xn{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const c=s?s.get(R.POSSIBLE_FORMATS):null,p=s&&s.get(R.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(oe.EAN_13)||c.includes(oe.UPC_A)||c.includes(oe.EAN_8)||c.includes(oe.UPC_E))&&this.readers.push(new Rs(s)),c.includes(oe.CODE_39)&&this.readers.push(new yn(p)),c.includes(oe.CODE_128)&&this.readers.push(new Be),c.includes(oe.ITF)&&this.readers.push(new Bt),c.includes(oe.RSS_14)&&this.readers.push(new Mt),c.includes(oe.RSS_EXPANDED)&&this.readers.push(new Ie(this.verbose))):(this.readers.push(new Rs(s)),this.readers.push(new yn),this.readers.push(new Rs(s)),this.readers.push(new Be),this.readers.push(new Bt),this.readers.push(new Mt),this.readers.push(new Ie(this.verbose)))}decodeRow(s,l,c){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(s,l,c)}catch{}throw new z}reset(){this.readers.forEach(s=>s.reset())}}class Ng extends pe{constructor(s=500,l){super(new Na(l),s,l)}}class Tt{constructor(s,l,c){this.ecCodewords=s,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class At{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(s,l,c,p,m,g){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=m,this.ecBlocks=g;let v=0;const A=g.getECCodewords(),T=g.getECBlocks();for(let U of T)v+=U.getCount()*(U.getDataCodewords()+A);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if(s&1||l&1)throw new j;for(let c of ht.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===l)return c;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new Tt(5,new At(1,3))),new ht(2,12,12,10,10,new Tt(7,new At(1,5))),new ht(3,14,14,12,12,new Tt(10,new At(1,8))),new ht(4,16,16,14,14,new Tt(12,new At(1,12))),new ht(5,18,18,16,16,new Tt(14,new At(1,18))),new ht(6,20,20,18,18,new Tt(18,new At(1,22))),new ht(7,22,22,20,20,new Tt(20,new At(1,30))),new ht(8,24,24,22,22,new Tt(24,new At(1,36))),new ht(9,26,26,24,24,new Tt(28,new At(1,44))),new ht(10,32,32,14,14,new Tt(36,new At(1,62))),new ht(11,36,36,16,16,new Tt(42,new At(1,86))),new ht(12,40,40,18,18,new Tt(48,new At(1,114))),new ht(13,44,44,20,20,new Tt(56,new At(1,144))),new ht(14,48,48,22,22,new Tt(68,new At(1,174))),new ht(15,52,52,24,24,new Tt(42,new At(2,102))),new ht(16,64,64,14,14,new Tt(56,new At(2,140))),new ht(17,72,72,16,16,new Tt(36,new At(4,92))),new ht(18,80,80,18,18,new Tt(48,new At(4,114))),new ht(19,88,88,20,20,new Tt(56,new At(4,144))),new ht(20,96,96,22,22,new Tt(68,new At(4,174))),new ht(21,104,104,24,24,new Tt(56,new At(6,136))),new ht(22,120,120,18,18,new Tt(68,new At(6,175))),new ht(23,132,132,20,20,new Tt(62,new At(8,163))),new ht(24,144,144,22,22,new Tt(62,new At(8,156),new At(2,155))),new ht(25,8,18,6,16,new Tt(7,new At(1,5))),new ht(26,8,32,6,14,new Tt(11,new At(1,10))),new ht(27,12,26,10,24,new Tt(14,new At(1,16))),new ht(28,12,36,10,16,new Tt(18,new At(1,22))),new ht(29,16,36,14,16,new Tt(24,new At(1,32))),new ht(30,16,48,14,22,new Tt(28,new At(1,49)))]}}ht.VERSIONS=ht.buildVersions();class Uo{constructor(s){const l=s.getHeight();if(l<8||l>144||l&1)throw new j;this.version=Uo.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new H(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),c=s.getWidth();return ht.getVersionForDimensions(l,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,p=0;const m=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let v=!1,A=!1,T=!1,U=!1;do if(c===m&&p===0&&!v)s[l++]=this.readCorner1(m,g)&255,c-=2,p+=2,v=!0;else if(c===m-2&&p===0&&g&3&&!A)s[l++]=this.readCorner2(m,g)&255,c-=2,p+=2,A=!0;else if(c===m+4&&p===2&&!(g&7)&&!T)s[l++]=this.readCorner3(m,g)&255,c-=2,p+=2,T=!0;else if(c===m-2&&p===0&&(g&7)===4&&!U)s[l++]=this.readCorner4(m,g)&255,c-=2,p+=2,U=!0;else{do c<m&&p>=0&&!this.readMappingMatrix.get(p,c)&&(s[l++]=this.readUtah(c,p,m,g)&255),c-=2,p+=2;while(c>=0&&p<g);c+=1,p+=3;do c>=0&&p<g&&!this.readMappingMatrix.get(p,c)&&(s[l++]=this.readUtah(c,p,m,g)&255),c+=2,p-=2;while(c<m&&p>=0);c+=3,p+=1}while(c<m||p<g);if(l!==this.version.getTotalCodewords())throw new j;return s}readModule(s,l,c,p){return s<0&&(s+=c,l+=4-(c+4&7)),l<0&&(l+=p,s+=4-(p+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,c,p){let m=0;return this.readModule(s-2,l-2,c,p)&&(m|=1),m<<=1,this.readModule(s-2,l-1,c,p)&&(m|=1),m<<=1,this.readModule(s-1,l-2,c,p)&&(m|=1),m<<=1,this.readModule(s-1,l-1,c,p)&&(m|=1),m<<=1,this.readModule(s-1,l,c,p)&&(m|=1),m<<=1,this.readModule(s,l-2,c,p)&&(m|=1),m<<=1,this.readModule(s,l-1,c,p)&&(m|=1),m<<=1,this.readModule(s,l,c,p)&&(m|=1),m}readCorner1(s,l){let c=0;return this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,1,s,l)&&(c|=1),c<<=1,this.readModule(s-1,2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(2,l-1,s,l)&&(c|=1),c<<=1,this.readModule(3,l-1,s,l)&&(c|=1),c}readCorner2(s,l){let c=0;return this.readModule(s-3,0,s,l)&&(c|=1),c<<=1,this.readModule(s-2,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(0,l-4,s,l)&&(c|=1),c<<=1,this.readModule(0,l-3,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c}readCorner3(s,l){let c=0;return this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(0,l-3,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-3,s,l)&&(c|=1),c<<=1,this.readModule(1,l-2,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c}readCorner4(s,l){let c=0;return this.readModule(s-3,0,s,l)&&(c|=1),c<<=1,this.readModule(s-2,0,s,l)&&(c|=1),c<<=1,this.readModule(s-1,0,s,l)&&(c|=1),c<<=1,this.readModule(0,l-2,s,l)&&(c|=1),c<<=1,this.readModule(0,l-1,s,l)&&(c|=1),c<<=1,this.readModule(1,l-1,s,l)&&(c|=1),c<<=1,this.readModule(2,l-1,s,l)&&(c|=1),c<<=1,this.readModule(3,l-1,s,l)&&(c|=1),c}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new y("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),m=this.version.getDataRegionSizeColumns(),g=l/p|0,v=c/m|0,A=g*p,T=v*m,U=new H(T,A);for(let K=0;K<g;++K){const X=K*p;for(let te=0;te<v;++te){const le=te*m;for(let de=0;de<p;++de){const xe=K*(p+2)+1+de,_e=X+de;for(let Me=0;Me<m;++Me){const De=te*(m+2)+1+Me;if(s.get(De,xe)){const Oe=le+Me;U.set(Oe,_e)}}}}}return U}}class zo{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const c=l.getECBlocks();let p=0;const m=c.getECBlocks();for(let de of m)p+=de.getCount();const g=new Array(p);let v=0;for(let de of m)for(let xe=0;xe<de.getCount();xe++){const _e=de.getDataCodewords(),Me=c.getECCodewords()+_e;g[v++]=new zo(_e,new Uint8Array(Me))}const T=g[0].codewords.length-c.getECCodewords(),U=T-1;let K=0;for(let de=0;de<U;de++)for(let xe=0;xe<v;xe++)g[xe].codewords[de]=s[K++];const X=l.getVersionNumber()===24,te=X?8:v;for(let de=0;de<te;de++)g[de].codewords[T-1]=s[K++];const le=g[0].codewords.length;for(let de=T;de<le;de++)for(let xe=0;xe<v;xe++){const _e=X?(xe+8)%v:xe,Me=X&&_e>7?de-1:de;g[_e].codewords[Me]=s[K++]}if(K!==s.length)throw new y;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class rc{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new y(""+s);let l=0,c=this.bitOffset,p=this.byteOffset;const m=this.bytes;if(c>0){const g=8-c,v=s<g?s:g,A=g-v,T=255>>8-v<<A;l=(m[p]&T)>>A,s-=v,c+=v,c===8&&(c=0,p++)}if(s>0){for(;s>=8;)l=l<<8|m[p]&255,p++,s-=8;if(s>0){const g=8-s,v=255>>g<<g;l=l<<s|(m[p]&v)>>g,c+=s}}return this.bitOffset=c,this.byteOffset=p,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Sn;(function(G){G[G.PAD_ENCODE=0]="PAD_ENCODE",G[G.ASCII_ENCODE=1]="ASCII_ENCODE",G[G.C40_ENCODE=2]="C40_ENCODE",G[G.TEXT_ENCODE=3]="TEXT_ENCODE",G[G.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",G[G.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",G[G.BASE256_ENCODE=6]="BASE256_ENCODE"})(Sn||(Sn={}));class Ia{static decode(s){const l=new rc(s),c=new F,p=new F,m=new Array;let g=Sn.ASCII_ENCODE;do if(g===Sn.ASCII_ENCODE)g=this.decodeAsciiSegment(l,c,p);else{switch(g){case Sn.C40_ENCODE:this.decodeC40Segment(l,c);break;case Sn.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case Sn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case Sn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case Sn.BASE256_ENCODE:this.decodeBase256Segment(l,c,m);break;default:throw new j}g=Sn.ASCII_ENCODE}while(g!==Sn.PAD_ENCODE&&l.available()>0);return p.length()>0&&c.append(p.toString()),new fe(s,c.toString(),m.length===0?null:m,null)}static decodeAsciiSegment(s,l,c){let p=!1;do{let m=s.readBits(8);if(m===0)throw new j;if(m<=128)return p&&(m+=128),l.append(String.fromCharCode(m-1)),Sn.ASCII_ENCODE;if(m===129)return Sn.PAD_ENCODE;if(m<=229){const g=m-130;g<10&&l.append("0"),l.append(""+g)}else switch(m){case 230:return Sn.C40_ENCODE;case 231:return Sn.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return Sn.ANSIX12_ENCODE;case 239:return Sn.TEXT_ENCODE;case 240:return Sn.EDIFACT_ENCODE;case 241:break;default:if(m!==254||s.available()!==0)throw new j;break}}while(s.available()>0);return Sn.ASCII_ENCODE}static decodeC40Segment(s,l){let c=!1;const p=[];let m=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),p);for(let v=0;v<3;v++){const A=p[v];switch(m){case 0:if(A<3)m=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[A];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else throw new j;break;case 1:c?(l.append(String.fromCharCode(A+128)),c=!1):l.append(String.fromCharCode(A)),m=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[A];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else switch(A){case 27:l.append("");break;case 30:c=!0;break;default:throw new j}m=0;break;case 3:c?(l.append(String.fromCharCode(A+224)),c=!1):l.append(String.fromCharCode(A+96)),m=0;break;default:throw new j}}}while(s.available()>0)}static decodeTextSegment(s,l){let c=!1,p=[],m=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),p);for(let v=0;v<3;v++){const A=p[v];switch(m){case 0:if(A<3)m=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[A];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else throw new j;break;case 1:c?(l.append(String.fromCharCode(A+128)),c=!1):l.append(String.fromCharCode(A)),m=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[A];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else switch(A){case 27:l.append("");break;case 30:c=!0;break;default:throw new j}m=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[A];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T),m=0}else throw new j;break;default:throw new j}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const c=[];do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),c);for(let m=0;m<3;m++){const g=c[m];switch(g){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(g<14)l.append(String.fromCharCode(g+44));else if(g<40)l.append(String.fromCharCode(g+51));else throw new j;break}}}while(s.available()>0)}static parseTwoBytes(s,l,c){let p=(s<<8)+l-1,m=Math.floor(p/1600);c[0]=m,p-=m*1600,m=Math.floor(p/40),c[1]=m,c[2]=p-m*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let p=s.readBits(6);if(p===31){const m=8-s.getBitOffset();m!==8&&s.readBits(m);return}p&32||(p|=64),l.append(String.fromCharCode(p))}}while(s.available()>0)}static decodeBase256Segment(s,l,c){let p=1+s.getByteOffset();const m=this.unrandomize255State(s.readBits(8),p++);let g;if(m===0?g=s.available()/8|0:m<250?g=m:g=250*(m-249)+this.unrandomize255State(s.readBits(8),p++),g<0)throw new j;const v=new Uint8Array(g);for(let A=0;A<g;A++){if(s.available()<8)throw new j;v[A]=this.unrandomize255State(s.readBits(8),p++)}c.push(v);try{l.append(O.decode(v,$.ISO88591))}catch(A){throw new He("Platform does not support required encoding: "+A.message)}}static unrandomize255State(s,l){const c=149*l%255+1,p=s-c;return p>=0?p:p+256}}Ia.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ia.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ia.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ia.TEXT_SHIFT2_SET_CHARS=Ia.C40_SHIFT2_SET_CHARS,Ia.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ig{constructor(){this.rsDecoder=new xt(Ce.DATA_MATRIX_FIELD_256)}decode(s){const l=new Uo(s),c=l.getVersion(),p=l.readCodewords(),m=zo.getDataBlocks(p,c);let g=0;for(let T of m)g+=T.getNumDataCodewords();const v=new Uint8Array(g),A=m.length;for(let T=0;T<A;T++){const U=m[T],K=U.getCodewords(),X=U.getNumDataCodewords();this.correctErrors(K,X);for(let te=0;te<X;te++)v[te*A+T]=K[te]}return Ia.decode(v)}correctErrors(s,l){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-l)}catch{throw new _}for(let p=0;p<l;p++)s[p]=c[p]}}class pn{constructor(s){this.image=s,this.rectangleDetector=new _r(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new z;l=this.shiftToModuleCenter(l);const c=l[0],p=l[1],m=l[2],g=l[3];let v=this.transitionsBetween(c,g)+1,A=this.transitionsBetween(m,g)+1;(v&1)===1&&(v+=1),(A&1)===1&&(A+=1),4*v<7*A&&4*A<7*v&&(v=A=Math.max(v,A));let T=pn.sampleGrid(this.image,c,p,m,g,v,A);return new Gr(T,[c,p,m,g])}static shiftPoint(s,l,c){let p=(l.getX()-s.getX())/(c+1),m=(l.getY()-s.getY())/(c+1);return new Ve(s.getX()+p,s.getY()+m)}static moveAway(s,l,c){let p=s.getX(),m=s.getY();return p<l?p-=1:p+=1,m<c?m-=1:m+=1,new Ve(p,m)}detectSolid1(s){let l=s[0],c=s[1],p=s[3],m=s[2],g=this.transitionsBetween(l,c),v=this.transitionsBetween(c,p),A=this.transitionsBetween(p,m),T=this.transitionsBetween(m,l),U=g,K=[m,l,c,p];return U>v&&(U=v,K[0]=l,K[1]=c,K[2]=p,K[3]=m),U>A&&(U=A,K[0]=c,K[1]=p,K[2]=m,K[3]=l),U>T&&(K[0]=p,K[1]=m,K[2]=l,K[3]=c),K}detectSolid2(s){let l=s[0],c=s[1],p=s[2],m=s[3],g=this.transitionsBetween(l,m),v=pn.shiftPoint(c,p,(g+1)*4),A=pn.shiftPoint(p,c,(g+1)*4),T=this.transitionsBetween(v,l),U=this.transitionsBetween(A,m);return T<U?(s[0]=l,s[1]=c,s[2]=p,s[3]=m):(s[0]=c,s[1]=p,s[2]=m,s[3]=l),s}correctTopRight(s){let l=s[0],c=s[1],p=s[2],m=s[3],g=this.transitionsBetween(l,m),v=this.transitionsBetween(c,m),A=pn.shiftPoint(l,c,(v+1)*4),T=pn.shiftPoint(p,c,(g+1)*4);g=this.transitionsBetween(A,m),v=this.transitionsBetween(T,m);let U=new Ve(m.getX()+(p.getX()-c.getX())/(g+1),m.getY()+(p.getY()-c.getY())/(g+1)),K=new Ve(m.getX()+(l.getX()-c.getX())/(v+1),m.getY()+(l.getY()-c.getY())/(v+1));if(!this.isValid(U))return this.isValid(K)?K:null;if(!this.isValid(K))return U;let X=this.transitionsBetween(A,U)+this.transitionsBetween(T,U),te=this.transitionsBetween(A,K)+this.transitionsBetween(T,K);return X>te?U:K}shiftToModuleCenter(s){let l=s[0],c=s[1],p=s[2],m=s[3],g=this.transitionsBetween(l,m)+1,v=this.transitionsBetween(p,m)+1,A=pn.shiftPoint(l,c,v*4),T=pn.shiftPoint(p,c,g*4);g=this.transitionsBetween(A,m)+1,v=this.transitionsBetween(T,m)+1,(g&1)===1&&(g+=1),(v&1)===1&&(v+=1);let U=(l.getX()+c.getX()+p.getX()+m.getX())/4,K=(l.getY()+c.getY()+p.getY()+m.getY())/4;l=pn.moveAway(l,U,K),c=pn.moveAway(c,U,K),p=pn.moveAway(p,U,K),m=pn.moveAway(m,U,K);let X,te;return A=pn.shiftPoint(l,c,v*4),A=pn.shiftPoint(A,m,g*4),X=pn.shiftPoint(c,l,v*4),X=pn.shiftPoint(X,p,g*4),T=pn.shiftPoint(p,m,v*4),T=pn.shiftPoint(T,c,g*4),te=pn.shiftPoint(m,p,v*4),te=pn.shiftPoint(te,l,g*4),[A,X,T,te]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,c,p,m,g,v){return di.getInstance().sampleGrid(s,g,v,.5,.5,g-.5,.5,g-.5,v-.5,.5,v-.5,l.getX(),l.getY(),m.getX(),m.getY(),p.getX(),p.getY(),c.getX(),c.getY())}transitionsBetween(s,l){let c=Math.trunc(s.getX()),p=Math.trunc(s.getY()),m=Math.trunc(l.getX()),g=Math.trunc(l.getY()),v=Math.abs(g-p)>Math.abs(m-c);if(v){let de=c;c=p,p=de,de=m,m=g,g=de}let A=Math.abs(m-c),T=Math.abs(g-p),U=-A/2,K=p<g?1:-1,X=c<m?1:-1,te=0,le=this.image.get(v?p:c,v?c:p);for(let de=c,xe=p;de!==m;de+=X){let _e=this.image.get(v?xe:de,v?de:xe);if(_e!==le&&(te++,le=_e),U+=T,U>0){if(xe===g)break;xe+=K,U-=A}}return te}}class ia{constructor(){this.decoder=new Ig}decode(s,l=null){let c,p;if(l!=null&&l.has(R.PURE_BARCODE)){const T=ia.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(T),p=ia.NO_POINTS}else{const T=new pn(s.getBlackMatrix()).detect();c=this.decoder.decode(T.getBits()),p=T.getPoints()}const m=c.getRawBytes(),g=new se(c.getText(),m,8*m.length,p,oe.DATA_MATRIX,N.currentTimeMillis()),v=c.getByteSegments();v!=null&&g.putMetadata(Q.BYTE_SEGMENTS,v);const A=c.getECLevel();return A!=null&&g.putMetadata(Q.ERROR_CORRECTION_LEVEL,A),g}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(l==null||c==null)throw new z;const p=this.moduleSize(l,s);let m=l[1];const g=c[1];let v=l[0];const T=(c[0]-v+1)/p,U=(g-m+1)/p;if(T<=0||U<=0)throw new z;const K=p/2;m+=K,v+=K;const X=new H(T,U);for(let te=0;te<U;te++){const le=m+te*p;for(let de=0;de<T;de++)s.get(v+de*p,le)&&X.set(de,te)}return X}static moduleSize(s,l){const c=l.getWidth();let p=s[0];const m=s[1];for(;p<c&&l.get(p,m);)p++;if(p===c)throw new z;const g=p-s[0];if(g===0)throw new z;return g}}ia.NO_POINTS=[];class Og extends pe{constructor(s=500){super(new ia,s)}}var Yr;(function(G){G[G.L=0]="L",G[G.M=1]="M",G[G.Q=2]="Q",G[G.H=3]="H"})(Yr||(Yr={}));class yt{constructor(s,l,c){this.value=s,this.stringValue=l,this.bits=c,yt.FOR_BITS.set(c,this),yt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return yt.L;case"M":return yt.M;case"Q":return yt.Q;case"H":return yt.H;default:throw new x(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof yt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=yt.FOR_BITS.size)throw new y;return yt.FOR_BITS.get(s)}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.L=new yt(Yr.L,"L",1),yt.M=new yt(Yr.M,"M",0),yt.Q=new yt(Yr.Q,"Q",3),yt.H=new yt(Yr.H,"H",2);class On{constructor(s){this.errorCorrectionLevel=yt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return C.bitCount(s^l)}static decodeFormatInformation(s,l){const c=On.doDecodeFormatInformation(s,l);return c!==null?c:On.doDecodeFormatInformation(s^On.FORMAT_INFO_MASK_QR,l^On.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let c=Number.MAX_SAFE_INTEGER,p=0;for(const m of On.FORMAT_INFO_DECODE_LOOKUP){const g=m[0];if(g===s||g===l)return new On(m[1]);let v=On.numBitsDiffering(s,g);v<c&&(p=m[1],c=v),s!==l&&(v=On.numBitsDiffering(l,g),v<c&&(p=m[1],c=v))}return c<=3?new On(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof On))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}On.FORMAT_INFO_MASK_QR=21522,On.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ge{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const c of l)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class J{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fe{constructor(s,l,...c){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=c;let p=0;const m=c[0].getECCodewordsPerBlock(),g=c[0].getECBlocks();for(const v of g)p+=v.getCount()*(v.getDataCodewords()+m);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new j;try{return this.getVersionForNumber((s-17)/4)}catch{throw new j}}static getVersionForNumber(s){if(s<1||s>40)throw new y;return Fe.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,c=0;for(let p=0;p<Fe.VERSION_DECODE_INFO.length;p++){const m=Fe.VERSION_DECODE_INFO[p];if(m===s)return Fe.getVersionForNumber(p+7);const g=On.numBitsDiffering(s,m);g<l&&(c=p+7,l=g)}return l<=3?Fe.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new H(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let p=0;p<c;p++){const m=this.alignmentPatternCenters[p]-2;for(let g=0;g<c;g++)p===0&&(g===0||g===c-1)||p===c-1&&g===0||l.setRegion(this.alignmentPatternCenters[g]-2,m,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}Fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Fe.VERSIONS=[new Fe(1,new Int32Array(0),new ge(7,new J(1,19)),new ge(10,new J(1,16)),new ge(13,new J(1,13)),new ge(17,new J(1,9))),new Fe(2,Int32Array.from([6,18]),new ge(10,new J(1,34)),new ge(16,new J(1,28)),new ge(22,new J(1,22)),new ge(28,new J(1,16))),new Fe(3,Int32Array.from([6,22]),new ge(15,new J(1,55)),new ge(26,new J(1,44)),new ge(18,new J(2,17)),new ge(22,new J(2,13))),new Fe(4,Int32Array.from([6,26]),new ge(20,new J(1,80)),new ge(18,new J(2,32)),new ge(26,new J(2,24)),new ge(16,new J(4,9))),new Fe(5,Int32Array.from([6,30]),new ge(26,new J(1,108)),new ge(24,new J(2,43)),new ge(18,new J(2,15),new J(2,16)),new ge(22,new J(2,11),new J(2,12))),new Fe(6,Int32Array.from([6,34]),new ge(18,new J(2,68)),new ge(16,new J(4,27)),new ge(24,new J(4,19)),new ge(28,new J(4,15))),new Fe(7,Int32Array.from([6,22,38]),new ge(20,new J(2,78)),new ge(18,new J(4,31)),new ge(18,new J(2,14),new J(4,15)),new ge(26,new J(4,13),new J(1,14))),new Fe(8,Int32Array.from([6,24,42]),new ge(24,new J(2,97)),new ge(22,new J(2,38),new J(2,39)),new ge(22,new J(4,18),new J(2,19)),new ge(26,new J(4,14),new J(2,15))),new Fe(9,Int32Array.from([6,26,46]),new ge(30,new J(2,116)),new ge(22,new J(3,36),new J(2,37)),new ge(20,new J(4,16),new J(4,17)),new ge(24,new J(4,12),new J(4,13))),new Fe(10,Int32Array.from([6,28,50]),new ge(18,new J(2,68),new J(2,69)),new ge(26,new J(4,43),new J(1,44)),new ge(24,new J(6,19),new J(2,20)),new ge(28,new J(6,15),new J(2,16))),new Fe(11,Int32Array.from([6,30,54]),new ge(20,new J(4,81)),new ge(30,new J(1,50),new J(4,51)),new ge(28,new J(4,22),new J(4,23)),new ge(24,new J(3,12),new J(8,13))),new Fe(12,Int32Array.from([6,32,58]),new ge(24,new J(2,92),new J(2,93)),new ge(22,new J(6,36),new J(2,37)),new ge(26,new J(4,20),new J(6,21)),new ge(28,new J(7,14),new J(4,15))),new Fe(13,Int32Array.from([6,34,62]),new ge(26,new J(4,107)),new ge(22,new J(8,37),new J(1,38)),new ge(24,new J(8,20),new J(4,21)),new ge(22,new J(12,11),new J(4,12))),new Fe(14,Int32Array.from([6,26,46,66]),new ge(30,new J(3,115),new J(1,116)),new ge(24,new J(4,40),new J(5,41)),new ge(20,new J(11,16),new J(5,17)),new ge(24,new J(11,12),new J(5,13))),new Fe(15,Int32Array.from([6,26,48,70]),new ge(22,new J(5,87),new J(1,88)),new ge(24,new J(5,41),new J(5,42)),new ge(30,new J(5,24),new J(7,25)),new ge(24,new J(11,12),new J(7,13))),new Fe(16,Int32Array.from([6,26,50,74]),new ge(24,new J(5,98),new J(1,99)),new ge(28,new J(7,45),new J(3,46)),new ge(24,new J(15,19),new J(2,20)),new ge(30,new J(3,15),new J(13,16))),new Fe(17,Int32Array.from([6,30,54,78]),new ge(28,new J(1,107),new J(5,108)),new ge(28,new J(10,46),new J(1,47)),new ge(28,new J(1,22),new J(15,23)),new ge(28,new J(2,14),new J(17,15))),new Fe(18,Int32Array.from([6,30,56,82]),new ge(30,new J(5,120),new J(1,121)),new ge(26,new J(9,43),new J(4,44)),new ge(28,new J(17,22),new J(1,23)),new ge(28,new J(2,14),new J(19,15))),new Fe(19,Int32Array.from([6,30,58,86]),new ge(28,new J(3,113),new J(4,114)),new ge(26,new J(3,44),new J(11,45)),new ge(26,new J(17,21),new J(4,22)),new ge(26,new J(9,13),new J(16,14))),new Fe(20,Int32Array.from([6,34,62,90]),new ge(28,new J(3,107),new J(5,108)),new ge(26,new J(3,41),new J(13,42)),new ge(30,new J(15,24),new J(5,25)),new ge(28,new J(15,15),new J(10,16))),new Fe(21,Int32Array.from([6,28,50,72,94]),new ge(28,new J(4,116),new J(4,117)),new ge(26,new J(17,42)),new ge(28,new J(17,22),new J(6,23)),new ge(30,new J(19,16),new J(6,17))),new Fe(22,Int32Array.from([6,26,50,74,98]),new ge(28,new J(2,111),new J(7,112)),new ge(28,new J(17,46)),new ge(30,new J(7,24),new J(16,25)),new ge(24,new J(34,13))),new Fe(23,Int32Array.from([6,30,54,78,102]),new ge(30,new J(4,121),new J(5,122)),new ge(28,new J(4,47),new J(14,48)),new ge(30,new J(11,24),new J(14,25)),new ge(30,new J(16,15),new J(14,16))),new Fe(24,Int32Array.from([6,28,54,80,106]),new ge(30,new J(6,117),new J(4,118)),new ge(28,new J(6,45),new J(14,46)),new ge(30,new J(11,24),new J(16,25)),new ge(30,new J(30,16),new J(2,17))),new Fe(25,Int32Array.from([6,32,58,84,110]),new ge(26,new J(8,106),new J(4,107)),new ge(28,new J(8,47),new J(13,48)),new ge(30,new J(7,24),new J(22,25)),new ge(30,new J(22,15),new J(13,16))),new Fe(26,Int32Array.from([6,30,58,86,114]),new ge(28,new J(10,114),new J(2,115)),new ge(28,new J(19,46),new J(4,47)),new ge(28,new J(28,22),new J(6,23)),new ge(30,new J(33,16),new J(4,17))),new Fe(27,Int32Array.from([6,34,62,90,118]),new ge(30,new J(8,122),new J(4,123)),new ge(28,new J(22,45),new J(3,46)),new ge(30,new J(8,23),new J(26,24)),new ge(30,new J(12,15),new J(28,16))),new Fe(28,Int32Array.from([6,26,50,74,98,122]),new ge(30,new J(3,117),new J(10,118)),new ge(28,new J(3,45),new J(23,46)),new ge(30,new J(4,24),new J(31,25)),new ge(30,new J(11,15),new J(31,16))),new Fe(29,Int32Array.from([6,30,54,78,102,126]),new ge(30,new J(7,116),new J(7,117)),new ge(28,new J(21,45),new J(7,46)),new ge(30,new J(1,23),new J(37,24)),new ge(30,new J(19,15),new J(26,16))),new Fe(30,Int32Array.from([6,26,52,78,104,130]),new ge(30,new J(5,115),new J(10,116)),new ge(28,new J(19,47),new J(10,48)),new ge(30,new J(15,24),new J(25,25)),new ge(30,new J(23,15),new J(25,16))),new Fe(31,Int32Array.from([6,30,56,82,108,134]),new ge(30,new J(13,115),new J(3,116)),new ge(28,new J(2,46),new J(29,47)),new ge(30,new J(42,24),new J(1,25)),new ge(30,new J(23,15),new J(28,16))),new Fe(32,Int32Array.from([6,34,60,86,112,138]),new ge(30,new J(17,115)),new ge(28,new J(10,46),new J(23,47)),new ge(30,new J(10,24),new J(35,25)),new ge(30,new J(19,15),new J(35,16))),new Fe(33,Int32Array.from([6,30,58,86,114,142]),new ge(30,new J(17,115),new J(1,116)),new ge(28,new J(14,46),new J(21,47)),new ge(30,new J(29,24),new J(19,25)),new ge(30,new J(11,15),new J(46,16))),new Fe(34,Int32Array.from([6,34,62,90,118,146]),new ge(30,new J(13,115),new J(6,116)),new ge(28,new J(14,46),new J(23,47)),new ge(30,new J(44,24),new J(7,25)),new ge(30,new J(59,16),new J(1,17))),new Fe(35,Int32Array.from([6,30,54,78,102,126,150]),new ge(30,new J(12,121),new J(7,122)),new ge(28,new J(12,47),new J(26,48)),new ge(30,new J(39,24),new J(14,25)),new ge(30,new J(22,15),new J(41,16))),new Fe(36,Int32Array.from([6,24,50,76,102,128,154]),new ge(30,new J(6,121),new J(14,122)),new ge(28,new J(6,47),new J(34,48)),new ge(30,new J(46,24),new J(10,25)),new ge(30,new J(2,15),new J(64,16))),new Fe(37,Int32Array.from([6,28,54,80,106,132,158]),new ge(30,new J(17,122),new J(4,123)),new ge(28,new J(29,46),new J(14,47)),new ge(30,new J(49,24),new J(10,25)),new ge(30,new J(24,15),new J(46,16))),new Fe(38,Int32Array.from([6,32,58,84,110,136,162]),new ge(30,new J(4,122),new J(18,123)),new ge(28,new J(13,46),new J(32,47)),new ge(30,new J(48,24),new J(14,25)),new ge(30,new J(42,15),new J(32,16))),new Fe(39,Int32Array.from([6,26,54,82,110,138,166]),new ge(30,new J(20,117),new J(4,118)),new ge(28,new J(40,47),new J(7,48)),new ge(30,new J(43,24),new J(22,25)),new ge(30,new J(10,15),new J(67,16))),new Fe(40,Int32Array.from([6,30,58,86,114,142,170]),new ge(30,new J(19,118),new J(6,119)),new ge(28,new J(18,47),new J(31,48)),new ge(30,new J(34,24),new J(34,25)),new ge(30,new J(20,15),new J(61,16)))];var vn;(function(G){G[G.DATA_MASK_000=0]="DATA_MASK_000",G[G.DATA_MASK_001=1]="DATA_MASK_001",G[G.DATA_MASK_010=2]="DATA_MASK_010",G[G.DATA_MASK_011=3]="DATA_MASK_011",G[G.DATA_MASK_100=4]="DATA_MASK_100",G[G.DATA_MASK_101=5]="DATA_MASK_101",G[G.DATA_MASK_110=6]="DATA_MASK_110",G[G.DATA_MASK_111=7]="DATA_MASK_111"})(vn||(vn={}));class ar{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let c=0;c<l;c++)for(let p=0;p<l;p++)this.isMasked(c,p)&&s.flip(p,c)}}ar.values=new Map([[vn.DATA_MASK_000,new ar(vn.DATA_MASK_000,(G,s)=>(G+s&1)===0)],[vn.DATA_MASK_001,new ar(vn.DATA_MASK_001,(G,s)=>(G&1)===0)],[vn.DATA_MASK_010,new ar(vn.DATA_MASK_010,(G,s)=>s%3===0)],[vn.DATA_MASK_011,new ar(vn.DATA_MASK_011,(G,s)=>(G+s)%3===0)],[vn.DATA_MASK_100,new ar(vn.DATA_MASK_100,(G,s)=>(Math.floor(G/2)+Math.floor(s/3)&1)===0)],[vn.DATA_MASK_101,new ar(vn.DATA_MASK_101,(G,s)=>G*s%6===0)],[vn.DATA_MASK_110,new ar(vn.DATA_MASK_110,(G,s)=>G*s%6<3)],[vn.DATA_MASK_111,new ar(vn.DATA_MASK_111,(G,s)=>(G+s+G*s%3&1)===0)]]);class qo{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new j;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let m=0;m<6;m++)s=this.copyBit(m,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let m=5;m>=0;m--)s=this.copyBit(8,m,s);const l=this.bitMatrix.getHeight();let c=0;const p=l-7;for(let m=l-1;m>=p;m--)c=this.copyBit(8,m,c);for(let m=l-8;m<l;m++)c=this.copyBit(m,8,c);if(this.parsedFormatInfo=On.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return Fe.getVersionForNumber(l);let c=0;const p=s-11;for(let g=5;g>=0;g--)for(let v=s-9;v>=p;v--)c=this.copyBit(v,g,c);let m=Fe.decodeVersionInformation(c);if(m!==null&&m.getDimensionForVersion()===s)return this.parsedVersion=m,m;c=0;for(let g=5;g>=0;g--)for(let v=s-9;v>=p;v--)c=this.copyBit(g,v,c);if(m=Fe.decodeVersionInformation(c),m!==null&&m.getDimensionForVersion()===s)return this.parsedVersion=m,m;throw new j}copyBit(s,l,c){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),c=ar.values.get(s.getDataMask()),p=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,p);const m=l.buildFunctionPattern();let g=!0;const v=new Uint8Array(l.getTotalCodewords());let A=0,T=0,U=0;for(let K=p-1;K>0;K-=2){K===6&&K--;for(let X=0;X<p;X++){const te=g?p-1-X:X;for(let le=0;le<2;le++)m.get(K-le,te)||(U++,T<<=1,this.bitMatrix.get(K-le,te)&&(T|=1),U===8&&(v[A++]=T,U=0,T=0))}g=!g}if(A!==l.getTotalCodewords())throw new j;return v}remask(){if(this.parsedFormatInfo===null)return;const s=ar.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,c=s.getWidth();l<c;l++)for(let p=l+1,m=s.getHeight();p<m;p++)s.get(l,p)!==s.get(p,l)&&(s.flip(p,l),s.flip(l,p))}}class fd{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,c){if(s.length!==l.getTotalCodewords())throw new y;const p=l.getECBlocksForLevel(c);let m=0;const g=p.getECBlocks();for(const le of g)m+=le.getCount();const v=new Array(m);let A=0;for(const le of g)for(let de=0;de<le.getCount();de++){const xe=le.getDataCodewords(),_e=p.getECCodewordsPerBlock()+xe;v[A++]=new fd(xe,new Uint8Array(_e))}const T=v[0].codewords.length;let U=v.length-1;for(;U>=0&&v[U].codewords.length!==T;)U--;U++;const K=T-p.getECCodewordsPerBlock();let X=0;for(let le=0;le<K;le++)for(let de=0;de<A;de++)v[de].codewords[le]=s[X++];for(let le=U;le<A;le++)v[le].codewords[K]=s[X++];const te=v[0].codewords.length;for(let le=K;le<te;le++)for(let de=0;de<A;de++){const xe=de<U?le:le+1;v[de].codewords[xe]=s[X++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Dr;(function(G){G[G.TERMINATOR=0]="TERMINATOR",G[G.NUMERIC=1]="NUMERIC",G[G.ALPHANUMERIC=2]="ALPHANUMERIC",G[G.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",G[G.BYTE=4]="BYTE",G[G.ECI=5]="ECI",G[G.KANJI=6]="KANJI",G[G.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",G[G.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",G[G.HANZI=9]="HANZI"})(Dr||(Dr={}));class Ye{constructor(s,l,c,p){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=p,Ye.FOR_BITS.set(p,this),Ye.FOR_VALUE.set(s,this)}static forBits(s){const l=Ye.FOR_BITS.get(s);if(l===void 0)throw new y;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Ye))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}Ye.FOR_BITS=new Map,Ye.FOR_VALUE=new Map,Ye.TERMINATOR=new Ye(Dr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ye.NUMERIC=new Ye(Dr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ye.ALPHANUMERIC=new Ye(Dr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ye.STRUCTURED_APPEND=new Ye(Dr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ye.BYTE=new Ye(Dr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ye.ECI=new Ye(Dr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ye.KANJI=new Ye(Dr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ye.FNC1_FIRST_POSITION=new Ye(Dr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ye.FNC1_SECOND_POSITION=new Ye(Dr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ye.HANZI=new Ye(Dr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class tn{static decode(s,l,c,p){const m=new rc(s);let g=new F;const v=new Array;let A=-1,T=-1;try{let U=null,K=!1,X;do{if(m.available()<4)X=Ye.TERMINATOR;else{const te=m.readBits(4);X=Ye.forBits(te)}switch(X){case Ye.TERMINATOR:break;case Ye.FNC1_FIRST_POSITION:case Ye.FNC1_SECOND_POSITION:K=!0;break;case Ye.STRUCTURED_APPEND:if(m.available()<16)throw new j;A=m.readBits(8),T=m.readBits(8);break;case Ye.ECI:const te=tn.parseECIValue(m);if(U=L.getCharacterSetECIByValue(te),U===null)throw new j;break;case Ye.HANZI:const le=m.readBits(4),de=m.readBits(X.getCharacterCountBits(l));le===tn.GB2312_SUBSET&&tn.decodeHanziSegment(m,g,de);break;default:const xe=m.readBits(X.getCharacterCountBits(l));switch(X){case Ye.NUMERIC:tn.decodeNumericSegment(m,g,xe);break;case Ye.ALPHANUMERIC:tn.decodeAlphanumericSegment(m,g,xe,K);break;case Ye.BYTE:tn.decodeByteSegment(m,g,xe,U,v,p);break;case Ye.KANJI:tn.decodeKanjiSegment(m,g,xe);break;default:throw new j}break}}while(X!==Ye.TERMINATOR)}catch{throw new j}return new fe(s,g.toString(),v.length===0?null:v,c===null?null:c.toString(),A,T)}static decodeHanziSegment(s,l,c){if(c*13>s.available())throw new j;const p=new Uint8Array(2*c);let m=0;for(;c>0;){const g=s.readBits(13);let v=g/96<<8&4294967295|g%96;v<959?v+=41377:v+=42657,p[m]=v>>8&255,p[m+1]=v&255,m+=2,c--}try{l.append(O.decode(p,$.GB2312))}catch(g){throw new j(g)}}static decodeKanjiSegment(s,l,c){if(c*13>s.available())throw new j;const p=new Uint8Array(2*c);let m=0;for(;c>0;){const g=s.readBits(13);let v=g/192<<8&4294967295|g%192;v<7936?v+=33088:v+=49472,p[m]=v>>8,p[m+1]=v,m+=2,c--}try{l.append(O.decode(p,$.SHIFT_JIS))}catch(g){throw new j(g)}}static decodeByteSegment(s,l,c,p,m,g){if(8*c>s.available())throw new j;const v=new Uint8Array(c);for(let T=0;T<c;T++)v[T]=s.readBits(8);let A;p===null?A=$.guessEncoding(v,g):A=p.getName();try{l.append(O.decode(v,A))}catch(T){throw new j(T)}m.push(v)}static toAlphaNumericChar(s){if(s>=tn.ALPHANUMERIC_CHARS.length)throw new j;return tn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,c,p){const m=l.length();for(;c>1;){if(s.available()<11)throw new j;const g=s.readBits(11);l.append(tn.toAlphaNumericChar(Math.floor(g/45))),l.append(tn.toAlphaNumericChar(g%45)),c-=2}if(c===1){if(s.available()<6)throw new j;l.append(tn.toAlphaNumericChar(s.readBits(6)))}if(p)for(let g=m;g<l.length();g++)l.charAt(g)==="%"&&(g<l.length()-1&&l.charAt(g+1)==="%"?l.deleteCharAt(g+1):l.setCharAt(g,""))}static decodeNumericSegment(s,l,c){for(;c>=3;){if(s.available()<10)throw new j;const p=s.readBits(10);if(p>=1e3)throw new j;l.append(tn.toAlphaNumericChar(Math.floor(p/100))),l.append(tn.toAlphaNumericChar(Math.floor(p/10)%10)),l.append(tn.toAlphaNumericChar(p%10)),c-=3}if(c===2){if(s.available()<7)throw new j;const p=s.readBits(7);if(p>=100)throw new j;l.append(tn.toAlphaNumericChar(Math.floor(p/10))),l.append(tn.toAlphaNumericChar(p%10))}else if(c===1){if(s.available()<4)throw new j;const p=s.readBits(4);if(p>=10)throw new j;l.append(tn.toAlphaNumericChar(p))}}static parseECIValue(s){const l=s.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const c=s.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=s.readBits(16);return(l&31)<<16&4294967295|c}throw new j}}tn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",tn.GB2312_SUBSET=1;class Zh{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class Pg{constructor(){this.rsDecoder=new xt(Ce.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(H.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const c=new qo(s);let p=null;try{return this.decodeBitMatrixParser(c,l)}catch(m){p=m}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const m=this.decodeBitMatrixParser(c,l);return m.setOther(new Zh(!0)),m}catch(m){throw p!==null?p:m}}decodeBitMatrixParser(s,l){const c=s.readVersion(),p=s.readFormatInformation().getErrorCorrectionLevel(),m=s.readCodewords(),g=fd.getDataBlocks(m,c,p);let v=0;for(const U of g)v+=U.getNumDataCodewords();const A=new Uint8Array(v);let T=0;for(const U of g){const K=U.getCodewords(),X=U.getNumDataCodewords();this.correctErrors(K,X);for(let te=0;te<X;te++)A[T++]=K[te]}return tn.decode(A,c,p,l)}correctErrors(s,l){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-l)}catch{throw new _}for(let p=0;p<l;p++)s[p]=c[p]}}class is extends Ve{constructor(s,l,c){super(s,l),this.estimatedModuleSize=c}aboutEquals(s,l,c){if(Math.abs(l-this.getY())<=s&&Math.abs(c-this.getX())<=s){const p=Math.abs(s-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(s,l,c){const p=(this.getX()+l)/2,m=(this.getY()+s)/2,g=(this.estimatedModuleSize+c)/2;return new is(p,m,g)}}class gi{constructor(s,l,c,p,m,g,v){this.image=s,this.startX=l,this.startY=c,this.width=p,this.height=m,this.moduleSize=g,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,c=this.width,p=s+c,m=this.startY+l/2,g=new Int32Array(3),v=this.image;for(let A=0;A<l;A++){const T=m+(A&1?-Math.floor((A+1)/2):Math.floor((A+1)/2));g[0]=0,g[1]=0,g[2]=0;let U=s;for(;U<p&&!v.get(U,T);)U++;let K=0;for(;U<p;){if(v.get(U,T))if(K===1)g[1]++;else if(K===2){if(this.foundPatternCross(g)){const X=this.handlePossibleCenter(g,T,U);if(X!==null)return X}g[0]=g[2],g[1]=1,g[2]=0,K=1}else g[++K]++;else K===1&&K++,g[K]++;U++}if(this.foundPatternCross(g)){const X=this.handlePossibleCenter(g,T,p);if(X!==null)return X}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new z}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,c=l/2;for(let p=0;p<3;p++)if(Math.abs(l-s[p])>=c)return!1;return!0}crossCheckVertical(s,l,c,p){const m=this.image,g=m.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let A=s;for(;A>=0&&m.get(l,A)&&v[1]<=c;)v[1]++,A--;if(A<0||v[1]>c)return NaN;for(;A>=0&&!m.get(l,A)&&v[0]<=c;)v[0]++,A--;if(v[0]>c)return NaN;for(A=s+1;A<g&&m.get(l,A)&&v[1]<=c;)v[1]++,A++;if(A===g||v[1]>c)return NaN;for(;A<g&&!m.get(l,A)&&v[2]<=c;)v[2]++,A++;if(v[2]>c)return NaN;const T=v[0]+v[1]+v[2];return 5*Math.abs(T-p)>=2*p?NaN:this.foundPatternCross(v)?gi.centerFromEnd(v,A):NaN}handlePossibleCenter(s,l,c){const p=s[0]+s[1]+s[2],m=gi.centerFromEnd(s,c),g=this.crossCheckVertical(l,m,2*s[1],p);if(!isNaN(g)){const v=(s[0]+s[1]+s[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(v,g,m))return T.combineEstimate(g,m,v);const A=new is(m,g,v);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null}}class ic extends Ve{constructor(s,l,c,p){super(s,l),this.estimatedModuleSize=c,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,c){if(Math.abs(l-this.getY())<=s&&Math.abs(c-this.getX())<=s){const p=Math.abs(s-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(s,l,c){const p=this.count+1,m=(this.count*this.getX()+l)/p,g=(this.count*this.getY()+s)/p,v=(this.count*this.estimatedModuleSize+c)/p;return new ic(m,g,v,p)}}class Jh{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Pn{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get(R.TRY_HARDER)!==void 0,c=s!=null&&s.get(R.PURE_BARCODE)!==void 0,p=this.image,m=p.getHeight(),g=p.getWidth();let v=Math.floor(3*m/(4*Pn.MAX_MODULES));(v<Pn.MIN_SKIP||l)&&(v=Pn.MIN_SKIP);let A=!1;const T=new Int32Array(5);for(let K=v-1;K<m&&!A;K+=v){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let X=0;for(let te=0;te<g;te++)if(p.get(te,K))(X&1)===1&&X++,T[X]++;else if(X&1)T[X]++;else if(X===4)if(Pn.foundPatternCross(T)){if(this.handlePossibleCenter(T,K,te,c)===!0)if(v=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{const de=this.findRowSkip();de>T[2]&&(K+=de-T[2]-v,te=g-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,X=3;continue}X=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,X=3;else T[++X]++;Pn.foundPatternCross(T)&&this.handlePossibleCenter(T,K,g,c)===!0&&(v=T[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const U=this.selectBestPatterns();return Ve.orderBestPatterns(U),new Jh(U)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let m=0;m<5;m++){const g=s[m];if(g===0)return!1;l+=g}if(l<7)return!1;const c=l/7,p=c/2;return Math.abs(c-s[0])<p&&Math.abs(c-s[1])<p&&Math.abs(3*c-s[2])<3*p&&Math.abs(c-s[3])<p&&Math.abs(c-s[4])<p}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,c,p){const m=this.getCrossCheckStateCount();let g=0;const v=this.image;for(;s>=g&&l>=g&&v.get(l-g,s-g);)m[2]++,g++;if(s<g||l<g)return!1;for(;s>=g&&l>=g&&!v.get(l-g,s-g)&&m[1]<=c;)m[1]++,g++;if(s<g||l<g||m[1]>c)return!1;for(;s>=g&&l>=g&&v.get(l-g,s-g)&&m[0]<=c;)m[0]++,g++;if(m[0]>c)return!1;const A=v.getHeight(),T=v.getWidth();for(g=1;s+g<A&&l+g<T&&v.get(l+g,s+g);)m[2]++,g++;if(s+g>=A||l+g>=T)return!1;for(;s+g<A&&l+g<T&&!v.get(l+g,s+g)&&m[3]<c;)m[3]++,g++;if(s+g>=A||l+g>=T||m[3]>=c)return!1;for(;s+g<A&&l+g<T&&v.get(l+g,s+g)&&m[4]<c;)m[4]++,g++;if(m[4]>=c)return!1;const U=m[0]+m[1]+m[2]+m[3]+m[4];return Math.abs(U-p)<2*p&&Pn.foundPatternCross(m)}crossCheckVertical(s,l,c,p){const m=this.image,g=m.getHeight(),v=this.getCrossCheckStateCount();let A=s;for(;A>=0&&m.get(l,A);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!m.get(l,A)&&v[1]<=c;)v[1]++,A--;if(A<0||v[1]>c)return NaN;for(;A>=0&&m.get(l,A)&&v[0]<=c;)v[0]++,A--;if(v[0]>c)return NaN;for(A=s+1;A<g&&m.get(l,A);)v[2]++,A++;if(A===g)return NaN;for(;A<g&&!m.get(l,A)&&v[3]<c;)v[3]++,A++;if(A===g||v[3]>=c)return NaN;for(;A<g&&m.get(l,A)&&v[4]<c;)v[4]++,A++;if(v[4]>=c)return NaN;const T=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(T-p)>=2*p?NaN:Pn.foundPatternCross(v)?Pn.centerFromEnd(v,A):NaN}crossCheckHorizontal(s,l,c,p){const m=this.image,g=m.getWidth(),v=this.getCrossCheckStateCount();let A=s;for(;A>=0&&m.get(A,l);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!m.get(A,l)&&v[1]<=c;)v[1]++,A--;if(A<0||v[1]>c)return NaN;for(;A>=0&&m.get(A,l)&&v[0]<=c;)v[0]++,A--;if(v[0]>c)return NaN;for(A=s+1;A<g&&m.get(A,l);)v[2]++,A++;if(A===g)return NaN;for(;A<g&&!m.get(A,l)&&v[3]<c;)v[3]++,A++;if(A===g||v[3]>=c)return NaN;for(;A<g&&m.get(A,l)&&v[4]<c;)v[4]++,A++;if(v[4]>=c)return NaN;const T=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(T-p)>=p?NaN:Pn.foundPatternCross(v)?Pn.centerFromEnd(v,A):NaN}handlePossibleCenter(s,l,c,p){const m=s[0]+s[1]+s[2]+s[3]+s[4];let g=Pn.centerFromEnd(s,c),v=this.crossCheckVertical(l,Math.floor(g),s[2],m);if(!isNaN(v)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(v),s[2],m),!isNaN(g)&&(!p||this.crossCheckDiagonal(Math.floor(v),Math.floor(g),s[2],m)))){const A=m/7;let T=!1;const U=this.possibleCenters;for(let K=0,X=U.length;K<X;K++){const te=U[K];if(te.aboutEquals(A,v,g)){U[K]=te.combineEstimate(v,g,A),T=!0;break}}if(!T){const K=new ic(g,v,A);U.push(K),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(K)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=Pn.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Pn.CENTER_QUORUM&&(s++,l+=g.getEstimatedModuleSize());if(s<3)return!1;const p=l/c;let m=0;for(const g of this.possibleCenters)m+=Math.abs(g.getEstimatedModuleSize()-p);return m<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new z;const l=this.possibleCenters;let c;if(s>3){let p=0,m=0;for(const A of this.possibleCenters){const T=A.getEstimatedModuleSize();p+=T,m+=T*T}c=p/s;let g=Math.sqrt(m/s-c*c);l.sort((A,T)=>{const U=Math.abs(T.getEstimatedModuleSize()-c),K=Math.abs(A.getEstimatedModuleSize()-c);return U<K?-1:U>K?1:0});const v=Math.max(.2*c,g);for(let A=0;A<l.length&&l.length>3;A++){const T=l[A];Math.abs(T.getEstimatedModuleSize()-c)>v&&(l.splice(A,1),A--)}}if(l.length>3){let p=0;for(const m of l)p+=m.getEstimatedModuleSize();c=p/l.length,l.sort((m,g)=>{if(g.getCount()===m.getCount()){const v=Math.abs(g.getEstimatedModuleSize()-c),A=Math.abs(m.getEstimatedModuleSize()-c);return v<A?1:v>A?-1:0}else return g.getCount()-m.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Pn.CENTER_QUORUM=2,Pn.MIN_SKIP=3,Pn.MAX_MODULES=57;class Ri{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(R.NEED_RESULT_POINT_CALLBACK);const c=new Pn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const l=s.getTopLeft(),c=s.getTopRight(),p=s.getBottomLeft(),m=this.calculateModuleSize(l,c,p);if(m<1)throw new z("No pattern found in proccess finder.");const g=Ri.computeDimension(l,c,p,m),v=Fe.getProvisionalVersionForDimension(g),A=v.getDimensionForVersion()-7;let T=null;if(v.getAlignmentPatternCenters().length>0){const te=c.getX()-l.getX()+p.getX(),le=c.getY()-l.getY()+p.getY(),de=1-3/A,xe=Math.floor(l.getX()+de*(te-l.getX())),_e=Math.floor(l.getY()+de*(le-l.getY()));for(let Me=4;Me<=16;Me<<=1)try{T=this.findAlignmentInRegion(m,xe,_e,Me);break}catch(De){if(!(De instanceof z))throw De}}const U=Ri.createTransform(l,c,p,T,g),K=Ri.sampleGrid(this.image,U,g);let X;return T===null?X=[p,l,c]:X=[p,l,c,T],new Gr(K,X)}static createTransform(s,l,c,p,m){const g=m-3.5;let v,A,T,U;return p!==null?(v=p.getX(),A=p.getY(),T=g-3,U=T):(v=l.getX()-s.getX()+c.getX(),A=l.getY()-s.getY()+c.getY(),T=g,U=g),qt.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,T,U,3.5,g,s.getX(),s.getY(),l.getX(),l.getY(),v,A,c.getX(),c.getY())}static sampleGrid(s,l,c){return di.getInstance().sampleGridWithTransform(s,c,c,l)}static computeDimension(s,l,c,p){const m=lt.round(Ve.distance(s,l)/p),g=lt.round(Ve.distance(s,c)/p);let v=Math.floor((m+g)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new z("Dimensions could be not found.")}return v}calculateModuleSize(s,l,c){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?p/7:isNaN(p)?c/7:(c+p)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,c,p){let m=this.sizeOfBlackWhiteBlackRun(s,l,c,p),g=1,v=s-(c-s);v<0?(g=s/(s-v),v=0):v>=this.image.getWidth()&&(g=(this.image.getWidth()-1-s)/(v-s),v=this.image.getWidth()-1);let A=Math.floor(l-(p-l)*g);return g=1,A<0?(g=l/(l-A),A=0):A>=this.image.getHeight()&&(g=(this.image.getHeight()-1-l)/(A-l),A=this.image.getHeight()-1),v=Math.floor(s+(v-s)*g),m+=this.sizeOfBlackWhiteBlackRun(s,l,v,A),m-1}sizeOfBlackWhiteBlackRun(s,l,c,p){const m=Math.abs(p-l)>Math.abs(c-s);if(m){let te=s;s=l,l=te,te=c,c=p,p=te}const g=Math.abs(c-s),v=Math.abs(p-l);let A=-g/2;const T=s<c?1:-1,U=l<p?1:-1;let K=0;const X=c+T;for(let te=s,le=l;te!==X;te+=T){const de=m?le:te,xe=m?te:le;if(K===1===this.image.get(de,xe)){if(K===2)return lt.distance(te,le,s,l);K++}if(A+=v,A>0){if(le===p)break;le+=U,A-=g}}return K===2?lt.distance(c+T,p,s,l):NaN}findAlignmentInRegion(s,l,c,p){const m=Math.floor(p*s),g=Math.max(0,l-m),v=Math.min(this.image.getWidth()-1,l+m);if(v-g<s*3)throw new z("Alignment top exceeds estimated module size.");const A=Math.max(0,c-m),T=Math.min(this.image.getHeight()-1,c+m);if(T-A<s*3)throw new z("Alignment bottom exceeds estimated module size.");return new gi(this.image,g,A,v-g,T-A,s,this.resultPointCallback).find()}}class Oa{constructor(){this.decoder=new Pg}getDecoder(){return this.decoder}decode(s,l){let c,p;if(l!=null&&l.get(R.PURE_BARCODE)!==void 0){const A=Oa.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(A,l),p=Oa.NO_POINTS}else{const A=new Ri(s.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(A.getBits(),l),p=A.getPoints()}c.getOther()instanceof Zh&&c.getOther().applyMirroredCorrection(p);const m=new se(c.getText(),c.getRawBytes(),void 0,p,oe.QR_CODE,void 0),g=c.getByteSegments();g!==null&&m.putMetadata(Q.BYTE_SEGMENTS,g);const v=c.getECLevel();return v!==null&&m.putMetadata(Q.ERROR_CORRECTION_LEVEL,v),c.hasStructuredAppend()&&(m.putMetadata(Q.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),m.putMetadata(Q.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),m}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(l===null||c===null)throw new z;const p=this.moduleSize(l,s);let m=l[1],g=c[1],v=l[0],A=c[0];if(v>=A||m>=g)throw new z;if(g-m!==A-v&&(A=v+(g-m),A>=s.getWidth()))throw new z;const T=Math.round((A-v+1)/p),U=Math.round((g-m+1)/p);if(T<=0||U<=0)throw new z;if(U!==T)throw new z;const K=Math.floor(p/2);m+=K,v+=K;const X=v+Math.floor((T-1)*p)-A;if(X>0){if(X>K)throw new z;v-=X}const te=m+Math.floor((U-1)*p)-g;if(te>0){if(te>K)throw new z;m-=te}const le=new H(T,U);for(let de=0;de<U;de++){const xe=m+Math.floor(de*p);for(let _e=0;_e<T;_e++)s.get(v+Math.floor(_e*p),xe)&&le.set(_e,de)}return le}static moduleSize(s,l){const c=l.getHeight(),p=l.getWidth();let m=s[0],g=s[1],v=!0,A=0;for(;m<p&&g<c;){if(v!==l.get(m,g)){if(++A===5)break;v=!v}m++,g++}if(m===p||g===c)throw new z;return(m-s[0])/7}}Oa.NO_POINTS=new Array;class et{PDF417Common(){}static getBitCountSum(s){return lt.sum(s)}static toIntArray(s){if(s==null||!s.length)return et.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let c=0;for(const p of s)l[c++]=p;return l}static getCodeword(s){const l=S.binarySearch(et.SYMBOL_TABLE,s&262143);return l<0?-1:(et.CODEWORD_TABLE[l]-1)%et.NUMBER_OF_CODEWORDS}}et.NUMBER_OF_CODEWORDS=929,et.MAX_CODEWORDS_IN_BARCODE=et.NUMBER_OF_CODEWORDS-1,et.MIN_ROWS_IN_BARCODE=3,et.MAX_ROWS_IN_BARCODE=90,et.MODULES_IN_CODEWORD=17,et.MODULES_IN_STOP_PATTERN=18,et.BARS_IN_MODULE=8,et.EMPTY_INT_ARRAY=new Int32Array([]),et.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),et.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jg{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class nt{static detectMultiple(s,l,c){let p=s.getBlackMatrix(),m=nt.detect(c,p);return m.length||(p=p.clone(),p.rotate180(),m=nt.detect(c,p)),new jg(p,m)}static detect(s,l){const c=new Array;let p=0,m=0,g=!1;for(;p<l.getHeight();){const v=nt.findVertices(l,p,m);if(v[0]==null&&v[3]==null){if(!g)break;g=!1,m=0;for(const A of c)A[1]!=null&&(p=Math.trunc(Math.max(p,A[1].getY()))),A[3]!=null&&(p=Math.max(p,Math.trunc(A[3].getY())));p+=nt.ROW_STEP;continue}if(g=!0,c.push(v),!s)break;v[2]!=null?(m=Math.trunc(v[2].getX()),p=Math.trunc(v[2].getY())):(m=Math.trunc(v[4].getX()),p=Math.trunc(v[4].getY()))}return c}static findVertices(s,l,c){const p=s.getHeight(),m=s.getWidth(),g=new Array(8);return nt.copyToResult(g,nt.findRowsWithPattern(s,p,m,l,c,nt.START_PATTERN),nt.INDEXES_START_PATTERN),g[4]!=null&&(c=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY())),nt.copyToResult(g,nt.findRowsWithPattern(s,p,m,l,c,nt.STOP_PATTERN),nt.INDEXES_STOP_PATTERN),g}static copyToResult(s,l,c){for(let p=0;p<c.length;p++)s[c[p]]=l[p]}static findRowsWithPattern(s,l,c,p,m,g){const v=new Array(4);let A=!1;const T=new Int32Array(g.length);for(;p<l;p+=nt.ROW_STEP){let K=nt.findGuardPattern(s,m,p,c,!1,g,T);if(K!=null){for(;p>0;){const X=nt.findGuardPattern(s,m,--p,c,!1,g,T);if(X!=null)K=X;else{p++;break}}v[0]=new Ve(K[0],p),v[1]=new Ve(K[1],p),A=!0;break}}let U=p+1;if(A){let K=0,X=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;U<l;U++){const te=nt.findGuardPattern(s,X[0],U,c,!1,g,T);if(te!=null&&Math.abs(X[0]-te[0])<nt.MAX_PATTERN_DRIFT&&Math.abs(X[1]-te[1])<nt.MAX_PATTERN_DRIFT)X=te,K=0;else{if(K>nt.SKIPPED_ROW_COUNT_MAX)break;K++}}U-=K+1,v[2]=new Ve(X[0],U),v[3]=new Ve(X[1],U)}return U-p<nt.BARCODE_MIN_HEIGHT&&S.fill(v,null),v}static findGuardPattern(s,l,c,p,m,g,v){S.fillWithin(v,0,v.length,0);let A=l,T=0;for(;s.get(A,c)&&A>0&&T++<nt.MAX_PIXEL_DRIFT;)A--;let U=A,K=0,X=g.length;for(let te=m;U<p;U++)if(s.get(U,c)!==te)v[K]++;else{if(K===X-1){if(nt.patternMatchVariance(v,g,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return new Int32Array([A,U]);A+=v[0]+v[1],N.arraycopy(v,2,v,0,K-1),v[K-1]=0,v[K]=0,K--}else K++;v[K]=1,te=!te}return K===X-1&&nt.patternMatchVariance(v,g,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE?new Int32Array([A,U-1]):null}static patternMatchVariance(s,l,c){let p=s.length,m=0,g=0;for(let T=0;T<p;T++)m+=s[T],g+=l[T];if(m<g)return 1/0;let v=m/g;c*=v;let A=0;for(let T=0;T<p;T++){let U=s[T],K=l[T]*v,X=U>K?U-K:K-U;if(X>c)return 1/0;A+=X}return A/m}}nt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),nt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),nt.MAX_AVG_VARIANCE=.42,nt.MAX_INDIVIDUAL_VARIANCE=.8,nt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),nt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),nt.MAX_PIXEL_DRIFT=3,nt.MAX_PATTERN_DRIFT=5,nt.SKIPPED_ROW_COUNT_MAX=25,nt.ROW_STEP=5,nt.BARCODE_MIN_HEIGHT=10;class qn{constructor(s,l){if(l.length===0)throw new y;this.field=s;let c=l.length;if(c>1&&l[0]===0){let p=1;for(;p<c&&l[p]===0;)p++;p===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-p),N.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let p=0;for(let m of this.coefficients)p=this.field.add(p,m);return p}let l=this.coefficients[0],c=this.coefficients.length;for(let p=1;p<c;p++)l=this.field.add(this.field.multiply(s,l),this.coefficients[p]);return l}add(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,c=s.coefficients;if(l.length>c.length){let g=l;l=c,c=g}let p=new Int32Array(c.length),m=c.length-l.length;N.arraycopy(c,0,p,0,m);for(let g=m;g<c.length;g++)p[g]=this.field.add(l[g-m],c[g]);return new qn(this.field,p)}subtract(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof qn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new qn(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,p=s.coefficients,m=p.length,g=new Int32Array(c+m-1);for(let v=0;v<c;v++){let A=l[v];for(let T=0;T<m;T++)g[v+T]=this.field.add(g[v+T],this.field.multiply(A,p[T]))}return new qn(this.field,g)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let c=0;c<s;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new qn(this.field,l)}multiplyScalar(s){if(s===0)return new qn(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let p=0;p<l;p++)c[p]=this.field.multiply(this.coefficients[p],s);return new qn(this.field,c)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return new qn(this.field,new Int32Array([0]));let c=this.coefficients.length,p=new Int32Array(c+s);for(let m=0;m<c;m++)p[m]=this.field.multiply(this.coefficients[m],l);return new qn(this.field,p)}toString(){let s=new F;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(l===0||c!==1)&&s.append(c),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class kg{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}inverse(s){if(s===0)throw new he;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Fs extends kg{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let p=0;p<s;p++)this.expTable[p]=c,c=c*l%s;for(let p=0;p<s-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new qn(this,new Int32Array([0])),this.one=new qn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;let c=new Int32Array(s+1);return c[0]=l,new qn(this,c)}}Fs.PDF417_GF=new Fs(et.NUMBER_OF_CODEWORDS,3);class Ho{constructor(){this.field=Fs.PDF417_GF}decode(s,l,c){let p=new qn(this.field,s),m=new Int32Array(l),g=!1;for(let le=l;le>0;le--){let de=p.evaluateAt(this.field.exp(le));m[l-le]=de,de!==0&&(g=!0)}if(!g)return 0;let v=this.field.getOne();if(c!=null)for(const le of c){let de=this.field.exp(s.length-1-le),xe=new qn(this.field,new Int32Array([this.field.subtract(0,de),1]));v=v.multiply(xe)}let A=new qn(this.field,m),T=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),A,l),U=T[0],K=T[1],X=this.findErrorLocations(U),te=this.findErrorMagnitudes(K,U,X);for(let le=0;le<X.length;le++){let de=s.length-1-this.field.log(X[le]);if(de<0)throw _.getChecksumInstance();s[de]=this.field.subtract(s[de],te[le])}return X.length}runEuclideanAlgorithm(s,l,c){if(s.getDegree()<l.getDegree()){let X=s;s=l,l=X}let p=s,m=l,g=this.field.getZero(),v=this.field.getOne();for(;m.getDegree()>=Math.round(c/2);){let X=p,te=g;if(p=m,g=v,p.isZero())throw _.getChecksumInstance();m=X;let le=this.field.getZero(),de=p.getCoefficient(p.getDegree()),xe=this.field.inverse(de);for(;m.getDegree()>=p.getDegree()&&!m.isZero();){let _e=m.getDegree()-p.getDegree(),Me=this.field.multiply(m.getCoefficient(m.getDegree()),xe);le=le.add(this.field.buildMonomial(_e,Me)),m=m.subtract(p.multiplyByMonomial(_e,Me))}v=le.multiply(g).subtract(te).negative()}let A=v.getCoefficient(0);if(A===0)throw _.getChecksumInstance();let T=this.field.inverse(A),U=v.multiply(T),K=m.multiply(T);return[U,K]}findErrorLocations(s){let l=s.getDegree(),c=new Int32Array(l),p=0;for(let m=1;m<this.field.getSize()&&p<l;m++)s.evaluateAt(m)===0&&(c[p]=this.field.inverse(m),p++);if(p!==l)throw _.getChecksumInstance();return c}findErrorMagnitudes(s,l,c){let p=l.getDegree(),m=new Int32Array(p);for(let T=1;T<=p;T++)m[p-T]=this.field.multiply(T,l.getCoefficient(T));let g=new qn(this.field,m),v=c.length,A=new Int32Array(v);for(let T=0;T<v;T++){let U=this.field.inverse(c[T]),K=this.field.subtract(0,s.evaluateAt(U)),X=this.field.inverse(g.evaluateAt(U));A[T]=this.field.multiply(K,X)}return A}}class Pa{constructor(s,l,c,p,m){s instanceof Pa?this.constructor_2(s):this.constructor_1(s,l,c,p,m)}constructor_1(s,l,c,p,m){const g=l==null||c==null,v=p==null||m==null;if(g&&v)throw new z;g?(l=new Ve(0,p.getY()),c=new Ve(0,m.getY())):v&&(p=new Ve(s.getWidth()-1,l.getY()),m=new Ve(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=l,this.bottomLeft=c,this.topRight=p,this.bottomRight=m,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(p.getX(),m.getX())),this.minY=Math.trunc(Math.min(l.getY(),p.getY())),this.maxY=Math.trunc(Math.max(c.getY(),m.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new Pa(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,c){let p=this.topLeft,m=this.bottomLeft,g=this.topRight,v=this.bottomRight;if(s>0){let A=c?this.topLeft:this.topRight,T=Math.trunc(A.getY()-s);T<0&&(T=0);let U=new Ve(A.getX(),T);c?p=U:g=U}if(l>0){let A=c?this.bottomLeft:this.bottomRight,T=Math.trunc(A.getY()+l);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let U=new Ve(A.getX(),T);c?m=U:v=U}return new Pa(this.image,p,m,g,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Wo{constructor(s,l,c,p){this.columnCount=s,this.errorCorrectionLevel=p,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class aa{constructor(){this.buffer=""}static form(s,l){let c=-1;function p(g,v,A,T,U,K){if(g==="%%")return"%";if(l[++c]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let X=U?parseInt(U.substr(1)):void 0,te;switch(K){case"s":te=l[c];break;case"c":te=l[c][0];break;case"f":te=parseFloat(l[c]).toFixed(g);break;case"p":te=parseFloat(l[c]).toPrecision(g);break;case"e":te=parseFloat(l[c]).toExponential(g);break;case"x":te=parseInt(l[c]).toString(X||16);break;case"d":te=parseFloat(parseInt(l[c],X||10).toPrecision(g)).toFixed(0);break}te=typeof te=="object"?JSON.stringify(te):(+te).toString(X);let le=parseInt(A),de=A&&A[0]+""=="0"?"0":" ";for(;te.length<le;)te=v!==void 0?te+de:de+te;return te}let m=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(m,p)}format(s,...l){this.buffer+=aa.form(s,l)}toString(){return this.buffer}}class $s{constructor(s){this.boundingBox=new Pa(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let c=1;c<$s.MAX_NEARBY_DISTANCE;c++){let p=this.imageRowToCodewordIndex(s)-c;if(p>=0&&(l=this.codewords[p],l!=null)||(p=this.imageRowToCodewordIndex(s)+c,p<this.codewords.length&&(l=this.codewords[p],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new aa;let l=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return s.toString()}}$s.MAX_NEARBY_DISTANCE=5;class as{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[c,p]of this.values.entries()){const m={getKey:()=>c,getValue:()=>p};m.getValue()>s?(s=m.getValue(),l=[],l.push(m.getKey())):m.getValue()===s&&l.push(m.getKey())}return et.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class nn extends $s{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let c=this.getBoundingBox(),p=this._isLeft?c.getTopLeft():c.getTopRight(),m=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(p.getY())),v=this.imageRowToCodewordIndex(Math.trunc(m.getY())),A=-1,T=1,U=0;for(let K=g;K<v;K++){if(l[K]==null)continue;let X=l[K],te=X.getRowNumber()-A;if(te===0)U++;else if(te===1)T=Math.max(T,U),U=1,A=X.getRowNumber();else if(te<0||X.getRowNumber()>=s.getRowCount()||te>K)l[K]=null;else{let le;T>2?le=(T-2)*te:le=te;let de=le>=K;for(let xe=1;xe<=le&&!de;xe++)de=l[K-xe]!=null;de?l[K]=null:(A=X.getRowNumber(),U=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let p=c.getRowNumber();if(p>=l.length)continue;l[p]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),p=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(p.getY())),v=this.getCodewords(),A=-1;for(let T=m;T<g;T++){if(v[T]==null)continue;let U=v[T];U.setRowNumberAsRowIndicatorColumn();let K=U.getRowNumber()-A;K===0||(K===1?A=U.getRowNumber():U.getRowNumber()>=s.getRowCount()?v[T]=null:A=U.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new as,c=new as,p=new as,m=new as;for(let v of s){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let A=v.getValue()%30,T=v.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:c.setValue(A*3+1);break;case 1:m.setValue(A/3),p.setValue(A%3);break;case 2:l.setValue(A+1);break}}if(l.getValue().length===0||c.getValue().length===0||p.getValue().length===0||m.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+p.getValue()[0]<et.MIN_ROWS_IN_BARCODE||c.getValue()[0]+p.getValue()[0]>et.MAX_ROWS_IN_BARCODE)return null;let g=new Wo(l.getValue()[0],c.getValue()[0],p.getValue()[0],m.getValue()[0]);return this.removeIncorrectCodewords(s,g),g}removeIncorrectCodewords(s,l){for(let c=0;c<s.length;c++){let p=s[c];if(s[c]==null)continue;let m=p.getValue()%30,g=p.getRowNumber();if(g>l.getRowCount()){s[c]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:m*3+1!==l.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(m/3)!==l.getErrorCorrectionLevel()||m%3!==l.getRowCountLowerPart())&&(s[c]=null);break;case 2:m+1!==l.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Go{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=et.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let p=0;p<c.length;p++)c[p]!=null&&(c[p].hasValidRowNumber()||this.adjustRowNumbers(l,p,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&l[c]!=null&&s[c].getRowNumber()===l[c].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let m=this.detectionResultColumns[p].getCodewords()[c];m!=null&&(m.setRowNumber(s[c].getRowNumber()),m.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let p=l[c].getRowNumber(),m=0;for(let g=this.barcodeColumnCount+1;g>0&&m<this.ADJUST_ROW_NUMBER_SKIP;g--){let v=this.detectionResultColumns[g].getCodewords()[c];v!=null&&(m=Go.adjustRowNumberIfValid(p,m,v),v.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let p=l[c].getRowNumber(),m=0;for(let g=1;g<this.barcodeColumnCount+1&&m<this.ADJUST_ROW_NUMBER_SKIP;g++){let v=this.detectionResultColumns[g].getCodewords()[c];v!=null&&(m=Go.adjustRowNumberIfValid(p,m,v),v.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,c){if(!this.detectionResultColumns[s-1])return;let p=c[l],m=this.detectionResultColumns[s-1].getCodewords(),g=m;this.detectionResultColumns[s+1]!=null&&(g=this.detectionResultColumns[s+1].getCodewords());let v=new Array(14);v[2]=m[l],v[3]=g[l],l>0&&(v[0]=c[l-1],v[4]=m[l-1],v[5]=g[l-1]),l>1&&(v[8]=c[l-2],v[10]=m[l-2],v[11]=g[l-2]),l<c.length-1&&(v[1]=c[l+1],v[6]=m[l+1],v[7]=g[l+1]),l<c.length-2&&(v[9]=c[l+2],v[12]=m[l+2],v[13]=g[l+2]);for(let A of v)if(Go.adjustRowNumber(p,A))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new aa;for(let c=0;c<s.getCodewords().length;c++){l.format("CW %3d:",c);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){l.format("    |   ");continue}let m=this.detectionResultColumns[p].getCodewords()[c];if(m==null){l.format("    |   ");continue}l.format(" %3d|%3d",m.getRowNumber(),m.getValue())}l.format("%n")}return l.toString()}}class Ko{constructor(s,l,c,p){this.rowNumber=Ko.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ko.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ko.BARCODE_ROW_UNKNOWN=-1;class hr{static initialize(){for(let s=0;s<et.SYMBOL_TABLE.length;s++){let l=et.SYMBOL_TABLE[s],c=l&1;for(let p=0;p<et.BARS_IN_MODULE;p++){let m=0;for(;(l&1)===c;)m+=1,l>>=1;c=l&1,hr.RATIOS_TABLE[s]||(hr.RATIOS_TABLE[s]=new Array(et.BARS_IN_MODULE)),hr.RATIOS_TABLE[s][et.BARS_IN_MODULE-p-1]=Math.fround(m/et.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=hr.getDecodedCodewordValue(hr.sampleBitCounts(s));return l!==-1?l:hr.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=lt.sum(s),c=new Int32Array(et.BARS_IN_MODULE),p=0,m=0;for(let g=0;g<et.MODULES_IN_CODEWORD;g++){let v=l/(2*et.MODULES_IN_CODEWORD)+g*l/et.MODULES_IN_CODEWORD;m+s[p]<=v&&(m+=s[p],p++),c[p]++}return c}static getDecodedCodewordValue(s){let l=hr.getBitValue(s);return et.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let c=0;c<s.length;c++)for(let p=0;p<s[c];p++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=lt.sum(s),c=new Array(et.BARS_IN_MODULE);if(l>1)for(let g=0;g<c.length;g++)c[g]=Math.fround(s[g]/l);let p=ui.MAX_VALUE,m=-1;this.bSymbolTableReady||hr.initialize();for(let g=0;g<hr.RATIOS_TABLE.length;g++){let v=0,A=hr.RATIOS_TABLE[g];for(let T=0;T<et.BARS_IN_MODULE;T++){let U=Math.fround(A[T]-c[T]);if(v+=Math.fround(U*U),v>=p)break}v<p&&(p=v,m=et.SYMBOL_TABLE[g])}return m}}hr.bSymbolTableReady=!1,hr.RATIOS_TABLE=new Array(et.SYMBOL_TABLE.length).map(G=>new Array(et.BARS_IN_MODULE));class hd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class pd{static parseLong(s,l=void 0){return parseInt(s,l)}}class Xo extends h{}Xo.kind="NullPointerException";class e0{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,c){if(s==null)throw new Xo;if(l<0||l>s.length||c<0||l+c>s.length||l+c<0)throw new M;if(c===0)return;for(let p=0;p<c;p++)this.write(s[l+p])}flush(){}close(){}}class sa extends h{}class t0 extends e0{constructor(s=32){if(super(),this.count=0,s<0)throw new y("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new sa;c=C.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,c){if(l<0||l>s.length||c<0||l+c-s.length>0)throw new M;this.ensureCapacity(this.count+c),N.arraycopy(s,l,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Dt;(function(G){G[G.ALPHA=0]="ALPHA",G[G.LOWER=1]="LOWER",G[G.MIXED=2]="MIXED",G[G.PUNCT=3]="PUNCT",G[G.ALPHA_SHIFT=4]="ALPHA_SHIFT",G[G.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Dt||(Dt={}));function Vs(){if(typeof window<"u")return window.BigInt||null;if(typeof La<"u")return La.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Yo;function Li(G){if(typeof Yo>"u"&&(Yo=Vs()),Yo===null)throw new Error("BigInt is not supported!");return Yo(G)}function ac(){let G=[];G[0]=Li(1);let s=Li(900);G[1]=s;for(let l=2;l<16;l++)G[l]=G[l-1]*s;return G}class be{static decode(s,l){let c=new F(""),p=L.ISO8859_1;c.enableDecoding(p);let m=1,g=s[m++],v=new hd;for(;m<s[0];){switch(g){case be.TEXT_COMPACTION_MODE_LATCH:m=be.textCompaction(s,m,c);break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:m=be.byteCompaction(g,s,p,m,c);break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[m++]);break;case be.NUMERIC_COMPACTION_MODE_LATCH:m=be.numericCompaction(s,m,c);break;case be.ECI_CHARSET:L.getCharacterSetECIByValue(s[m++]);break;case be.ECI_GENERAL_PURPOSE:m+=2;break;case be.ECI_USER_DEFINED:m++;break;case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:m=be.decodeMacroBlock(s,m,v);break;case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:throw new j;default:m--,m=be.textCompaction(s,m,c);break}if(m<s.length)g=s[m++];else throw j.getFormatInstance()}if(c.length()===0)throw j.getFormatInstance();let A=new fe(null,c.toString(),null,l);return A.setOther(v),A}static decodeMacroBlock(s,l,c){if(l+be.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw j.getFormatInstance();let p=new Int32Array(be.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<be.NUMBER_OF_SEQUENCE_CODEWORDS;v++,l++)p[v]=s[l];c.setSegmentIndex(C.parseInt(be.decodeBase900toBase10(p,be.NUMBER_OF_SEQUENCE_CODEWORDS)));let m=new F;l=be.textCompaction(s,l,m),c.setFileId(m.toString());let g=-1;for(s[l]===be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=l+1);l<s[0];)switch(s[l]){case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new F;l=be.textCompaction(s,l+1,v),c.setFileName(v.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new F;l=be.textCompaction(s,l+1,A),c.setSender(A.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new F;l=be.textCompaction(s,l+1,T),c.setAddressee(T.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let U=new F;l=be.numericCompaction(s,l+1,U),c.setSegmentCount(C.parseInt(U.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let K=new F;l=be.numericCompaction(s,l+1,K),c.setTimestamp(pd.parseLong(K.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let X=new F;l=be.numericCompaction(s,l+1,X),c.setChecksum(C.parseInt(X.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let te=new F;l=be.numericCompaction(s,l+1,te),c.setFileSize(pd.parseLong(te.toString()));break;default:throw j.getFormatInstance()}break;case be.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(g!==-1){let v=l-g;c.isLastSegment()&&v--,c.setOptionalData(S.copyOfRange(s,g,g+v))}return l}static textCompaction(s,l,c){let p=new Int32Array((s[0]-l)*2),m=new Int32Array((s[0]-l)*2),g=0,v=!1;for(;l<s[0]&&!v;){let A=s[l++];if(A<be.TEXT_COMPACTION_MODE_LATCH)p[g]=A/30,p[g+1]=A%30,g+=2;else switch(A){case be.TEXT_COMPACTION_MODE_LATCH:p[g++]=be.TEXT_COMPACTION_MODE_LATCH;break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:l--,v=!0;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[g]=be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=s[l++],m[g]=A,g++;break}}return be.decodeTextCompaction(p,m,g,c),l}static decodeTextCompaction(s,l,c,p){let m=Dt.ALPHA,g=Dt.ALPHA,v=0;for(;v<c;){let A=s[v],T="";switch(m){case Dt.ALPHA:if(A<26)T=String.fromCharCode(65+A);else switch(A){case 26:T=" ";break;case be.LL:m=Dt.LOWER;break;case be.ML:m=Dt.MIXED;break;case be.PS:g=m,m=Dt.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[v]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Dt.ALPHA;break}break;case Dt.LOWER:if(A<26)T=String.fromCharCode(97+A);else switch(A){case 26:T=" ";break;case be.AS:g=m,m=Dt.ALPHA_SHIFT;break;case be.ML:m=Dt.MIXED;break;case be.PS:g=m,m=Dt.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[v]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Dt.ALPHA;break}break;case Dt.MIXED:if(A<be.PL)T=be.MIXED_CHARS[A];else switch(A){case be.PL:m=Dt.PUNCT;break;case 26:T=" ";break;case be.LL:m=Dt.LOWER;break;case be.AL:m=Dt.ALPHA;break;case be.PS:g=m,m=Dt.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[v]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Dt.ALPHA;break}break;case Dt.PUNCT:if(A<be.PAL)T=be.PUNCT_CHARS[A];else switch(A){case be.PAL:m=Dt.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[v]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Dt.ALPHA;break}break;case Dt.ALPHA_SHIFT:if(m=g,A<26)T=String.fromCharCode(65+A);else switch(A){case 26:T=" ";break;case be.TEXT_COMPACTION_MODE_LATCH:m=Dt.ALPHA;break}break;case Dt.PUNCT_SHIFT:if(m=g,A<be.PAL)T=be.PUNCT_CHARS[A];else switch(A){case be.PAL:m=Dt.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[v]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Dt.ALPHA;break}break}T!==""&&p.append(T),v++}}static byteCompaction(s,l,c,p,m){let g=new t0,v=0,A=0,T=!1;switch(s){case be.BYTE_COMPACTION_MODE_LATCH:let U=new Int32Array(6),K=l[p++];for(;p<l[0]&&!T;)switch(U[v++]=K,A=900*A+K,K=l[p++],K){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:p--,T=!0;break;default:if(v%5===0&&v>0){for(let X=0;X<6;++X)g.write(Number(Li(A)>>Li(8*(5-X))));A=0,v=0}break}p===l[0]&&K<be.TEXT_COMPACTION_MODE_LATCH&&(U[v++]=K);for(let X=0;X<v;X++)g.write(U[X]);break;case be.BYTE_COMPACTION_MODE_LATCH_6:for(;p<l[0]&&!T;){let X=l[p++];if(X<be.TEXT_COMPACTION_MODE_LATCH)v++,A=900*A+X;else switch(X){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:p--,T=!0;break}if(v%5===0&&v>0){for(let te=0;te<6;++te)g.write(Number(Li(A)>>Li(8*(5-te))));A=0,v=0}}break}return m.append(O.decode(g.toByteArray(),c)),p}static numericCompaction(s,l,c){let p=0,m=!1,g=new Int32Array(be.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!m;){let v=s[l++];if(l===s[0]&&(m=!0),v<be.TEXT_COMPACTION_MODE_LATCH)g[p]=v,p++;else switch(v){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:l--,m=!0;break}(p%be.MAX_NUMERIC_CODEWORDS===0||v===be.NUMERIC_COMPACTION_MODE_LATCH||m)&&p>0&&(c.append(be.decodeBase900toBase10(g,p)),p=0)}return l}static decodeBase900toBase10(s,l){let c=Li(0);for(let m=0;m<l;m++)c+=be.EXP900[l-m-1]*Li(s[m]);let p=c.toString();if(p.charAt(0)!=="1")throw new j;return p.substring(1)}}be.TEXT_COMPACTION_MODE_LATCH=900,be.BYTE_COMPACTION_MODE_LATCH=901,be.NUMERIC_COMPACTION_MODE_LATCH=902,be.BYTE_COMPACTION_MODE_LATCH_6=924,be.ECI_USER_DEFINED=925,be.ECI_GENERAL_PURPOSE=926,be.ECI_CHARSET=927,be.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,be.MACRO_PDF417_TERMINATOR=922,be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,be.MAX_NUMERIC_CODEWORDS=15,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,be.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,be.PL=25,be.LL=27,be.AS=27,be.ML=28,be.AL=28,be.PS=29,be.PAL=29,be.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,be.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",be.EXP900=Vs()?ac():[],be.NUMBER_OF_SEQUENCE_CODEWORDS=2;class at{constructor(){}static decode(s,l,c,p,m,g,v){let A=new Pa(s,l,c,p,m),T=null,U=null,K;for(let le=!0;;le=!1){if(l!=null&&(T=at.getRowIndicatorColumn(s,A,l,!0,g,v)),p!=null&&(U=at.getRowIndicatorColumn(s,A,p,!1,g,v)),K=at.merge(T,U),K==null)throw z.getNotFoundInstance();let de=K.getBoundingBox();if(le&&de!=null&&(de.getMinY()<A.getMinY()||de.getMaxY()>A.getMaxY()))A=de;else break}K.setBoundingBox(A);let X=K.getBarcodeColumnCount()+1;K.setDetectionResultColumn(0,T),K.setDetectionResultColumn(X,U);let te=T!=null;for(let le=1;le<=X;le++){let de=te?le:X-le;if(K.getDetectionResultColumn(de)!==void 0)continue;let xe;de===0||de===X?xe=new nn(A,de===0):xe=new $s(A),K.setDetectionResultColumn(de,xe);let _e=-1,Me=_e;for(let De=A.getMinY();De<=A.getMaxY();De++){if(_e=at.getStartColumn(K,de,De,te),_e<0||_e>A.getMaxX()){if(Me===-1)continue;_e=Me}let Oe=at.detectCodeword(s,A.getMinX(),A.getMaxX(),te,_e,De,g,v);Oe!=null&&(xe.setCodeword(De,Oe),Me=_e,g=Math.min(g,Oe.getWidth()),v=Math.max(v,Oe.getWidth()))}}return at.createDecoderResult(K)}static merge(s,l){if(s==null&&l==null)return null;let c=at.getBarcodeMetadata(s,l);if(c==null)return null;let p=Pa.merge(at.adjustBoundingBox(s),at.adjustBoundingBox(l));return new Go(c,p)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let c=at.getMax(l),p=0;for(let v of l)if(p+=c-v,v>0)break;let m=s.getCodewords();for(let v=0;p>0&&m[v]==null;v++)p--;let g=0;for(let v=l.length-1;v>=0&&(g+=c-l[v],!(l[v]>0));v--);for(let v=m.length-1;g>0&&m[v]==null;v--)g--;return s.getBoundingBox().addMissingRows(p,g,s.isLeft())}static getMax(s){let l=-1;for(let c of s)l=Math.max(l,c);return l}static getBarcodeMetadata(s,l){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let p;return l==null||(p=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==p.getColumnCount()&&c.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&c.getRowCount()!==p.getRowCount()?null:c}static getRowIndicatorColumn(s,l,c,p,m,g){let v=new nn(l,p);for(let A=0;A<2;A++){let T=A===0?1:-1,U=Math.trunc(Math.trunc(c.getX()));for(let K=Math.trunc(Math.trunc(c.getY()));K<=l.getMaxY()&&K>=l.getMinY();K+=T){let X=at.detectCodeword(s,0,s.getWidth(),p,U,K,m,g);X!=null&&(v.setCodeword(K,X),p?U=X.getStartX():U=X.getEndX())}}return v}static adjustCodewordCount(s,l){let c=l[0][1],p=c.getValue(),m=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-at.getNumberOfECCodeWords(s.getBarcodeECLevel());if(p.length===0){if(m<1||m>et.MAX_CODEWORDS_IN_BARCODE)throw z.getNotFoundInstance();c.setValue(m)}else p[0]!==m&&c.setValue(m)}static createDecoderResult(s){let l=at.createBarcodeMatrix(s);at.adjustCodewordCount(s,l);let c=new Array,p=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),m=[],g=new Array;for(let A=0;A<s.getBarcodeRowCount();A++)for(let T=0;T<s.getBarcodeColumnCount();T++){let U=l[A][T+1].getValue(),K=A*s.getBarcodeColumnCount()+T;U.length===0?c.push(K):U.length===1?p[K]=U[0]:(g.push(K),m.push(U))}let v=new Array(m.length);for(let A=0;A<v.length;A++)v[A]=m[A];return at.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),p,et.toIntArray(c),et.toIntArray(g),v)}static createDecoderResultFromAmbiguousValues(s,l,c,p,m){let g=new Int32Array(p.length),v=100;for(;v-- >0;){for(let A=0;A<g.length;A++)l[p[A]]=m[A][g[A]];try{return at.decodeCodewords(l,s,c)}catch(A){if(!(A instanceof _))throw A}if(g.length===0)throw _.getChecksumInstance();for(let A=0;A<g.length;A++)if(g[A]<m[A].length-1){g[A]++;break}else if(g[A]=0,A===g.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let p=0;p<l.length;p++)for(let m=0;m<l[p].length;m++)l[p][m]=new as;let c=0;for(let p of s.getDetectionResultColumns()){if(p!=null){for(let m of p.getCodewords())if(m!=null){let g=m.getRowNumber();if(g>=0){if(g>=l.length)continue;l[g][c].setValue(m.getValue())}}}c++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,c,p){let m=p?1:-1,g=null;if(at.isValidBarcodeColumn(s,l-m)&&(g=s.getDetectionResultColumn(l-m).getCodeword(c)),g!=null)return p?g.getEndX():g.getStartX();if(g=s.getDetectionResultColumn(l).getCodewordNearby(c),g!=null)return p?g.getStartX():g.getEndX();if(at.isValidBarcodeColumn(s,l-m)&&(g=s.getDetectionResultColumn(l-m).getCodewordNearby(c)),g!=null)return p?g.getEndX():g.getStartX();let v=0;for(;at.isValidBarcodeColumn(s,l-m);){l-=m;for(let A of s.getDetectionResultColumn(l).getCodewords())if(A!=null)return(p?A.getEndX():A.getStartX())+m*v*(A.getEndX()-A.getStartX());v++}return p?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,c,p,m,g,v,A){m=at.adjustCodewordStartColumn(s,l,c,p,m,g);let T=at.getModuleBitCount(s,l,c,p,m,g);if(T==null)return null;let U,K=lt.sum(T);if(p)U=m+K;else{for(let le=0;le<T.length/2;le++){let de=T[le];T[le]=T[T.length-1-le],T[T.length-1-le]=de}U=m,m=U-K}if(!at.checkCodewordSkew(K,v,A))return null;let X=hr.getDecodedValue(T),te=et.getCodeword(X);return te===-1?null:new Ko(m,U,at.getCodewordBucketNumber(X),te)}static getModuleBitCount(s,l,c,p,m,g){let v=m,A=new Int32Array(8),T=0,U=p?1:-1,K=p;for(;(p?v<c:v>=l)&&T<A.length;)s.get(v,g)===K?(A[T]++,v+=U):(T++,K=!K);return T===A.length||v===(p?c:l)&&T===A.length-1?A:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,c,p,m,g){let v=m,A=p?-1:1;for(let T=0;T<2;T++){for(;(p?v>=l:v<c)&&p===s.get(v,g);){if(Math.abs(m-v)>at.CODEWORD_SKEW_SIZE)return m;v+=A}A=-A,p=!p}return v}static checkCodewordSkew(s,l,c){return l-at.CODEWORD_SKEW_SIZE<=s&&s<=c+at.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,c){if(s.length===0)throw j.getFormatInstance();let p=1<<l+1,m=at.correctErrors(s,c,p);at.verifyCodewordCount(s,p);let g=be.decode(s,""+l);return g.setErrorsCorrected(m),g.setErasures(c.length),g}static correctErrors(s,l,c){if(l!=null&&l.length>c/2+at.MAX_ERRORS||c<0||c>at.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return at.errorCorrection.decode(s,c,l)}static verifyCodewordCount(s,l){if(s.length<4)throw j.getFormatInstance();let c=s[0];if(c>s.length)throw j.getFormatInstance();if(c===0)if(l<s.length)s[0]=s.length-l;else throw j.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),c=0,p=l.length-1;for(;!((s&1)!==c&&(c=s&1,p--,p<0));)l[p]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return at.getCodewordBucketNumber(at.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new aa;for(let c=0;c<s.length;c++){l.format("Row %2d: ",c);for(let p=0;p<s[c].length;p++){let m=s[c][p];m.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",m.getValue()[0],m.getConfidence(m.getValue()[0]))}l.format("%n")}return l.toString()}}at.CODEWORD_SKEW_SIZE=2,at.MAX_ERRORS=3,at.MAX_EC_CODEWORDS=512,at.errorCorrection=new Ho;class Hn{decode(s,l=null){let c=Hn.decode(s,l,!1);if(c==null||c.length===0||c[0]==null)throw z.getNotFoundInstance();return c[0]}decodeMultiple(s,l=null){try{return Hn.decode(s,l,!0)}catch(c){throw c instanceof j||c instanceof _?z.getNotFoundInstance():c}}static decode(s,l,c){const p=new Array,m=nt.detectMultiple(s,l,c);for(const g of m.getPoints()){const v=at.decode(m.getBits(),g[4],g[5],g[6],g[7],Hn.getMinCodewordWidth(g),Hn.getMaxCodewordWidth(g)),A=new se(v.getText(),v.getRawBytes(),void 0,g,oe.PDF_417);A.putMetadata(Q.ERROR_CORRECTION_LEVEL,v.getECLevel());const T=v.getOther();T!=null&&A.putMetadata(Q.PDF417_EXTRA_METADATA,T),p.push(A)}return p.map(g=>g)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?C.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Hn.getMaxWidth(s[0],s[4]),Hn.getMaxWidth(s[6],s[2])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN),Math.max(Hn.getMaxWidth(s[1],s[5]),Hn.getMaxWidth(s[7],s[3])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Hn.getMinWidth(s[0],s[4]),Hn.getMinWidth(s[6],s[2])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN),Math.min(Hn.getMinWidth(s[1],s[5]),Hn.getMinWidth(s[7],s[3])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN)))}reset(){}}class Qo extends h{}Qo.kind="ReaderException";class Us{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!r(s)&&s.get(R.TRY_HARDER)===!0,c=r(s)?null:s.get(R.POSSIBLE_FORMATS),p=new Array;if(!r(c)){const m=c.some(g=>g===oe.UPC_A||g===oe.UPC_E||g===oe.EAN_13||g===oe.EAN_8||g===oe.CODABAR||g===oe.CODE_39||g===oe.CODE_93||g===oe.CODE_128||g===oe.ITF||g===oe.RSS_14||g===oe.RSS_EXPANDED);m&&!l&&p.push(new Na(s,this.verbose)),c.includes(oe.QR_CODE)&&p.push(new Oa),c.includes(oe.DATA_MATRIX)&&p.push(new ia),c.includes(oe.AZTEC)&&p.push(new Jl),c.includes(oe.PDF_417)&&p.push(new Hn),m&&l&&p.push(new Na(s,this.verbose))}p.length===0&&(l||p.push(new Na(s,this.verbose)),p.push(new Oa),p.push(new ia),p.push(new Jl),p.push(new Hn),l&&p.push(new Na(s,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Qo("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(c){if(c instanceof Qo)continue}throw new z("No MultiFormat Readers were able to detect the code.")}}class n0 extends pe{constructor(s=null,l=500){const c=new Us;c.setHints(s),super(c,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class r0 extends pe{constructor(s=500){super(new Hn,s)}}class md extends pe{constructor(s=500){super(new Oa,s)}}var Zo;(function(G){G[G.ERROR_CORRECTION=0]="ERROR_CORRECTION",G[G.CHARACTER_SET=1]="CHARACTER_SET",G[G.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",G[G.MIN_SIZE=3]="MIN_SIZE",G[G.MAX_SIZE=4]="MAX_SIZE",G[G.MARGIN=5]="MARGIN",G[G.PDF417_COMPACT=6]="PDF417_COMPACT",G[G.PDF417_COMPACTION=7]="PDF417_COMPACTION",G[G.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",G[G.AZTEC_LAYERS=9]="AZTEC_LAYERS",G[G.QR_VERSION=10]="QR_VERSION"})(Zo||(Zo={}));var Tn=Zo;class zs{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new ie(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let c=l[l.length-1];const p=this.field;for(let m=l.length;m<=s;m++){const g=c.multiply(new ie(p,Int32Array.from([1,p.exp(m-1+p.getGeneratorBase())])));l.push(g),c=g}}return l[s]}encode(s,l){if(l===0)throw new y("No error correction bytes");const c=s.length-l;if(c<=0)throw new y("No data bytes provided");const p=this.buildGenerator(l),m=new Int32Array(c);N.arraycopy(s,0,m,0,c);let g=new ie(this.field,m);g=g.multiplyByMonomial(l,1);const A=g.divide(p)[1].getCoefficients(),T=l-A.length;for(let U=0;U<T;U++)s[c+U]=0;N.arraycopy(A,0,s,c+T,A.length)}}class rn{constructor(){}static applyMaskPenaltyRule1(s){return rn.applyMaskPenaltyRule1Internal(s,!0)+rn.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const c=s.getArray(),p=s.getWidth(),m=s.getHeight();for(let g=0;g<m-1;g++){const v=c[g];for(let A=0;A<p-1;A++){const T=v[A];T===v[A+1]&&T===c[g+1][A]&&T===c[g+1][A+1]&&l++}}return rn.N2*l}static applyMaskPenaltyRule3(s){let l=0;const c=s.getArray(),p=s.getWidth(),m=s.getHeight();for(let g=0;g<m;g++)for(let v=0;v<p;v++){const A=c[g];v+6<p&&A[v]===1&&A[v+1]===0&&A[v+2]===1&&A[v+3]===1&&A[v+4]===1&&A[v+5]===0&&A[v+6]===1&&(rn.isWhiteHorizontal(A,v-4,v)||rn.isWhiteHorizontal(A,v+7,v+11))&&l++,g+6<m&&c[g][v]===1&&c[g+1][v]===0&&c[g+2][v]===1&&c[g+3][v]===1&&c[g+4][v]===1&&c[g+5][v]===0&&c[g+6][v]===1&&(rn.isWhiteVertical(c,v,g-4,g)||rn.isWhiteVertical(c,v,g+7,g+11))&&l++}return l*rn.N3}static isWhiteHorizontal(s,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let p=l;p<c;p++)if(s[p]===1)return!1;return!0}static isWhiteVertical(s,l,c,p){c=Math.max(c,0),p=Math.min(p,s.length);for(let m=c;m<p;m++)if(s[m][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const c=s.getArray(),p=s.getWidth(),m=s.getHeight();for(let A=0;A<m;A++){const T=c[A];for(let U=0;U<p;U++)T[U]===1&&l++}const g=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-g)*10/g)*rn.N4}static getDataMaskBit(s,l,c){let p,m;switch(s){case 0:p=c+l&1;break;case 1:p=c&1;break;case 2:p=l%3;break;case 3:p=(c+l)%3;break;case 4:p=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:m=c*l,p=(m&1)+m%3;break;case 6:m=c*l,p=(m&1)+m%3&1;break;case 7:m=c*l,p=m%3+(c+l&1)&1;break;default:throw new y("Invalid mask pattern: "+s)}return p===0}static applyMaskPenaltyRule1Internal(s,l){let c=0;const p=l?s.getHeight():s.getWidth(),m=l?s.getWidth():s.getHeight(),g=s.getArray();for(let v=0;v<p;v++){let A=0,T=-1;for(let U=0;U<m;U++){const K=l?g[v][U]:g[U][v];K===T?A++:(A>=5&&(c+=rn.N1+(A-5)),A=1,T=K)}A>=5&&(c+=rn.N1+(A-5))}return c}}rn.N1=3,rn.N2=3,rn.N3=40,rn.N4=10;class Jo{constructor(s,l){this.width=s,this.height=l;const c=new Array(l);for(let p=0;p!==l;p++)c[p]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,c){this.bytes[l][s]=c}setBoolean(s,l,c){this.bytes[l][s]=c?1:0}clear(s){for(const l of this.bytes)S.fill(l,s)}equals(s){if(!(s instanceof Jo))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,p=this.height;c<p;++c){const m=this.bytes[c],g=l.bytes[c];for(let v=0,A=this.width;v<A;++v)if(m[v]!==g[v])return!1}return!0}toString(){const s=new F;for(let l=0,c=this.height;l<c;++l){const p=this.bytes[l];for(let m=0,g=this.width;m<g;++m)switch(p[m]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Rr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new F;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Rr.NUM_MASK_PATTERNS}}Rr.NUM_MASK_PATTERNS=8;class Rt extends h{}Rt.kind="WriterException";class Qe{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,c,p,m){Qe.clearMatrix(m),Qe.embedBasicPatterns(c,m),Qe.embedTypeInfo(l,p,m),Qe.maybeEmbedVersionInfo(c,m),Qe.embedDataBits(s,p,m)}static embedBasicPatterns(s,l){Qe.embedPositionDetectionPatternsAndSeparators(l),Qe.embedDarkDotAtLeftBottomCorner(l),Qe.maybeEmbedPositionAdjustmentPatterns(s,l),Qe.embedTimingPatterns(l)}static embedTypeInfo(s,l,c){const p=new V;Qe.makeTypeInfoBits(s,l,p);for(let m=0,g=p.getSize();m<g;++m){const v=p.get(p.getSize()-1-m),A=Qe.TYPE_INFO_COORDINATES[m],T=A[0],U=A[1];if(c.setBoolean(T,U,v),m<8){const K=c.getWidth()-m-1;c.setBoolean(K,8,v)}else{const X=c.getHeight()-7+(m-8);c.setBoolean(8,X,v)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const c=new V;Qe.makeVersionInfoBits(s,c);let p=6*3-1;for(let m=0;m<6;++m)for(let g=0;g<3;++g){const v=c.get(p);p--,l.setBoolean(m,l.getHeight()-11+g,v),l.setBoolean(l.getHeight()-11+g,m,v)}}static embedDataBits(s,l,c){let p=0,m=-1,g=c.getWidth()-1,v=c.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);v>=0&&v<c.getHeight();){for(let A=0;A<2;++A){const T=g-A;if(!Qe.isEmpty(c.get(T,v)))continue;let U;p<s.getSize()?(U=s.get(p),++p):U=!1,l!==255&&rn.getDataMaskBit(l,T,v)&&(U=!U),c.setBoolean(T,v,U)}v+=m}m=-m,v+=m,g-=2}if(p!==s.getSize())throw new Rt("Not all bits consumed: "+p+"/"+s.getSize())}static findMSBSet(s){return 32-C.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new y("0 polynomial");const c=Qe.findMSBSet(l);for(s<<=c-1;Qe.findMSBSet(s)>=c;)s^=l<<Qe.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,l,c){if(!Rr.isValidMaskPattern(l))throw new Rt("Invalid mask pattern");const p=s.getBits()<<3|l;c.appendBits(p,5);const m=Qe.calculateBCHCode(p,Qe.TYPE_INFO_POLY);c.appendBits(m,10);const g=new V;if(g.appendBits(Qe.TYPE_INFO_MASK_PATTERN,15),c.xor(g),c.getSize()!==15)throw new Rt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const c=Qe.calculateBCHCode(s.getVersionNumber(),Qe.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new Rt("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const c=(l+1)%2;Qe.isEmpty(s.get(l,6))&&s.setNumber(l,6,c),Qe.isEmpty(s.get(6,l))&&s.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Rt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,c){for(let p=0;p<8;++p){if(!Qe.isEmpty(c.get(s+p,l)))throw new Rt;c.setNumber(s+p,l,0)}}static embedVerticalSeparationPattern(s,l,c){for(let p=0;p<7;++p){if(!Qe.isEmpty(c.get(s,l+p)))throw new Rt;c.setNumber(s,l+p,0)}}static embedPositionAdjustmentPattern(s,l,c){for(let p=0;p<5;++p){const m=Qe.POSITION_ADJUSTMENT_PATTERN[p];for(let g=0;g<5;++g)c.setNumber(s+g,l+p,m[g])}}static embedPositionDetectionPattern(s,l,c){for(let p=0;p<7;++p){const m=Qe.POSITION_DETECTION_PATTERN[p];for(let g=0;g<7;++g)c.setNumber(s+g,l+p,m[g])}}static embedPositionDetectionPatternsAndSeparators(s){const l=Qe.POSITION_DETECTION_PATTERN[0].length;Qe.embedPositionDetectionPattern(0,0,s),Qe.embedPositionDetectionPattern(s.getWidth()-l,0,s),Qe.embedPositionDetectionPattern(0,s.getWidth()-l,s);const c=8;Qe.embedHorizontalSeparationPattern(0,c-1,s),Qe.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),Qe.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const p=7;Qe.embedVerticalSeparationPattern(p,0,s),Qe.embedVerticalSeparationPattern(s.getHeight()-p-1,0,s),Qe.embedVerticalSeparationPattern(p,s.getHeight()-p,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,p=Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let m=0,g=p.length;m!==g;m++){const v=p[m];if(v>=0)for(let A=0;A!==g;A++){const T=p[A];T>=0&&Qe.isEmpty(l.get(T,v))&&Qe.embedPositionAdjustmentPattern(T-2,v-2,l)}}}}Qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qe.VERSION_INFO_POLY=7973,Qe.TYPE_INFO_POLY=1335,Qe.TYPE_INFO_MASK_PATTERN=21522;class i0{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ht{constructor(){}static calculateMaskPenalty(s){return rn.applyMaskPenaltyRule1(s)+rn.applyMaskPenaltyRule2(s)+rn.applyMaskPenaltyRule3(s)+rn.applyMaskPenaltyRule4(s)}static encode(s,l,c=null){let p=Ht.DEFAULT_BYTE_MODE_ENCODING;const m=c!==null&&c.get(Tn.CHARACTER_SET)!==void 0;m&&(p=c.get(Tn.CHARACTER_SET).toString());const g=this.chooseMode(s,p),v=new V;if(g===Ye.BYTE&&(m||Ht.DEFAULT_BYTE_MODE_ENCODING!==p)){const De=L.getCharacterSetECIByName(p);De!==void 0&&this.appendECI(De,v)}this.appendModeInfo(g,v);const A=new V;this.appendBytes(s,g,A,p);let T;if(c!==null&&c.get(Tn.QR_VERSION)!==void 0){const De=Number.parseInt(c.get(Tn.QR_VERSION).toString(),10);T=Fe.getVersionForNumber(De);const Oe=this.calculateBitsNeeded(g,v,A,T);if(!this.willFit(Oe,T,l))throw new Rt("Data too big for requested version")}else T=this.recommendVersion(l,g,v,A);const U=new V;U.appendBitArray(v);const K=g===Ye.BYTE?A.getSizeInBytes():s.length;this.appendLengthInfo(K,T,g,U),U.appendBitArray(A);const X=T.getECBlocksForLevel(l),te=T.getTotalCodewords()-X.getTotalECCodewords();this.terminateBits(te,U);const le=this.interleaveWithECBytes(U,T.getTotalCodewords(),te,X.getNumBlocks()),de=new Rr;de.setECLevel(l),de.setMode(g),de.setVersion(T);const xe=T.getDimensionForVersion(),_e=new Jo(xe,xe),Me=this.chooseMaskPattern(le,l,T,_e);return de.setMaskPattern(Me),Qe.buildMatrix(le,l,T,Me,_e),de.setMatrix(_e),de}static recommendVersion(s,l,c,p){const m=this.calculateBitsNeeded(l,c,p,Fe.getVersionForNumber(1)),g=this.chooseVersion(m,s),v=this.calculateBitsNeeded(l,c,p,g);return this.chooseVersion(v,s)}static calculateBitsNeeded(s,l,c,p){return l.getSize()+s.getCharacterCountBits(p)+c.getSize()}static getAlphanumericCode(s){return s<Ht.ALPHANUMERIC_TABLE.length?Ht.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(L.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return Ye.KANJI;let c=!1,p=!1;for(let m=0,g=s.length;m<g;++m){const v=s.charAt(m);if(Ht.isDigit(v))c=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)p=!0;else return Ye.BYTE}return p?Ye.ALPHANUMERIC:c?Ye.NUMERIC:Ye.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=O.encode(s,L.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let p=0;p<c;p+=2){const m=l[p]&255;if((m<129||m>159)&&(m<224||m>235))return!1}return!0}static chooseMaskPattern(s,l,c,p){let m=Number.MAX_SAFE_INTEGER,g=-1;for(let v=0;v<Rr.NUM_MASK_PATTERNS;v++){Qe.buildMatrix(s,l,c,v,p);let A=this.calculateMaskPenalty(p);A<m&&(m=A,g=v)}return g}static chooseVersion(s,l){for(let c=1;c<=40;c++){const p=Fe.getVersionForNumber(c);if(Ht.willFit(s,p,l))return p}throw new Rt("Data too big")}static willFit(s,l,c){const p=l.getTotalCodewords(),g=l.getECBlocksForLevel(c).getTotalECCodewords(),v=p-g,A=(s+7)/8;return v>=A}static terminateBits(s,l){const c=s*8;if(l.getSize()>c)throw new Rt("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let g=0;g<4&&l.getSize()<c;++g)l.appendBit(!1);const p=l.getSize()&7;if(p>0)for(let g=p;g<8;g++)l.appendBit(!1);const m=s-l.getSizeInBytes();for(let g=0;g<m;++g)l.appendBits(g&1?17:236,8);if(l.getSize()!==c)throw new Rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,c,p,m,g){if(p>=c)throw new Rt("Block ID too large");const v=s%c,A=c-v,T=Math.floor(s/c),U=T+1,K=Math.floor(l/c),X=K+1,te=T-K,le=U-X;if(te!==le)throw new Rt("EC bytes mismatch");if(c!==A+v)throw new Rt("RS blocks mismatch");if(s!==(K+te)*A+(X+le)*v)throw new Rt("Total bytes mismatch");p<A?(m[0]=K,g[0]=te):(m[0]=X,g[0]=le)}static interleaveWithECBytes(s,l,c,p){if(s.getSizeInBytes()!==c)throw new Rt("Number of bits and data bytes does not match");let m=0,g=0,v=0;const A=new Array;for(let U=0;U<p;++U){const K=new Int32Array(1),X=new Int32Array(1);Ht.getNumDataBytesAndNumECBytesForBlockID(l,c,p,U,K,X);const te=K[0],le=new Uint8Array(te);s.toBytes(8*m,le,0,te);const de=Ht.generateECBytes(le,X[0]);A.push(new i0(le,de)),g=Math.max(g,te),v=Math.max(v,de.length),m+=K[0]}if(c!==m)throw new Rt("Data bytes does not match offset");const T=new V;for(let U=0;U<g;++U)for(const K of A){const X=K.getDataBytes();U<X.length&&T.appendBits(X[U],8)}for(let U=0;U<v;++U)for(const K of A){const X=K.getErrorCorrectionBytes();U<X.length&&T.appendBits(X[U],8)}if(l!==T.getSizeInBytes())throw new Rt("Interleaving error: "+l+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(s,l){const c=s.length,p=new Int32Array(c+l);for(let g=0;g<c;g++)p[g]=s[g]&255;new zs(Ce.QR_CODE_FIELD_256).encode(p,l);const m=new Uint8Array(l);for(let g=0;g<l;g++)m[g]=p[c+g];return m}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,c,p){const m=c.getCharacterCountBits(l);if(s>=1<<m)throw new Rt(s+" is bigger than "+((1<<m)-1));p.appendBits(s,m)}static appendBytes(s,l,c,p){switch(l){case Ye.NUMERIC:Ht.appendNumericBytes(s,c);break;case Ye.ALPHANUMERIC:Ht.appendAlphanumericBytes(s,c);break;case Ye.BYTE:Ht.append8BitBytes(s,c,p);break;case Ye.KANJI:Ht.appendKanjiBytes(s,c);break;default:throw new Rt("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=Ht.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const c=s.length;let p=0;for(;p<c;){const m=Ht.getDigit(s.charAt(p));if(p+2<c){const g=Ht.getDigit(s.charAt(p+1)),v=Ht.getDigit(s.charAt(p+2));l.appendBits(m*100+g*10+v,10),p+=3}else if(p+1<c){const g=Ht.getDigit(s.charAt(p+1));l.appendBits(m*10+g,7),p+=2}else l.appendBits(m,4),p++}}static appendAlphanumericBytes(s,l){const c=s.length;let p=0;for(;p<c;){const m=Ht.getAlphanumericCode(s.charCodeAt(p));if(m===-1)throw new Rt;if(p+1<c){const g=Ht.getAlphanumericCode(s.charCodeAt(p+1));if(g===-1)throw new Rt;l.appendBits(m*45+g,11),p+=2}else l.appendBits(m,6),p++}}static append8BitBytes(s,l,c){let p;try{p=O.encode(s,c)}catch(m){throw new Rt(m)}for(let m=0,g=p.length;m!==g;m++){const v=p[m];l.appendBits(v,8)}}static appendKanjiBytes(s,l){let c;try{c=O.encode(s,L.SJIS)}catch(m){throw new Rt(m)}const p=c.length;for(let m=0;m<p;m+=2){const g=c[m]&255,v=c[m+1]&255,A=g<<8&4294967295|v;let T=-1;if(A>=33088&&A<=40956?T=A-33088:A>=57408&&A<=60351&&(T=A-49472),T===-1)throw new Rt("Invalid byte sequence");const U=(T>>8)*192+(T&255);l.appendBits(U,13)}}static appendECI(s,l){l.appendBits(Ye.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}Ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ht.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class Bi{write(s,l,c,p=null){if(s.length===0)throw new y("Found empty contents");if(l<0||c<0)throw new y("Requested dimensions are too small: "+l+"x"+c);let m=yt.L,g=Bi.QUIET_ZONE_SIZE;p!==null&&(p.get(Tn.ERROR_CORRECTION)!==void 0&&(m=yt.fromString(p.get(Tn.ERROR_CORRECTION).toString())),p.get(Tn.MARGIN)!==void 0&&(g=Number.parseInt(p.get(Tn.MARGIN).toString(),10)));const v=Ht.encode(s,m,p);return this.renderResult(v,l,c,g)}writeToDom(s,l,c,p,m=null){typeof s=="string"&&(s=document.querySelector(s));const g=this.write(l,c,p,m);s&&s.appendChild(g)}renderResult(s,l,c,p){const m=s.getMatrix();if(m===null)throw new He;const g=m.getWidth(),v=m.getHeight(),A=g+p*2,T=v+p*2,U=Math.max(l,A),K=Math.max(c,T),X=Math.min(Math.floor(U/A),Math.floor(K/T)),te=Math.floor((U-g*X)/2),le=Math.floor((K-v*X)/2),de=this.createSVGElement(U,K);for(let xe=0,_e=le;xe<v;xe++,_e+=X)for(let Me=0,De=te;Me<g;Me++,De+=X)if(m.get(Me,xe)===1){const Oe=this.createSvgRectElement(De,_e,X,X);de.appendChild(Oe)}return de}createSVGElement(s,l){const c=document.createElementNS(Bi.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(s,l,c,p){const m=document.createElementNS(Bi.SVG_NS,"rect");return m.setAttributeNS(null,"x",s.toString()),m.setAttributeNS(null,"y",l.toString()),m.setAttributeNS(null,"height",c.toString()),m.setAttributeNS(null,"width",p.toString()),m.setAttributeNS(null,"fill","#000000"),m}}Bi.QUIET_ZONE_SIZE=4,Bi.SVG_NS="http://www.w3.org/2000/svg";class Dn{encode(s,l,c,p,m){if(s.length===0)throw new y("Found empty contents");if(l!==oe.QR_CODE)throw new y("Can only encode QR_CODE, but got "+l);if(c<0||p<0)throw new y(`Requested dimensions are too small: ${c}x${p}`);let g=yt.L,v=Dn.QUIET_ZONE_SIZE;m!==null&&(m.get(Tn.ERROR_CORRECTION)!==void 0&&(g=yt.fromString(m.get(Tn.ERROR_CORRECTION).toString())),m.get(Tn.MARGIN)!==void 0&&(v=Number.parseInt(m.get(Tn.MARGIN).toString(),10)));const A=Ht.encode(s,g,m);return Dn.renderResult(A,c,p,v)}static renderResult(s,l,c,p){const m=s.getMatrix();if(m===null)throw new He;const g=m.getWidth(),v=m.getHeight(),A=g+p*2,T=v+p*2,U=Math.max(l,A),K=Math.max(c,T),X=Math.min(Math.floor(U/A),Math.floor(K/T)),te=Math.floor((U-g*X)/2),le=Math.floor((K-v*X)/2),de=new H(U,K);for(let xe=0,_e=le;xe<v;xe++,_e+=X)for(let Me=0,De=te;Me<g;Me++,De+=X)m.get(Me,xe)===1&&de.setRegion(De,_e,X,X);return de}}Dn.QUIET_ZONE_SIZE=4;class a0{encode(s,l,c,p,m){let g;switch(l){case oe.QR_CODE:g=new Dn;break;default:throw new y("No encoder available for format "+l)}return g.encode(s,l,c,p,m)}}class xi extends re{constructor(s,l,c,p,m,g,v,A){if(super(g,v),this.yuvData=s,this.dataWidth=l,this.dataHeight=c,this.left=p,this.top=m,p+g>l||m+v>c)throw new y("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(g,v)}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const p=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,p,l,0,c),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=s*l,p=new Uint8ClampedArray(c);let m=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.yuvData,m,p,0,c),p;for(let g=0;g<l;g++){const v=g*s;N.arraycopy(this.yuvData,m,p,v,s),m+=this.dataWidth}return p}isCropSupported(){return!0}crop(s,l,c,p){return new xi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,c,p,!1)}renderThumbnail(){const s=this.getWidth()/xi.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/xi.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*l),p=this.yuvData;let m=this.top*this.dataWidth+this.left;for(let g=0;g<l;g++){const v=g*s;for(let A=0;A<s;A++){const T=p[m+A*xi.THUMBNAIL_SCALE_FACTOR]&255;c[v+A]=4278190080|T*65793}m+=this.dataWidth*xi.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/xi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const c=this.yuvData;for(let p=0,m=this.top*this.dataWidth+this.left;p<l;p++,m+=this.dataWidth){const g=m+s/2;for(let v=m,A=m+s-1;v<g;v++,A--){const T=c[v];c[v]=c[A],c[A]=T}}}invert(){return new ne(this)}}xi.THUMBNAIL_SCALE_FACTOR=2;class ja extends re{constructor(s,l,c,p,m,g,v){if(super(l,c),this.dataWidth=p,this.dataHeight=m,this.left=g,this.top=v,s.BYTES_PER_ELEMENT===4){const A=l*c,T=new Uint8ClampedArray(A);for(let U=0;U<A;U++){const K=s[U],X=K>>16&255,te=K>>7&510,le=K&255;T[U]=(X+te+le)/4&255}this.luminances=T}else this.luminances=s;if(p===void 0&&(this.dataWidth=l),m===void 0&&(this.dataHeight=c),g===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const p=(s+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,p,l,0,c),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=s*l,p=new Uint8ClampedArray(c);let m=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return N.arraycopy(this.luminances,m,p,0,c),p;for(let g=0;g<l;g++){const v=g*s;N.arraycopy(this.luminances,m,p,v,s),m+=this.dataWidth}return p}isCropSupported(){return!0}crop(s,l,c,p){return new ja(this.luminances,c,p,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new ne(this)}}class b extends L{static forName(s){return this.getCharacterSetECIByName(s)}}class B{}B.ISO_8859_1=L.ISO8859_1;class q{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Z{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class me{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Ae extends me{constructor(s,l,c){super(s),this.value=l,this.bitCount=c}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new Ae(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ae(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+C.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Le extends Ae{constructor(s,l,c){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(s,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(s,l){return new Le(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ft(G,s,l){return new Le(G,s,l)}function bn(G,s,l){return new Ae(G,s,l)}const _t=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],an=0,jn=1,Wn=2,Qr=3,Lr=4,gd=new Ae(null,0,0),Mg=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function gj(G){for(let s of G)S.fill(s,-1);return G[an][Lr]=0,G[jn][Lr]=0,G[jn][an]=28,G[Qr][Lr]=0,G[Wn][Lr]=0,G[Wn][an]=15,G}const MA=gj(S.createInt32Array(6,6));class ka{constructor(s,l,c,p){this.token=s,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let c=this.bitCount,p=this.token;if(s!==this.mode){let g=Mg[this.mode][s];p=bn(p,g&65535,g>>16),c+=g>>16}let m=s===Wn?4:5;return p=bn(p,l,m),new ka(p,s,0,c+m)}shiftAndAppend(s,l){let c=this.token,p=this.mode===Wn?4:5;return c=bn(c,MA[this.mode][s],p),c=bn(c,l,5),new ka(c,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(s){let l=this.token,c=this.mode,p=this.bitCount;if(this.mode===Lr||this.mode===Wn){let v=Mg[c][an];l=bn(l,v&65535,v>>16),p+=v>>16,c=an}let m=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new ka(l,c,this.binaryShiftByteCount+1,p+m);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(s+1)),g}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Ft(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new ka(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(Mg[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=ka.calculateBinaryShiftCost(s)-ka.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let p=this.endBinaryShift(s.length).token;p!==null;p=p.getPrevious())l.unshift(p);let c=new V;for(const p of l)p.appendTo(c,s);return c}toString(){return $.format("%s bits=%d bytes=%d",_t[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}ka.INITIAL_STATE=new ka(gd,an,0,0);function xj(G){const s=$.getCharCode(" "),l=$.getCharCode("."),c=$.getCharCode(",");G[an][s]=1;const p=$.getCharCode("Z"),m=$.getCharCode("A");for(let X=m;X<=p;X++)G[an][X]=X-m+2;G[jn][s]=1;const g=$.getCharCode("z"),v=$.getCharCode("a");for(let X=v;X<=g;X++)G[jn][X]=X-v+2;G[Wn][s]=1;const A=$.getCharCode("9"),T=$.getCharCode("0");for(let X=T;X<=A;X++)G[Wn][X]=X-T+2;G[Wn][c]=12,G[Wn][l]=13;const U=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let X=0;X<U.length;X++)G[Qr][$.getCharCode(U[X])]=X;const K=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let X=0;X<K.length;X++)$.getCharCode(K[X])>0&&(G[Lr][$.getCharCode(K[X])]=X);return G}const Dg=xj(S.createInt32Array(5,256));class xd{constructor(s){this.text=s}encode(){const s=$.getCharCode(" "),l=$.getCharCode(`
`);let c=Z.singletonList(ka.INITIAL_STATE);for(let m=0;m<this.text.length;m++){let g,v=m+1<this.text.length?this.text[m+1]:0;switch(this.text[m]){case $.getCharCode("\r"):g=v===l?2:0;break;case $.getCharCode("."):g=v===s?3:0;break;case $.getCharCode(","):g=v===s?4:0;break;case $.getCharCode(":"):g=v===s?5:0;break;default:g=0}g>0?(c=xd.updateStateListForPair(c,m,g),m++):c=this.updateStateListForChar(c,m)}return Z.min(c,(m,g)=>m.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const c=[];for(let p of s)this.updateStateForChar(p,l,c);return xd.simplifyStates(c)}updateStateForChar(s,l,c){let p=this.text[l]&255,m=Dg[s.getMode()][p]>0,g=null;for(let v=0;v<=Lr;v++){let A=Dg[v][p];if(A>0){if(g==null&&(g=s.endBinaryShift(l)),!m||v===s.getMode()||v===Wn){const T=g.latchAndAppend(v,A);c.push(T)}if(!m&&MA[s.getMode()][v]>=0){const T=g.shiftAndAppend(v,A);c.push(T)}}}if(s.getBinaryShiftByteCount()>0||Dg[s.getMode()][p]===0){let v=s.addBinaryShiftChar(l);c.push(v)}}static updateStateListForPair(s,l,c){const p=[];for(let m of s)this.updateStateForPair(m,l,c,p);return this.simplifyStates(p)}static updateStateForPair(s,l,c,p){let m=s.endBinaryShift(l);if(p.push(m.latchAndAppend(Lr,c)),s.getMode()!==Lr&&p.push(m.shiftAndAppend(Lr,c)),c===3||c===4){let g=m.latchAndAppend(Wn,16-c).latchAndAppend(Wn,1);p.push(g)}if(s.getBinaryShiftByteCount()>0){let g=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);p.push(g)}}static simplifyStates(s){let l=[];for(const c of s){let p=!0;for(const m of l){if(m.isBetterThanOrEqualTo(c)){p=!1;break}c.isBetterThanOrEqualTo(m)&&(l=l.filter(g=>g!==m))}p&&l.push(c)}return l}}class Ct{constructor(){}static encodeBytes(s){return Ct.encode(s,Ct.DEFAULT_EC_PERCENT,Ct.DEFAULT_AZTEC_LAYERS)}static encode(s,l,c){let p=new xd(s).encode(),m=C.truncDivision(p.getSize()*l,100)+11,g=p.getSize()+m,v,A,T,U,K;if(c!==Ct.DEFAULT_AZTEC_LAYERS){if(v=c<0,A=Math.abs(c),A>(v?Ct.MAX_NB_BITS_COMPACT:Ct.MAX_NB_BITS))throw new y($.format("Illegal value %s for layers",c));T=Ct.totalBitsInLayer(A,v),U=Ct.WORD_SIZE[A];let Oe=T-T%U;if(K=Ct.stuffBits(p,U),K.getSize()+m>Oe)throw new y("Data to large for user specified layer");if(v&&K.getSize()>U*64)throw new y("Data to large for user specified layer")}else{U=0,K=null;for(let Oe=0;;Oe++){if(Oe>Ct.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(v=Oe<=3,A=v?Oe+1:Oe,T=Ct.totalBitsInLayer(A,v),g>T)continue;(K==null||U!==Ct.WORD_SIZE[A])&&(U=Ct.WORD_SIZE[A],K=Ct.stuffBits(p,U));let vt=T-T%U;if(!(v&&K.getSize()>U*64)&&K.getSize()+m<=vt)break}}let X=Ct.generateCheckWords(K,T,U),te=K.getSize()/U,le=Ct.generateModeMessage(v,A,te),de=(v?11:14)+A*4,xe=new Int32Array(de),_e;if(v){_e=de;for(let Oe=0;Oe<xe.length;Oe++)xe[Oe]=Oe}else{_e=de+1+2*C.truncDivision(C.truncDivision(de,2)-1,15);let Oe=C.truncDivision(de,2),vt=C.truncDivision(_e,2);for(let ut=0;ut<Oe;ut++){let Zr=ut+C.truncDivision(ut,15);xe[Oe-ut-1]=vt-Zr-1,xe[Oe+ut]=vt+Zr+1}}let Me=new H(_e);for(let Oe=0,vt=0;Oe<A;Oe++){let ut=(A-Oe)*4+(v?9:12);for(let Zr=0;Zr<ut;Zr++){let oa=Zr*2;for(let Jr=0;Jr<2;Jr++)X.get(vt+oa+Jr)&&Me.set(xe[Oe*2+Jr],xe[Oe*2+Zr]),X.get(vt+ut*2+oa+Jr)&&Me.set(xe[Oe*2+Zr],xe[de-1-Oe*2-Jr]),X.get(vt+ut*4+oa+Jr)&&Me.set(xe[de-1-Oe*2-Jr],xe[de-1-Oe*2-Zr]),X.get(vt+ut*6+oa+Jr)&&Me.set(xe[de-1-Oe*2-Zr],xe[Oe*2+Jr])}vt+=ut*8}if(Ct.drawModeMessage(Me,v,_e,le),v)Ct.drawBullsEye(Me,C.truncDivision(_e,2),5);else{Ct.drawBullsEye(Me,C.truncDivision(_e,2),7);for(let Oe=0,vt=0;Oe<C.truncDivision(de,2)-1;Oe+=15,vt+=16)for(let ut=C.truncDivision(_e,2)&1;ut<_e;ut+=2)Me.set(C.truncDivision(_e,2)-vt,ut),Me.set(C.truncDivision(_e,2)+vt,ut),Me.set(ut,C.truncDivision(_e,2)-vt),Me.set(ut,C.truncDivision(_e,2)+vt)}let De=new q;return De.setCompact(v),De.setSize(_e),De.setLayers(A),De.setCodeWords(te),De.setMatrix(Me),De}static drawBullsEye(s,l,c){for(let p=0;p<c;p+=2)for(let m=l-p;m<=l+p;m++)s.set(m,l-p),s.set(m,l+p),s.set(l-p,m),s.set(l+p,m);s.set(l-c,l-c),s.set(l-c+1,l-c),s.set(l-c,l-c+1),s.set(l+c,l-c),s.set(l+c,l-c+1),s.set(l+c,l+c-1)}static generateModeMessage(s,l,c){let p=new V;return s?(p.appendBits(l-1,2),p.appendBits(c-1,6),p=Ct.generateCheckWords(p,28,4)):(p.appendBits(l-1,5),p.appendBits(c-1,11),p=Ct.generateCheckWords(p,40,4)),p}static drawModeMessage(s,l,c,p){let m=C.truncDivision(c,2);if(l)for(let g=0;g<7;g++){let v=m-3+g;p.get(g)&&s.set(v,m-5),p.get(g+7)&&s.set(m+5,v),p.get(20-g)&&s.set(v,m+5),p.get(27-g)&&s.set(m-5,v)}else for(let g=0;g<10;g++){let v=m-5+g+C.truncDivision(g,5);p.get(g)&&s.set(v,m-7),p.get(g+10)&&s.set(m+7,v),p.get(29-g)&&s.set(v,m+7),p.get(39-g)&&s.set(m-7,v)}}static generateCheckWords(s,l,c){let p=s.getSize()/c,m=new zs(Ct.getGF(c)),g=C.truncDivision(l,c),v=Ct.bitsToWords(s,c,g);m.encode(v,g-p);let A=l%c,T=new V;T.appendBits(0,A);for(const U of Array.from(v))T.appendBits(U,c);return T}static bitsToWords(s,l,c){let p=new Int32Array(c),m,g;for(m=0,g=s.getSize()/l;m<g;m++){let v=0;for(let A=0;A<l;A++)v|=s.get(m*l+A)?1<<l-A-1:0;p[m]=v}return p}static getGF(s){switch(s){case 4:return Ce.AZTEC_PARAM;case 6:return Ce.AZTEC_DATA_6;case 8:return Ce.AZTEC_DATA_8;case 10:return Ce.AZTEC_DATA_10;case 12:return Ce.AZTEC_DATA_12;default:throw new y("Unsupported word size "+s)}}static stuffBits(s,l){let c=new V,p=s.getSize(),m=(1<<l)-2;for(let g=0;g<p;g+=l){let v=0;for(let A=0;A<l;A++)(g+A>=p||s.get(g+A))&&(v|=1<<l-1-A);(v&m)===m?(c.appendBits(v&m,l),g--):v&m?c.appendBits(v,l):(c.appendBits(v|1,l),g--)}return c}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}Ct.DEFAULT_EC_PERCENT=33,Ct.DEFAULT_AZTEC_LAYERS=0,Ct.MAX_NB_BITS=32,Ct.MAX_NB_BITS_COMPACT=4,Ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class s0{encode(s,l,c,p){return this.encodeWithHints(s,l,c,p,null)}encodeWithHints(s,l,c,p,m){let g=B.ISO_8859_1,v=Ct.DEFAULT_EC_PERCENT,A=Ct.DEFAULT_AZTEC_LAYERS;return m!=null&&(m.has(Tn.CHARACTER_SET)&&(g=b.forName(m.get(Tn.CHARACTER_SET).toString())),m.has(Tn.ERROR_CORRECTION)&&(v=C.parseInt(m.get(Tn.ERROR_CORRECTION).toString())),m.has(Tn.AZTEC_LAYERS)&&(A=C.parseInt(m.get(Tn.AZTEC_LAYERS).toString()))),s0.encodeLayers(s,l,c,p,g,v,A)}static encodeLayers(s,l,c,p,m,g,v){if(l!==oe.AZTEC)throw new y("Can only encode AZTEC, but got "+l);let A=Ct.encode($.getBytes(s,m),g,v);return s0.renderResult(A,c,p)}static renderResult(s,l,c){let p=s.getMatrix();if(p==null)throw new He;let m=p.getWidth(),g=p.getHeight(),v=Math.max(l,m),A=Math.max(c,g),T=Math.min(v/m,A/g),U=(v-m*T)/2,K=(A-g*T)/2,X=new H(v,A);for(let te=0,le=K;te<g;te++,le+=T)for(let de=0,xe=U;de<m;de++,xe+=T)p.get(de,te)&&X.setRegion(xe,le,T,T);return X}}n.AbstractExpandedDecoder=Bs,n.ArgumentException=x,n.ArithmeticException=he,n.AztecCode=q,n.AztecCodeReader=Jl,n.AztecCodeWriter=s0,n.AztecDecoder=pt,n.AztecDetector=cd,n.AztecDetectorResult=Sa,n.AztecEncoder=Ct,n.AztecHighLevelEncoder=xd,n.AztecPoint=rr,n.BarcodeFormat=oe,n.Binarizer=I,n.BinaryBitmap=w,n.BitArray=V,n.BitMatrix=H,n.BitSource=rc,n.BrowserAztecCodeReader=Fo,n.BrowserBarcodeReader=Ng,n.BrowserCodeReader=pe,n.BrowserDatamatrixCodeReader=Og,n.BrowserMultiFormatReader=n0,n.BrowserPDF417Reader=r0,n.BrowserQRCodeReader=md,n.BrowserQRCodeSvgWriter=Bi,n.CharacterSetECI=L,n.ChecksumException=_,n.Code128Reader=Be,n.Code39Reader=yn,n.DataMatrixDecodedBitStreamParser=Ia,n.DataMatrixReader=ia,n.DecodeHintType=R,n.DecoderResult=fe,n.DefaultGridSampler=nr,n.DetectorResult=Gr,n.EAN13Reader=ra,n.EncodeHintType=Tn,n.Exception=h,n.FormatException=j,n.GenericGF=Ce,n.GenericGFPoly=ie,n.GlobalHistogramBinarizer=W,n.GridSampler=Ja,n.GridSamplerInstance=di,n.HTMLCanvasElementLuminanceSource=ce,n.HybridBinarizer=Y,n.ITFReader=Bt,n.IllegalArgumentException=y,n.IllegalStateException=He,n.InvertedLuminanceSource=ne,n.LuminanceSource=re,n.MathUtils=lt,n.MultiFormatOneDReader=Na,n.MultiFormatReader=Us,n.MultiFormatWriter=a0,n.NotFoundException=z,n.OneDReader=xn,n.PDF417DecodedBitStreamParser=be,n.PDF417DecoderErrorCorrection=Ho,n.PDF417Reader=Hn,n.PDF417ResultMetadata=hd,n.PerspectiveTransform=qt,n.PlanarYUVLuminanceSource=xi,n.QRCodeByteMatrix=Jo,n.QRCodeDataMask=ar,n.QRCodeDecodedBitStreamParser=tn,n.QRCodeDecoderErrorCorrectionLevel=yt,n.QRCodeDecoderFormatInformation=On,n.QRCodeEncoder=Ht,n.QRCodeEncoderQRCode=Rr,n.QRCodeMaskUtil=rn,n.QRCodeMatrixUtil=Qe,n.QRCodeMode=Ye,n.QRCodeReader=Oa,n.QRCodeVersion=Fe,n.QRCodeWriter=Dn,n.RGBLuminanceSource=ja,n.RSS14Reader=Mt,n.RSSExpandedReader=Ie,n.ReaderException=Qo,n.ReedSolomonDecoder=xt,n.ReedSolomonEncoder=zs,n.ReedSolomonException=$e,n.Result=se,n.ResultMetadataType=Q,n.ResultPoint=Ve,n.StringUtils=$,n.UnsupportedOperationException=E,n.VideoInputDevice=ve,n.WhiteRectangleDetector=_r,n.WriterException=Rt,n.ZXingArrays=S,n.ZXingCharset=b,n.ZXingInteger=C,n.ZXingStandardCharsets=B,n.ZXingStringBuilder=F,n.ZXingStringEncoding=O,n.ZXingSystem=N,n.createAbstractExpandedDecoder=Qh,Object.defineProperty(n,"__esModule",{value:!0})})})(W2,W2.exports);var on=W2.exports;const fhe=kt(on),hhe=bj({__proto__:null,default:fhe},[on]);var iN=function(){function t(e,n,r){if(this.formatMap=new Map([[We.QR_CODE,on.BarcodeFormat.QR_CODE],[We.AZTEC,on.BarcodeFormat.AZTEC],[We.CODABAR,on.BarcodeFormat.CODABAR],[We.CODE_39,on.BarcodeFormat.CODE_39],[We.CODE_93,on.BarcodeFormat.CODE_93],[We.CODE_128,on.BarcodeFormat.CODE_128],[We.DATA_MATRIX,on.BarcodeFormat.DATA_MATRIX],[We.MAXICODE,on.BarcodeFormat.MAXICODE],[We.ITF,on.BarcodeFormat.ITF],[We.EAN_13,on.BarcodeFormat.EAN_13],[We.EAN_8,on.BarcodeFormat.EAN_8],[We.PDF_417,on.BarcodeFormat.PDF_417],[We.RSS_14,on.BarcodeFormat.RSS_14],[We.RSS_EXPANDED,on.BarcodeFormat.RSS_EXPANDED],[We.UPC_A,on.BarcodeFormat.UPC_A],[We.UPC_E,on.BarcodeFormat.UPC_E],[We.UPC_EAN_EXTENSION,on.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!hhe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),a=new Map;a.set(on.DecodeHintType.POSSIBLE_FORMATS,i),a.set(on.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var n=new on.MultiFormatReader(this.verbose,this.hints),r=new on.HTMLCanvasElementLuminanceSource(e),i=new on.BinaryBitmap(new on.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:cj.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),phe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(x){try{h(r.next(x))}catch(y){o(y)}}function f(x){try{h(r.throw(x))}catch(y){o(y)}}function h(x){x.done?a(x.value):i(x.value).then(u,f)}h((r=r.apply(t,e||[])).next())})},mhe=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(x){return f([h,x])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(x){h=[6,x],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},aN=function(){function t(e,n,r){if(this.formatMap=new Map([[We.QR_CODE,"qr_code"],[We.AZTEC,"aztec"],[We.CODABAR,"codabar"],[We.CODE_39,"code_39"],[We.CODE_93,"code_93"],[We.CODE_128,"code_128"],[We.DATA_MATRIX,"data_matrix"],[We.ITF,"itf"],[We.EAN_13,"ean_13"],[We.EAN_8,"ean_8"],[We.PDF_417,"pdf417"],[We.UPC_A,"upc_a"],[We.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return phe(this,void 0,void 0,function(){var n,r;return mhe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:cj.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,a=e;i<a.length;i++){var o=a[i],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,n=o)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),sN=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(x){try{h(r.next(x))}catch(y){o(y)}}function f(x){try{h(r.throw(x))}catch(y){o(y)}}function h(x){x.done?a(x.value):i(x.value).then(u,f)}h((r=r.apply(t,e||[])).next())})},oN=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(x){return f([h,x])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(x){h=[6,x],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},ghe=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&aN.isSupported()?(this.primaryDecoder=new aN(e,r,i),this.secondaryDecoder=new iN(e,r,i)):this.primaryDecoder=new iN(e,r,i)}return t.prototype.decodeAsync=function(e){return sN(this,void 0,void 0,function(){var n;return oN(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return sN(this,void 0,void 0,function(){var n,r;return oN(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),jA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qm=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(x){try{h(r.next(x))}catch(y){o(y)}}function f(x){try{h(r.throw(x))}catch(y){o(y)}}function h(x){x.done?a(x.value):i(x.value).then(u,f)}h((r=r.apply(t,e||[])).next())})},Zm=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(x){return f([h,x])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(x){h=[6,x],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},hj=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),xhe=function(t){jA(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(hj),yhe=function(t){jA(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(xhe),vhe=function(t){jA(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(hj),bhe=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new yhe(this.track)},t.prototype.torchFeature=function(){return new vhe(this.track)},t}(),whe=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return Qm(this,void 0,void 0,function(){var a,o;return Zm(this,function(u){switch(u.label){case 0:return a=new t(e,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Qm(this,void 0,void 0,function(){return Zm(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),a=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++o,o>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new bhe(this.getFirstTrackOrFail())},t}(),Ahe=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Qm(this,void 0,void 0,function(){return Zm(this,function(i){return[2,whe.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Qm(this,void 0,void 0,function(){var n,r;return Zm(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),lN=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(x){try{h(r.next(x))}catch(y){o(y)}}function f(x){try{h(r.throw(x))}catch(y){o(y)}}function h(x){x.done?a(x.value):i(x.value).then(u,f)}h((r=r.apply(t,e||[])).next())})},cN=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(x){return f([h,x])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(x){h=[6,x],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},_he=function(){function t(){}return t.failIfNotSupported=function(){return lN(this,void 0,void 0,function(){return cN(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return lN(this,void 0,void 0,function(){return cN(this,function(n){return[2,Ahe.create(e)]})})},t}(),Ehe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(x){try{h(r.next(x))}catch(y){o(y)}}function f(x){try{h(r.throw(x))}catch(y){o(y)}}function h(x){x.done?a(x.value):i(x.value).then(u,f)}h((r=r.apply(t,e||[])).next())})},She=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(x){return f([h,x])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(x){h=[6,x],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},The=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Rc.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Rc.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Ehe(this,void 0,void 0,function(){var e,n,r,i,a,o,u;return She(this,function(f){switch(f.label){case 0:return e=function(h){for(var x=h.getVideoTracks(),y=0,w=x;y<w.length;y++){var _=w[y];_.enabled=!1,_.stop(),h.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=f.sent(),i=[],a=0,o=r;a<o.length;a++)u=o[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(a){for(var o=[],u=0,f=a;u<f.length;u++){var h=f[u];h.kind==="video"&&o.push({id:h.id,label:h.label})}e(o)},i=MediaStreamTrack;i.getSources(r)})},t}(),Cn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Cn||(Cn={}));var Che=function(){function t(){this.state=Cn.NOT_STARTED,this.onGoingTransactionNewState=Cn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Cn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Cn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Cn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Cn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Cn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Cn.UNKNOWN:throw"Transition from unknown is not allowed";case Cn.NOT_STARTED:this.failIfNewStateIs(e,[Cn.PAUSED]);break;case Cn.SCANNING:break;case Cn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),Nhe=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Cn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Cn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Cn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Cn.PAUSED},t}(),Ihe=function(){function t(){}return t.create=function(){return new Nhe(new Che)},t}(),Ohe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vi=function(t){Ohe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(ha),Phe=function(){function t(e,n){this.logger=n,this.fps=vi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=vi.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?fj.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Ra(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),uN=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new dj(this.verbose),this.qrcode=new ghe(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Ihe.create()}return t.prototype.start=function(e,n,r,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=Phe.create(n,this.logger);this.clearElement();var f=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=f,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:vi.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var y=this,w=this.stateManagerProxy.startTransition(Cn.SCANNING);return new Promise(function(_,I){var N=h?u.videoConstraints:y.createVideoConstraints(e);if(!N){w.cancel(),I("videoConstraints should be defined");return}var M={};(!h||u.aspectRatio)&&(M.aspectRatio=u.aspectRatio);var P={onRenderSurfaceReady:function(S,C){y.setupUi(S,C,u),y.isScanning=!0,y.foreverScan(u,r,o)}};_he.failIfNotSupported().then(function(S){S.create(N).then(function(C){return C.render(a.element,M,P).then(function(V){y.renderedCamera=V,w.execute(),_(null)}).catch(function(V){w.cancel(),I(V)})}).catch(function(C){w.cancel(),I(Rc.errorGettingUserMedia(C))})}).catch(function(S){w.cancel(),I(Rc.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Cn.PAUSED),this.showPausedState(),(Ra(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Cn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Cn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var a=document.getElementById(vi.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ra(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var u=o.width,f=o.height,h=document.getElementById(r.elementId),x=h.clientWidth?h.clientWidth:vi.DEFAULT_WIDTH,y=Math.max(h.clientHeight?h.clientHeight:f,vi.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(u,f,x,y);if(n){var _=r.createCanvasElement(x,y,"qr-canvas-visible");_.style.display="inline-block",h.appendChild(_);var I=_.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=x,I.canvas.height=y,I.drawImage(o,0,0,u,f,w.x,w.y,w.width,w.height)}var N=vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(o.width,w.width),P=Math.max(o.height,w.height),S=M+2*N,C=P+2*N,V=r.createCanvasElement(S,C);h.appendChild(V);var k=V.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=S,k.canvas.height=C,k.drawImage(o,0,0,u,f,N,N,M,P);try{r.qrcode.decodeRobustlyAsync(V).then(function(R){i(nN.createFromQrcodeResult(R))}).catch(a)}catch(R){a("QR code parse error, error = ".concat(R))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return The.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!fj.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[We.QR_CODE,We.AZTEC,We.CODABAR,We.CODE_39,We.CODE_93,We.CODE_128,We.DATA_MATRIX,We.MAXICODE,We.ITF,We.EAN_13,We.EAN_8,We.PDF_417,We.RSS_14,We.RSS_EXPANDED,We.UPC_A,We.UPC_E,We.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=e.formatsToSupport;i<a.length;i++){var o=a[i];uhe(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ra(e))return!0;if(!Ra(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ra(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Ra(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(e,n,a),u=function(h){if(h<vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vi.MIN_QR_BOX_SIZE,"px.")},f=function(h){return h>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};u(o.width),u(o.height),o.width=f(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=Ra(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&a.height<=n,u={x:0,y:0,width:e,height:n},f=o?this.getShadedRegionBounds(e,n,a):u,h=this.createCanvasElement(f.width,f.height),x={willReadFrequently:!0},y=h.getContext("2d",x);y.canvas.width=f.width,y.canvas.height=f.height,this.element.append(h),o&&this.possiblyInsertShadingElement(this.element,e,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=y,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Rc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,nN.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Rc.codeParseError(i);return n(a,uj.createFrom(a)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*o,h=this.qrRegion.height*u,x=this.qrRegion.x*o,y=this.qrRegion.y*u;this.context.drawImage(a,x,y,f,h,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(_){!_&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){w()})):w()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),w()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",o=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var f=Object.keys(e)[0];if(f!==n&&f!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(f===n){var h=e.facingMode;if(typeof h=="string"){if(o(h))return{facingMode:h}}else if(typeof h=="object")if(a in h){if(o(h["".concat(a)]))return{facingMode:{exact:h["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var x=typeof h;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var y=e.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(a in y)return{deviceId:{exact:y["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var w=typeof y;throw"Invalid type of 'deviceId' = ".concat(w)}}}var _=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var a=(r-e)/2,o=(i-n)/2;return{x:a,y:o,width:e,height:n}}else{var u=e,f=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(f)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?vi.BORDER_SHADER_MATCH_COLOR:vi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,a=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Ra(r)?"qr-canvas":r,o},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(n-i.width)/2,u=(r-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(vi.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var f=5,h=40;this.insertShaderBorders(a,h,f,-f,null,0,!0),this.insertShaderBorders(a,h,f,-f,null,0,!1),this.insertShaderBorders(a,h,f,null,-f,0,!0),this.insertShaderBorders(a,h,f,null,-f,0,!1),this.insertShaderBorders(a,f,h+f,-f,null,-f,!0),this.insertShaderBorders(a,f,h+f,null,-f,-f,!0),this.insertShaderBorders(a,f,h+f,-f,null,-f,!1),this.insertShaderBorders(a,f,h+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,n,r,i,a,o,u){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=vi.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(n,"px"),f.style.height="".concat(r,"px"),i!==null&&(f.style.top="".concat(i,"px")),a!==null&&(f.style.bottom="".concat(a,"px")),u?f.style.left="".concat(o,"px"):f.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),kA="data:image/svg+xml;base64,",jhe=kA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",khe=kA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",dN=kA+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Mhe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",fN=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),Dhe=function(){function t(){this.data=fN.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=fN.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),Rhe=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=rN.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=rN.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),Lhe=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=dN,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Mhe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=dN,this.infoIcon.style.opacity="0.6")},t}(),Bhe=function(){function t(){var e=this;this.infoDiv=new Rhe,this.infoIcon=new Lhe(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),Fhe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(x){try{h(r.next(x))}catch(y){o(y)}}function f(x){try{h(r.throw(x))}catch(y){o(y)}}function h(x){x.done?a(x.value):i(x.value).then(u,f)}h((r=r.apply(t,e||[])).next())})},$he=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(x){return f([h,x])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(x){h=[6,x],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},hN=function(){function t(){}return t.hasPermissions=function(){return Fhe(this,void 0,void 0,function(){var e,n,r,i;return $he(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t}(),Hs=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===Io.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Io.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ha.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ha.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!ha.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t}(),Ti=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),ms=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(Ti.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),pj=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(x){try{h(r.next(x))}catch(y){o(y)}}function f(x){try{h(r.throw(x))}catch(y){o(y)}}function h(x){x.done?a(x.value):i(x.value).then(u,f)}h((r=r.apply(t,e||[])).next())})},mj=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(x){return f([h,x])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(x){h=[6,x],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},pN=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return pj(this,void 0,void 0,function(){var e,n;return mj(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?$t.torchOffButton():$t.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?$t.torchOnFailedMessage():$t.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),Vhe=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=ms.createElement("button",Ti.TORCH_BUTTON_ID),this.torchController=new pN(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=$t.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return pj(r,void 0,void 0,function(){return mj(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ti.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ti.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ti.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ti.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new pN(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=$t.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var a=new t(n,i);return a.render(e,r),a},t}(),Uhe=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=ms.createElement("button",Ti.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=ms.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var f=u.target;if(!(f.files&&f.files.length===0)){var h=f.files,x=h[0],y=x.name;a.setImageNameToButton(y),r(x)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var f=u.dataTransfer;if(f){var h=f.files;if(!h||h.length===0)return;for(var x=!1,y=0;y<h.length;++y){var w=h.item(y);if(w){var _=/image.*/;if(w.type.match(_)){x=!0;var I=w.name;a.setImageNameToButton(I),r(w),o.innerText=$t.dragAndDropMessage();break}}}x||(o.innerText=$t.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=$t.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(r,"....").concat(a)}var o=$t.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},t.prototype.setInitialValueToButton=function(){var e=$t.fileSelectionChooseImage()+" - "+$t.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t}(),zhe=function(){function t(e){this.selectElement=ms.createElement("select",Ti.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=$t.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,u=this.cameras;o<u.length;o++){var f=u[o],h=f.id,x=f.label==null?h:f.label;(!x||x==="")&&(x=[$t.anonymousCameraPrefix(),a++].join(" "));var y=document.createElement("option");y.value=h,y.innerText=x,this.options.push(y),this.selectElement.appendChild(y)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),qhe=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ms.createElement("input",Ti.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=$t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=$t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),bi;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(bi||(bi={}));function Hhe(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function Whe(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var Ghe=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Hs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new dj(this.verbose),this.persistedDataManager=new Dhe,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,o){if(e)e(a,o);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage($t.lastMatch(a),bi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,o){n&&n(a,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new uN(this.getScanRegionId(),Whe(this.config,this.verbose))},t.prototype.pause=function(e){(Ra(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ha.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ha.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ha.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ha.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ha.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ha.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ha.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Hs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new Bhe;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage($t.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(e,n)};uN.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(e.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage($t.noCameraFound(),bi.STATUS_WARNING),a())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(o,bi.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=ms.createElement("button",this.getCameraPermissionButtonId());i.innerText=$t.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Hs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){hN.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Hs.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Hs.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";Hs.isFileScanType(r.currentScanType)&&(r.setHeaderMessage($t.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,bi.STATUS_WARNING),r.qrCodeErrorCallback(o,uj.createFrom(o))}))};this.fileSelectionUi=Uhe.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=qhe.create(i,!1),o=function(N){var M=N.zoomFeature();if(M.isSupported()){a.setOnCameraZoomValueChangeCallback(function(S){M.apply(S)});var P=1;n.config.defaultZoomValueIfSupported&&(P=n.config.defaultZoomValueIfSupported),P=dhe(P,M.min(),M.max()),a.setValues(M.min(),M.max(),P,M.step()),a.show()}},u=zhe.create(i,e),f=document.createElement("span"),h=ms.createElement("button",Ti.CAMERA_START_BUTTON_ID);h.innerText=$t.scanButtonStartScanningText(),f.appendChild(h);var x=ms.createElement("button",Ti.CAMERA_STOP_BUTTON_ID);x.innerText=$t.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,f.appendChild(x);var y,w=function(N){if(!N.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(N.torchFeature()):y=Vhe.create(f,N.torchFeature(),{display:"none",marginLeft:"5px"},function(M){r.setHeaderMessage(M,bi.STATUS_WARNING)}),y.show()};i.appendChild(f);var _=function(N){N||(h.style.display="none"),h.innerText=$t.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,N&&(h.style.display="inline-block")};if(h.addEventListener("click",function(N){h.innerText=$t.scanButtonScanningStarting(),u.disable(),h.disabled=!0,h.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var M=u.getValue();r.persistedDataManager.setLastUsedCameraId(M),r.html5Qrcode.start(M,Hhe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(P){x.disabled=!1,x.style.display="inline-block",_(!1);var S=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&w(S),n.config.showZoomSliderIfSupported===!0&&o(S)}).catch(function(P){r.showHideScanTypeSwapLink(!0),u.enable(),_(!0),r.setHeaderMessage(P,bi.STATUS_WARNING)})}),u.hasSingleItem()&&h.click(),x.addEventListener("click",function(N){if(!r.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,r.html5Qrcode.stop().then(function(M){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),h.disabled=!1,x.style.display="none",h.style.display="inline-block",y&&(y.reset(),y.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(M){x.disabled=!1,r.setHeaderMessage(M,bi.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var I=r.persistedDataManager.getLastUsedCameraId();u.hasValue(I)?(u.setValue(I),h.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=$t.textIfCameraScanSelected(),r=$t.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=ms.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Hs.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Hs.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=r,e.currentScanType=Io.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=n,e.currentScanType=Io.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(o),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){hN.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=bi.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case bi.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case bi.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case bi.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=jhe,this.cameraScanImage.alt=$t.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=khe,this.fileScanImage.alt=$t.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Ti.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Ti.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const Cg=({onScan:t,onClose:e})=>(ee.useEffect(()=>{const n={fps:10,qrbox:{width:250,height:150},rememberLastUsedCamera:!0,aspectRatio:1.777,formatsToSupport:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]},r=new Ghe("barcode-reader",n,!1);return r.render(i=>{t(i),r.clear(),e()},i=>{}),()=>{r.clear().catch(i=>console.error("Scanner clear error:",i))}},[t,e]),d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:d.jsxs("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-emerald-600 to-emerald-700",children:[d.jsxs("h3",{className:"flex items-center gap-3 text-xl font-bold text-white",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(fu,{className:"w-6 h-6"})}),"Barcode Skaner"]}),d.jsx("button",{onClick:e,className:"p-2 rounded-xl bg-white/20 text-white hover:bg-white/30 transition-colors active:scale-95",children:d.jsx(Co,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{id:"barcode-reader",className:"rounded-xl overflow-hidden"}),d.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:d.jsx(Vh,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-blue-900",children:"Barcode skanerlash"}),d.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Barcode yoki QR kodni kameraga yaqinlashtiring"}),d.jsx("p",{className:"mt-2 text-xs text-blue-600 font-medium",children:"Qo'llab-quvvatlanadigan formatlar: EAN-13, EAN-8, UPC-A, UPC-E, Code 128, Code 39, QR Code"})]})]})}),d.jsx("button",{onClick:e,className:"w-full mt-4 py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-xl transition-colors active:scale-[0.98]",children:"Bekor qilish"})]})]})})),Khe=({products:t,categories:e,onAddProduct:n,onUpdateProduct:r,onAddTransaction:i,onAddCategory:a,onDeleteCategory:o,currentUser:u,isAdmin:f,companyData:h})=>{var Ee;const[x,y]=ee.useState(""),[w,_]=ee.useState([]),[I,N]=ee.useState(!1),[M,P]=ee.useState(!1),[S,C]=ee.useState(!1),[V,k]=ee.useState(!1),[R,j]=ee.useState([]),[D,L]=ee.useState(null),[E,O]=ee.useState({name:"",category:"",costPrice:"",sellingPrice:"",barcode:"",additionalBarcodes:[],quantity:"",packSize:"1",unit:"dona",expirationDate:"",color:"",minStock:"5"}),[$,F]=ee.useState(""),[H,z]=ee.useState(!1),[W,Y]=ee.useState("");ee.useEffect(()=>{re()},[u==null?void 0:u.companyId]);const re=async()=>{if(u!=null&&u.companyId)try{const ie=Yn(dt(ze,"barcodes"),Bn("companyId","==",u.companyId)),he=await un(ie);j(he.docs.map(Ce=>({id:Ce.id,...Ce.data()})))}catch(ie){console.error("Barcode tarixi yuklanmadi:",ie)}},ne=t.filter(ie=>{var he,Ce,$e;return((he=ie.name)==null?void 0:he.toLowerCase().includes(x.toLowerCase()))||((Ce=ie.barcode)==null?void 0:Ce.includes(x))||(($e=ie.additionalBarcodes)==null?void 0:$e.some(He=>He.includes(x)))}),ce=async ie=>{y(ie);const he=t.find($e=>{var He;return $e.barcode===ie||((He=$e.additionalBarcodes)==null?void 0:He.includes(ie))});if(he){ve(he),we.success(`${he.name} topildi va savatga qo'shildi!`);return}const Ce=R.find($e=>{var He;return $e.barcode===ie||((He=$e.additionalBarcodes)==null?void 0:He.includes(ie))});if(Ce){L(Ce),O({...E,name:Ce.productName||"",category:Ce.category||"",packSize:Ce.packSize||"1",unit:Ce.unit||"dona",barcode:ie,costPrice:"",sellingPrice:"",quantity:"",expirationDate:"",color:""}),N(!0),we.info(`"${Ce.productName}" - oldingi ma'lumotlar yuklandi!`);return}O({...E,barcode:ie}),N(!0),we.warning(`Barcode: ${ie} - Yangi mahsulot qo'shing!`)},ve=ie=>{const he=w.find(Ce=>Ce.id===ie.id);_(he?w.map(Ce=>Ce.id===ie.id?{...Ce,quantity:Ce.quantity+1}:Ce):[...w,{...ie,quantity:1}])},ye=(ie,he)=>{he<=0?_(w.filter(Ce=>Ce.id!==ie)):_(w.map(Ce=>Ce.id===ie?{...Ce,quantity:he}:Ce))},pe=async()=>{if(w.length===0){we.warning("Mahsulot tanlang!");return}z(!0);try{for(const ie of w){const he=t.find(xt=>xt.id===ie.id),Ce=he.quantity+ie.quantity;await kr(jt(ze,"products",ie.id),{quantity:Ce}),r({...he,quantity:Ce});const $e={productId:ie.id,productName:ie.name,type:"kirim",quantity:ie.quantity,costPrice:ie.costPrice||0,sellingPrice:ie.sellingPrice||ie.price,price:ie.sellingPrice||ie.price,companyId:u.companyId,createdBy:u.id,date:new Date},He=await xa(dt(ze,"transactions"),$e);i({id:He.id,...$e})}_([]),we.success("Kirim muvaffaqiyatli qilindi!")}catch(ie){console.error("Xato:",ie),we.error("Xatolik yuz berdi!")}z(!1)},se=()=>{const ie=(h==null?void 0:h.maxProducts)||50;return t.length>=ie?(we.error(d.jsxs("div",{children:[d.jsx("strong",{children:"Tarif limiti!"}),d.jsxs("p",{children:["Siz ",ie," ta mahsulot qo'sha olasiz."]}),d.jsx("p",{children:"Tarifni yangilang!"})]})),!1):!0},Te=async()=>{if(!E.name||!E.category||!E.sellingPrice){we.error("Majburiy maydonlarni to'ldiring!");return}if(se()){z(!0);try{const ie={name:E.name,category:E.category,costPrice:parseFloat(E.costPrice)||0,sellingPrice:parseFloat(E.sellingPrice),price:parseFloat(E.sellingPrice),barcode:E.barcode,additionalBarcodes:E.additionalBarcodes||[],quantity:parseInt(E.quantity)||0,packSize:parseInt(E.packSize)||1,unit:E.unit||"dona",expirationDate:E.expirationDate||null,color:E.color||"",minStock:parseInt(E.minStock)||5,companyId:u.companyId,createdAt:new Date},he=await xa(dt(ze,"products"),ie);n({id:he.id,...ie}),E.barcode&&(await xa(dt(ze,"barcodes"),{barcode:E.barcode,additionalBarcodes:E.additionalBarcodes||[],productName:E.name,category:E.category,packSize:parseInt(E.packSize)||1,unit:E.unit||"dona",companyId:u.companyId,createdAt:new Date}),re()),O({name:"",category:"",costPrice:"",sellingPrice:"",barcode:"",additionalBarcodes:[],quantity:"",packSize:"1",unit:"dona",expirationDate:"",color:"",minStock:"5"}),L(null),N(!1),we.success("Mahsulot qo'shildi!")}catch(ie){console.error("Xato:",ie),we.error("Xatolik yuz berdi!")}z(!1)}},oe=async()=>{if(!$.trim()){we.error("Kategoriya nomini kiriting!");return}if(e.some(ie=>ie.name.toLowerCase()===$.trim().toLowerCase())){we.error("Bu kategoriya allaqachon mavjud!");return}z(!0);try{const ie={name:$.trim(),companyId:u.companyId,createdAt:new Date},he=await xa(dt(ze,"categories"),ie);a({id:he.id,...ie}),F(""),we.success("Kategoriya qo'shildi!")}catch(ie){console.error("Xato:",ie),we.error("Xatolik yuz berdi!")}z(!1)},ue=async ie=>{if(window.confirm("Kategoriyani o'chirmoqchimisiz?"))try{await Vf(jt(ze,"categories",ie)),o(ie),we.success("Kategoriya o'chirildi!")}catch(he){console.error("Xato:",he),we.error("Xatolik yuz berdi!")}},Q=(ie,he)=>{if(!ie||!he)return{amount:0,percent:0};const Ce=he-ie,$e=(Ce/ie*100).toFixed(1);return{amount:Ce,percent:$e}},fe=w.reduce((ie,he)=>ie+he.quantity*(he.sellingPrice||he.price),0);return d.jsxs("div",{className:"p-4 lg:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Kirim qilish"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[f&&d.jsxs("button",{onClick:()=>k(!V),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${V?"bg-amber-100 text-amber-700 border border-amber-300":"bg-slate-100 text-slate-600 border border-slate-200"}`,children:[V?d.jsx(du,{className:"w-4 h-4"}):d.jsx(Rl,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Tannarx"})]}),d.jsxs("button",{onClick:()=>P(!M),className:"flex items-center gap-2 px-4 py-2 text-white bg-violet-600 rounded-xl hover:bg-violet-700 active:scale-95 transition-all",children:[d.jsx(dO,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:"Kategoriya"})]}),d.jsxs("button",{onClick:()=>N(!I),className:"flex items-center gap-2 px-4 py-2 text-white bg-emerald-600 rounded-xl hover:bg-emerald-700 active:scale-95 transition-all",children:[d.jsx(KE,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:"Mahsulot"})]})]})]}),M&&d.jsxs("div",{className:"p-4 mb-6 border border-violet-200 rounded-2xl bg-violet-50",children:[d.jsx("h3",{className:"mb-3 font-bold text-violet-900",children:"Yangi kategoriya"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("input",{type:"text",placeholder:"Kategoriya nomi",value:$,onChange:ie=>F(ie.target.value),onKeyPress:ie=>ie.key==="Enter"&&oe(),className:"flex-1 px-4 py-2 border border-violet-200 rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent"}),d.jsx("button",{onClick:oe,disabled:H,className:"px-6 py-2 text-white bg-violet-600 rounded-xl hover:bg-violet-700 disabled:opacity-50",children:"Qo'shish"})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.map(ie=>d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-violet-200 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium",children:ie.name}),d.jsx("button",{onClick:()=>ue(ie.id),className:"text-rose-500 hover:text-rose-700",children:d.jsx(vo,{className:"w-3.5 h-3.5"})})]},ie.id))})]}),I&&d.jsxs("div",{className:"p-4 mb-6 border border-emerald-200 rounded-2xl bg-emerald-50",children:[d.jsxs("h3",{className:"mb-4 font-bold text-emerald-900 flex items-center gap-2",children:[d.jsx(KE,{className:"w-5 h-5"}),D?`"${D.productName}" qayta qo'shish`:"Yangi mahsulot qo'shish"]}),D&&d.jsx("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-300 rounded-xl",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[' Bu barcode avval "',D.productName,`" uchun ishlatilgan. Ma'lumotlar avtomatik yuklandi.`]})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx("input",{type:"text",placeholder:"Mahsulot nomi *",value:E.name,onChange:ie=>O({...E,name:ie.target.value}),className:"px-4 py-2.5 border border-emerald-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),d.jsxs("select",{value:E.category,onChange:ie=>O({...E,category:ie.target.value}),className:"px-4 py-2.5 border border-emerald-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[d.jsx("option",{value:"",children:"Kategoriya *"}),e.map(ie=>d.jsx("option",{value:ie.name,children:ie.name},ie.id))]}),d.jsx("div",{className:"relative",children:d.jsx("input",{type:"text",placeholder:"Barcode",value:E.barcode,onChange:ie=>O({...E,barcode:ie.target.value}),className:"w-full px-4 py-2.5 border border-emerald-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})}),f&&d.jsx("input",{type:"number",placeholder:"Tannarx (kelish narxi)",value:E.costPrice,onChange:ie=>O({...E,costPrice:ie.target.value}),className:"px-4 py-2.5 border border-amber-200 bg-amber-50 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),d.jsx("input",{type:"number",placeholder:"Sotuv narxi *",value:E.sellingPrice,onChange:ie=>O({...E,sellingPrice:ie.target.value}),className:"px-4 py-2.5 border border-emerald-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),d.jsx("input",{type:"number",placeholder:"Boshlang'ich miqdor",value:E.quantity,onChange:ie=>O({...E,quantity:ie.target.value}),className:"px-4 py-2.5 border border-emerald-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"number",placeholder:"Pachkada",value:E.packSize,onChange:ie=>O({...E,packSize:ie.target.value}),className:"w-24 px-3 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500",title:"Pachkada nechta dona"}),d.jsxs("select",{value:E.unit,onChange:ie=>O({...E,unit:ie.target.value}),className:"flex-1 px-3 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500",children:[d.jsx("option",{value:"dona",children:"Dona"}),d.jsx("option",{value:"pachka",children:"Pachka"}),d.jsx("option",{value:"kg",children:"Kilogram"}),d.jsx("option",{value:"litr",children:"Litr"}),d.jsx("option",{value:"metr",children:"Metr"}),d.jsx("option",{value:"quti",children:"Quti"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"absolute -top-2 left-3 px-1 bg-emerald-50 text-xs text-slate-500",children:"Amal qilish muddati"}),d.jsx("input",{type:"date",value:E.expirationDate,onChange:ie=>O({...E,expirationDate:ie.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),d.jsx("input",{type:"text",placeholder:"Rang (ixtiyoriy)",value:E.color,onChange:ie=>O({...E,color:ie.target.value}),className:"px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"absolute -top-2 left-3 px-1 bg-emerald-50 text-xs text-slate-500",children:"Min. qoldiq (ogohlantirish)"}),d.jsx("input",{type:"number",value:E.minStock,onChange:ie=>O({...E,minStock:ie.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]})]}),d.jsxs("div",{className:"mt-4 p-3 bg-slate-100 rounded-xl",children:[d.jsxs("p",{className:"text-sm text-slate-600 mb-2 flex items-center gap-1",children:[d.jsx(eB,{className:"w-4 h-4"}),"Qo'shimcha barcode (agar boshqa barcode ham bo'lsa)"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"Qo'shimcha barcode",value:W,onChange:ie=>Y(ie.target.value),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),d.jsx("button",{type:"button",onClick:()=>{W&&!E.additionalBarcodes.includes(W)&&(O({...E,additionalBarcodes:[...E.additionalBarcodes,W]}),Y(""))},className:"px-3 py-2 bg-slate-600 text-white rounded-lg text-sm hover:bg-slate-700",children:"Qo'shish"})]}),((Ee=E.additionalBarcodes)==null?void 0:Ee.length)>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:E.additionalBarcodes.map((ie,he)=>d.jsxs("span",{className:"px-2 py-1 bg-white rounded text-xs flex items-center gap-1",children:[ie,d.jsx("button",{onClick:()=>O({...E,additionalBarcodes:E.additionalBarcodes.filter((Ce,$e)=>$e!==he)}),className:"text-rose-500 hover:text-rose-700",children:""})]},he))})]}),f&&E.costPrice&&E.sellingPrice&&d.jsx("div",{className:"mt-4 p-3 bg-amber-100 border border-amber-300 rounded-xl",children:d.jsxs("p",{className:"text-sm text-amber-800",children:[d.jsx("span",{className:"font-medium",children:"Foyda: "}),Q(parseFloat(E.costPrice),parseFloat(E.sellingPrice)).amount.toLocaleString()," so'm",d.jsxs("span",{className:"ml-2 text-amber-600",children:["(",Q(parseFloat(E.costPrice),parseFloat(E.sellingPrice)).percent,"%)"]})]})}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsx("button",{onClick:Te,disabled:H,className:"px-6 py-2.5 text-white bg-emerald-600 rounded-xl hover:bg-emerald-700 disabled:opacity-50 active:scale-95 transition-all",children:H?"Saqlanmoqda...":"Qo'shish"}),d.jsx("button",{onClick:()=>{N(!1),L(null),O({name:"",category:"",costPrice:"",sellingPrice:"",barcode:"",additionalBarcodes:[],quantity:"",packSize:"1",unit:"dona",expirationDate:"",color:"",minStock:"5"})},className:"px-6 py-2.5 text-slate-600 bg-slate-200 rounded-xl hover:bg-slate-300",children:"Bekor qilish"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-200 p-4 lg:p-6",children:[d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(fu,{className:"absolute w-5 h-5 text-slate-400 left-3 top-1/2 -translate-y-1/2"}),d.jsx("input",{type:"text",placeholder:"Barcode yoki mahsulot qidirish...",value:x,onChange:ie=>y(ie.target.value),onKeyPress:ie=>{ie.key==="Enter"&&x&&t.find(Ce=>Ce.barcode===x)&&ce(x)},className:"w-full py-2.5 pl-10 pr-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),d.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2.5 text-white bg-cyan-600 rounded-xl hover:bg-cyan-700 active:scale-95 transition-all",children:[d.jsx(Vh,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:"Kamera"})]})]}),d.jsx("div",{className:"space-y-2 overflow-y-auto max-h-[400px]",children:ne.length===0?d.jsx("p",{className:"py-8 text-center text-slate-500",children:"Mahsulot topilmadi"}):ne.map(ie=>{var he;return d.jsxs("div",{onClick:()=>ve(ie),className:"flex items-center justify-between p-4 border border-slate-100 rounded-xl cursor-pointer hover:bg-emerald-50 hover:border-emerald-200 transition-all active:scale-[0.99]",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-slate-800 truncate",children:ie.name}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-1",children:[d.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded-md text-xs",children:ie.category}),ie.barcode&&d.jsx("span",{className:"font-mono text-xs",children:ie.barcode})]})]}),d.jsxs("div",{className:"text-right ml-4",children:[d.jsxs("p",{className:"font-bold text-slate-800",children:[(he=ie.sellingPrice||ie.price)==null?void 0:he.toLocaleString()," so'm"]}),f&&V&&ie.costPrice&&d.jsxs("p",{className:"text-xs text-amber-600",children:["Tannarx: ",ie.costPrice.toLocaleString()]}),d.jsxs("p",{className:"text-sm text-slate-500",children:["Omborda: ",ie.quantity]})]})]},ie.id)})})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4 lg:p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Tanlangan mahsulotlar"}),d.jsx("div",{className:"space-y-2 overflow-y-auto max-h-64 mb-4",children:w.length===0?d.jsx("p",{className:"py-8 text-sm text-center text-slate-500",children:"Bo'sh"}):w.map(ie=>d.jsxs("div",{className:"p-3 border border-slate-100 rounded-xl",children:[d.jsx("p",{className:"text-sm font-medium text-slate-800 truncate mb-2",children:ie.name}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>ye(ie.id,ie.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded-lg hover:bg-slate-200 active:scale-95",children:"-"}),d.jsx("input",{type:"number",value:ie.quantity,onChange:he=>ye(ie.id,parseInt(he.target.value)||0),className:"w-14 px-2 py-1 text-center border border-slate-200 rounded-lg"}),d.jsx("button",{onClick:()=>ye(ie.id,ie.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded-lg hover:bg-slate-200 active:scale-95",children:"+"})]}),d.jsx("p",{className:"text-sm font-bold text-slate-800",children:(ie.quantity*(ie.sellingPrice||ie.price)).toLocaleString()})]})]},ie.id))}),d.jsxs("div",{className:"pt-4 space-y-2 border-t border-slate-200",children:[d.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[d.jsx("span",{children:"Jami:"}),d.jsxs("span",{className:"text-emerald-600",children:[fe.toLocaleString()," so'm"]})]}),d.jsx("button",{onClick:pe,disabled:w.length===0||H,className:"w-full py-3 font-medium text-white bg-emerald-600 rounded-xl hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] transition-all",children:H?"Saqlanmoqda...":"Kirim qilish"})]})]})]}),S&&d.jsx(Cg,{onScan:ce,onClose:()=>C(!1)})]})},Xhe=({products:t,onUpdateProduct:e,onAddTransaction:n,currentUser:r,isAdmin:i})=>{const[a,o]=ee.useState(""),[u,f]=ee.useState([]),[h,x]=ee.useState(""),[y,w]=ee.useState(""),[_,I]=ee.useState(""),[N,M]=ee.useState("naqd"),[P,S]=ee.useState(""),[C,V]=ee.useState("percent"),[k,R]=ee.useState(!1),[j,D]=ee.useState(!1),L=ee.useRef(null);ee.useEffect(()=>{L.current&&L.current.focus()},[]);const E=t.filter(se=>{var Te,oe,ue;return(((Te=se.name)==null?void 0:Te.toLowerCase().includes(a.toLowerCase()))||((oe=se.barcode)==null?void 0:oe.includes(a))||((ue=se.additionalBarcodes)==null?void 0:ue.some(Q=>Q.includes(a))))&&se.quantity>0}),O=se=>{var oe;o("");const Te=t.find(ue=>{var Q;return ue.barcode===se||((Q=ue.additionalBarcodes)==null?void 0:Q.includes(se))});Te?Te.quantity>0?($(Te),we.success(`${Te.name} qo'shildi`)):we.error(`${Te.name} - omborda yo'q!`):we.warning(`Barcode: ${se} - topilmadi!`),(oe=L.current)==null||oe.focus()},$=(se,Te="dona")=>{const oe=se.packSize||1,ue=Te==="pachka"?oe:1,Q=u.find(fe=>fe.id===se.id&&fe.sellType===Te);if(Q){const fe=Q.quantity+ue;fe<=se.quantity?f(u.map(Ee=>Ee.id===se.id&&Ee.sellType===Te?{...Ee,quantity:fe}:Ee)):we.warning(`Omborda faqat ${se.quantity} ta bor!`)}else{const fe=se.sellingPrice||se.price,Ee=fe*oe;f([...u,{...se,quantity:ue,sellType:Te,packSize:oe,unitPrice:Te==="pachka"?Ee:fe,originalUnitPrice:fe}])}},F=(se,Te,oe)=>{const ue=t.find(Q=>Q.id===se);oe<=0?f(u.filter(Q=>!(Q.id===se&&Q.sellType===Te))):oe<=ue.quantity?f(u.map(Q=>Q.id===se&&Q.sellType===Te?{...Q,quantity:oe}:Q)):we.warning(`Omborda faqat ${ue.quantity} ta bor!`)},H=(se,Te)=>{const oe=u.find(he=>he.id===se&&he.sellType===Te);if(!oe)return;const Q=t.find(he=>he.id===se).packSize||1;if(Q===1){we.info("Bu mahsulot faqat donada sotiladi");return}const fe=Te==="dona"?"pachka":"dona",Ee=fe==="pachka"?oe.originalUnitPrice*Q:oe.originalUnitPrice;let ie;fe==="pachka"?ie=Math.floor(oe.quantity/Q)*Q||Q:ie=oe.quantity,f(u.map(he=>he.id===se&&he.sellType===Te?{...he,sellType:fe,unitPrice:Ee,quantity:ie}:he))},z=u.reduce((se,Te)=>se+Te.quantity*(Te.originalUnitPrice||Te.unitPrice),0),W=C==="percent"?z*(parseFloat(P)||0)/100:parseFloat(P)||0,Y=z-W,re=parseFloat(_)||0,ne=Y-re,ce=u.reduce((se,Te)=>se+Te.quantity*(Te.costPrice||0),0),ve=Y-ce,ye=async()=>{var Te;if(u.length===0){we.warning("Mahsulot tanlang!");return}if(N==="qarz"&&!h.trim()){we.error("Qarz uchun mijoz ismini kiriting!");return}if(N!=="qarz"&&re<Y){we.error("To'lov yetarli emas!");return}R(!0);const se=we.loading("Sotilmoqda...");try{const oe=`SALE-${Date.now()}`,ue=new Date;for(const Q of u){const fe=t.find(Ce=>Ce.id===Q.id),Ee=fe.quantity-Q.quantity;await kr(jt(ze,"products",Q.id),{quantity:Ee}),e({...fe,quantity:Ee});const ie={saleId:oe,productId:Q.id,productName:Q.name,type:"chiqim",quantity:Q.quantity,costPrice:Q.costPrice||0,sellingPrice:Q.unitPrice,price:Q.unitPrice,totalAmount:Q.quantity*Q.unitPrice,paidAmount:N==="qarz"?re:Q.quantity*Q.unitPrice,debt:N==="qarz"?Q.quantity*Q.unitPrice*(ne/Y):0,customerName:h.trim()||"Naqd mijoz",customerPhone:y.trim(),paymentType:N,discount:W,companyId:r.companyId,createdBy:r.id,date:ue},he=await xa(dt(ze,"transactions"),ie);n({id:he.id,...ie,date:ue})}f([]),x(""),w(""),I(""),S(""),M("naqd"),we.update(se,{render:` Sotildi! ${N==="qarz"?`Qarz: ${ne.toLocaleString()} so'm`:""}`,type:"success",isLoading:!1,autoClose:3e3}),(Te=L.current)==null||Te.focus()}catch(oe){console.error("Xato:",oe),we.update(se,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}R(!1)},pe=[1e3,5e3,1e4,5e4,1e5];return d.jsxs("div",{className:"h-[calc(100vh-64px)] lg:h-screen flex flex-col bg-slate-100",children:[d.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[d.jsxs("div",{className:"lg:w-[400px] xl:w-[450px] flex flex-col border-r border-slate-200 bg-white order-2 lg:order-1",children:[d.jsx("div",{className:"p-4 border-b border-slate-200",children:d.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{type:"naqd",label:"Naqd",icon:dv,color:"emerald"},{type:"karta",label:"Karta",icon:ro,color:"blue"},{type:"qarz",label:"Qarz",icon:Oi,color:"rose"}].map(({type:se,label:Te,icon:oe,color:ue})=>d.jsxs("button",{onClick:()=>{M(se),I(se!=="qarz"?Y.toString():"0")},className:`flex flex-col items-center gap-1 p-3 rounded-xl font-medium transition-all active:scale-95 ${N===se?se==="naqd"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":se==="karta"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-rose-500 text-white shadow-lg shadow-rose-500/25":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[d.jsx(oe,{className:"w-5 h-5"}),d.jsx("span",{className:"text-sm",children:Te})]},se))})}),N==="qarz"&&d.jsxs("div",{className:"p-4 bg-rose-50 border-b border-rose-100 space-y-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-rose-400"}),d.jsx("input",{type:"text",placeholder:"Mijoz ismi *",value:h,onChange:se=>x(se.target.value),className:"w-full pl-10 pr-4 py-2.5 border-2 border-rose-200 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),d.jsx("input",{type:"tel",placeholder:"Telefon raqami",value:y,onChange:se=>w(se.target.value),className:"w-full px-4 py-2.5 border-2 border-rose-200 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[d.jsx(M1,{className:"w-16 h-16 mb-4 opacity-50"}),d.jsx("p",{className:"font-medium",children:"Savatcha bo'sh"}),d.jsx("p",{className:"text-sm",children:"Mahsulot qo'shing"})]}):d.jsx("div",{className:"space-y-2",children:u.map(se=>d.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-slate-800 truncate",children:se.name}),d.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[d.jsxs("p",{className:"text-sm text-slate-500",children:[se.unitPrice.toLocaleString(),"  ",se.quantity]}),se.packSize>1&&d.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded font-medium ${se.sellType==="pachka"?"bg-violet-100 text-violet-700":"bg-slate-200 text-slate-600"}`,children:se.sellType==="pachka"?`${se.packSize}li pachka`:"dona"})]})]}),d.jsx("button",{onClick:()=>f(u.filter(Te=>!(Te.id===se.id&&Te.sellType===se.sellType))),className:"p-1 text-slate-400 hover:text-rose-500",children:d.jsx(vo,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[se.packSize>1&&d.jsxs("button",{onClick:()=>H(se.id,se.sellType),className:`px-2 py-1 text-xs rounded-lg font-medium transition-all ${se.sellType==="pachka"?"bg-violet-500 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:[d.jsx(zL,{className:"w-3 h-3 inline mr-1"}),se.sellType==="pachka"?"Pachka":"Dona"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>F(se.id,se.sellType,se.quantity-(se.sellType==="pachka"?se.packSize:1)),className:"w-8 h-8 flex items-center justify-center bg-slate-200 rounded-lg hover:bg-slate-300 active:scale-95",children:d.jsx(oB,{className:"w-4 h-4"})}),d.jsx("input",{type:"number",value:se.quantity,onChange:Te=>F(se.id,se.sellType,parseInt(Te.target.value)||0),className:"w-12 h-8 text-center border rounded-lg text-sm"}),d.jsx("button",{onClick:()=>F(se.id,se.sellType,se.quantity+(se.sellType==="pachka"?se.packSize:1)),className:"w-8 h-8 flex items-center justify-center bg-slate-200 rounded-lg hover:bg-slate-300 active:scale-95",children:d.jsx(pv,{className:"w-4 h-4"})})]}),d.jsx("p",{className:"font-bold text-slate-800",children:(se.quantity*(se.originalUnitPrice||se.unitPrice)).toLocaleString()})]})]},`${se.id}-${se.sellType}`))})}),d.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:[d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(fO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",placeholder:"Chegirma",value:P,onChange:se=>S(se.target.value),className:"w-full pl-9 pr-4 py-2 border rounded-xl text-sm"})]}),d.jsxs("select",{value:C,onChange:se=>V(se.target.value),className:"px-3 py-2 border rounded-xl text-sm bg-white",children:[d.jsx("option",{value:"percent",children:"%"}),d.jsx("option",{value:"fixed",children:"so'm"})]})]}),N==="qarz"&&d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Oldindan to'lov"}),d.jsx("input",{type:"number",placeholder:"0",value:_,onChange:se=>I(se.target.value),className:"w-full px-4 py-2 border-2 border-slate-200 rounded-xl text-lg font-bold"}),d.jsx("div",{className:"flex gap-1 mt-2 overflow-x-auto",children:pe.map(se=>d.jsxs("button",{onClick:()=>I((re+se).toString()),className:"px-2 py-1 bg-slate-200 rounded-lg text-xs font-medium hover:bg-slate-300 whitespace-nowrap",children:["+",se>=1e3?`${se/1e3}k`:se]},se))})]}),d.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-500",children:"Jami:"}),d.jsx("span",{className:"font-medium",children:z.toLocaleString()})]}),W>0&&d.jsxs("div",{className:"flex justify-between text-emerald-600",children:[d.jsx("span",{children:"Chegirma:"}),d.jsxs("span",{children:["-",W.toLocaleString()]})]}),N==="qarz"&&re>0&&d.jsxs("div",{className:"flex justify-between text-emerald-600",children:[d.jsx("span",{children:"To'landi:"}),d.jsx("span",{children:re.toLocaleString()})]}),N==="qarz"&&ne>0&&d.jsxs("div",{className:"flex justify-between text-rose-600 font-bold",children:[d.jsx("span",{children:"Qarz:"}),d.jsx("span",{children:ne.toLocaleString()})]}),i&&ve>0&&d.jsxs("div",{className:"flex justify-between text-amber-600 pt-1 border-t border-dashed",children:[d.jsx("span",{children:"Foyda:"}),d.jsxs("span",{children:["+",ve.toLocaleString()]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Jami to'lov"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:Y.toLocaleString()})]}),d.jsx("button",{onClick:ye,disabled:u.length===0||k,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-bold rounded-xl hover:from-emerald-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 transition-all shadow-lg shadow-emerald-500/25",children:k?"...":"Sotish"})]})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden order-1 lg:order-2",children:[d.jsx("div",{className:"p-4 bg-white border-b border-slate-200",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(fu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{ref:L,type:"text",placeholder:"Barcode skanerlang yoki mahsulot qidiring...",value:a,onChange:se=>o(se.target.value),onKeyPress:se=>{se.key==="Enter"&&a&&t.find(oe=>oe.barcode===a)&&O(a)},className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl text-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",autoComplete:"off"})]}),d.jsx("button",{onClick:()=>D(!0),className:"px-4 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 active:scale-95 transition-all",children:d.jsx(Vh,{className:"w-6 h-6"})})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:E.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[d.jsx(Hi,{className:"w-16 h-16 mb-4 opacity-50"}),d.jsx("p",{className:"font-medium",children:"Mahsulot topilmadi"})]}):d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:E.map(se=>{var ue;const Te=u.find(Q=>Q.id===se.id),oe=(se.packSize||1)>1;return d.jsxs("div",{className:`relative p-3 bg-white rounded-xl border-2 text-left transition-all ${Te?"border-emerald-500 ring-2 ring-emerald-100":"border-slate-200 hover:border-slate-300"}`,children:[Te&&d.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-emerald-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:u.filter(Q=>Q.id===se.id).reduce((Q,fe)=>Q+fe.quantity,0)}),d.jsx("p",{className:"font-medium text-slate-800 text-sm truncate mb-1",children:se.name}),d.jsx("p",{className:"text-lg font-bold text-emerald-600",children:(ue=se.sellingPrice||se.price)==null?void 0:ue.toLocaleString()}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsxs("p",{className:`text-xs ${se.quantity<5?"text-rose-500":"text-slate-400"}`,children:["Qoldi: ",se.quantity]}),oe&&d.jsxs("span",{className:"text-xs text-violet-600 font-medium",children:[se.packSize,"li"]})]}),d.jsxs("div",{className:"flex gap-1 mt-2",children:[d.jsx("button",{onClick:()=>$(se,"dona"),className:"flex-1 py-1.5 bg-emerald-100 text-emerald-700 text-xs font-medium rounded-lg hover:bg-emerald-200 active:scale-95 transition-all",children:"+1 dona"}),oe&&d.jsx("button",{onClick:()=>$(se,"pachka"),className:"flex-1 py-1.5 bg-violet-100 text-violet-700 text-xs font-medium rounded-lg hover:bg-violet-200 active:scale-95 transition-all",children:"+1 pachka"})]})]},se.id)})})})]})]}),j&&d.jsx(Cg,{onScan:O,onClose:()=>D(!1)})]})},Yhe=({products:t,categories:e,onDeleteProduct:n,onUpdateProduct:r,onAddCategory:i,onDeleteCategory:a,isAdmin:o,currentUser:u})=>{const[f,h]=ee.useState(""),[x,y]=ee.useState(""),[w,_]=ee.useState(null),[I,N]=ee.useState(!1),[M,P]=ee.useState(!1),[S,C]=ee.useState(""),[V,k]=ee.useState(!1),[R,j]=ee.useState(!1),[D,L]=ee.useState(!1),[E,O]=ee.useState("name"),[$,F]=ee.useState("asc"),[H,z]=ee.useState("all"),W=["Barchasi",...e.map(ue=>ue.name)],Y=ee.useMemo(()=>{let ue=t.filter(Q=>{var he,Ce,$e;const fe=((he=Q.name)==null?void 0:he.toLowerCase().includes(f.toLowerCase()))||((Ce=Q.barcode)==null?void 0:Ce.includes(f))||(($e=Q.additionalBarcodes)==null?void 0:$e.some(He=>He.includes(f))),Ee=!x||x==="Barchasi"||Q.category===x;let ie=!0;if(H==="low")ie=Q.quantity<=(Q.minStock||5)&&Q.quantity>0;else if(H==="out")ie=Q.quantity<=0;else if(H==="expiring")if(Q.expirationDate){const He=new Date(Q.expirationDate),xt=Math.ceil((He-new Date)/(1e3*60*60*24));ie=xt<=30&&xt>0}else ie=!1;return fe&&Ee&&ie});return ue.sort((Q,fe)=>{var he,Ce,$e,He;let Ee,ie;switch(E){case"name":Ee=((he=Q.name)==null?void 0:he.toLowerCase())||"",ie=((Ce=fe.name)==null?void 0:Ce.toLowerCase())||"";break;case"quantity":Ee=Q.quantity||0,ie=fe.quantity||0;break;case"price":Ee=Q.sellingPrice||Q.price||0,ie=fe.sellingPrice||fe.price||0;break;case"totalValue":Ee=(Q.quantity||0)*(Q.sellingPrice||Q.price||0),ie=(fe.quantity||0)*(fe.sellingPrice||fe.price||0);break;case"expiration":Ee=Q.expirationDate?new Date(Q.expirationDate).getTime():1/0,ie=fe.expirationDate?new Date(fe.expirationDate).getTime():1/0;break;default:Ee=(($e=Q.name)==null?void 0:$e.toLowerCase())||"",ie=((He=fe.name)==null?void 0:He.toLowerCase())||""}return $==="asc"?Ee>ie?1:Ee<ie?-1:0:Ee<ie?1:Ee>ie?-1:0}),ue},[t,f,x,H,E,$]),re=ee.useMemo(()=>{const ue=t.filter(Ee=>Ee.quantity<=(Ee.minStock||5)&&Ee.quantity>0).length,Q=t.filter(Ee=>Ee.quantity<=0).length,fe=t.filter(Ee=>{if(!Ee.expirationDate)return!1;const ie=Math.ceil((new Date(Ee.expirationDate)-new Date)/(1e3*60*60*24));return ie<=30&&ie>0}).length;return{lowStock:ue,outOfStock:Q,expiringSoon:fe}},[t]),ne=ue=>{h(ue);const Q=t.find(fe=>fe.barcode===ue);Q?(we.success(`${Q.name} topildi!`),setTimeout(()=>{const fe=document.getElementById(`product-${Q.id}`);fe&&(fe.scrollIntoView({behavior:"smooth",block:"center"}),fe.classList.add("ring-2","ring-emerald-500"),setTimeout(()=>fe.classList.remove("ring-2","ring-emerald-500"),2e3))},100)):we.warning(`Barcode: ${ue} - Mahsulot topilmadi!`)},ce=async ue=>{if(window.confirm("Mahsulotni o'chirmoqchimisiz?"))try{await Vf(jt(ze,"products",ue)),n(ue),we.success("Mahsulot o'chirildi!")}catch(Q){console.error("Xato:",Q),we.error("Xatolik yuz berdi!")}},ve=async()=>{if(!w.name||!w.sellingPrice){we.error("Majburiy maydonlarni to'ldiring!");return}N(!0);try{const ue={name:w.name,category:w.category,costPrice:parseFloat(w.costPrice)||0,sellingPrice:parseFloat(w.sellingPrice),price:parseFloat(w.sellingPrice),barcode:w.barcode,quantity:parseInt(w.quantity)};await kr(jt(ze,"products",w.id),ue),r({...w,...ue}),_(null),we.success("Mahsulot yangilandi!")}catch(ue){console.error("Xato:",ue),we.error("Xatolik yuz berdi!")}N(!1)},ye=async()=>{if(!S.trim()){we.error("Kategoriya nomini kiriting!");return}if(e.some(ue=>ue.name.toLowerCase()===S.trim().toLowerCase())){we.error("Bu kategoriya allaqachon mavjud!");return}N(!0);try{const ue={name:S.trim(),companyId:u.companyId,createdAt:new Date},Q=await xa(dt(ze,"categories"),ue);i({id:Q.id,...ue}),C(""),P(!1),we.success("Kategoriya qo'shildi!")}catch(ue){console.error("Xato:",ue),we.error("Xatolik yuz berdi!")}N(!1)},pe=async ue=>{var Ee;const Q=(Ee=e.find(ie=>ie.id===ue))==null?void 0:Ee.name;if(t.some(ie=>ie.category===Q)){we.error("Bu kategoriyada mahsulotlar mavjud! Avval mahsulotlarni o'zgartiring.");return}if(window.confirm("Kategoriyani o'chirmoqchimisiz?"))try{await Vf(jt(ze,"categories",ue)),a(ue),we.success("Kategoriya o'chirildi!")}catch(ie){console.error("Xato:",ie),we.error("Xatolik yuz berdi!")}},se=t.reduce((ue,Q)=>ue+Q.quantity*(Q.sellingPrice||Q.price||0),0),Te=t.reduce((ue,Q)=>ue+Q.quantity*(Q.costPrice||0),0),oe=(ue,Q)=>!ue||!Q?0:((Q-ue)/ue*100).toFixed(1);return d.jsxs("div",{className:"p-4 lg:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Mahsulotlar ro'yxati"}),d.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Jami qiymat: ",d.jsxs("span",{className:"font-bold text-emerald-600",children:[(se/1e6).toFixed(2)," mln"]}),o&&R&&d.jsxs("span",{className:"ml-4 text-amber-600",children:["Tannarx: ",d.jsxs("span",{className:"font-bold",children:[(Te/1e6).toFixed(2)," mln"]})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs("div",{className:"flex gap-2",children:[re.lowStock>0&&d.jsxs("button",{onClick:()=>z(H==="low"?"all":"low"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${H==="low"?"bg-amber-500 text-white":"bg-amber-100 text-amber-700"}`,children:[" ",re.lowStock," kam"]}),re.outOfStock>0&&d.jsxs("button",{onClick:()=>z(H==="out"?"all":"out"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${H==="out"?"bg-rose-500 text-white":"bg-rose-100 text-rose-700"}`,children:[" ",re.outOfStock," tugagan"]}),re.expiringSoon>0&&d.jsxs("button",{onClick:()=>z(H==="expiring"?"all":"expiring"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${H==="expiring"?"bg-orange-500 text-white":"bg-orange-100 text-orange-700"}`,children:[" ",re.expiringSoon," muddati yaqin"]})]}),o&&d.jsxs("button",{onClick:()=>j(!R),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${R?"bg-amber-100 text-amber-700 border border-amber-300":"bg-slate-100 text-slate-600 border border-slate-200"}`,children:[R?d.jsx(du,{className:"w-4 h-4"}):d.jsx(Rl,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Tannarx"})]}),d.jsxs("button",{onClick:()=>L(!D),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${D?"bg-emerald-100 text-emerald-700 border border-emerald-300":"bg-slate-100 text-slate-600 border border-slate-200"}`,children:[d.jsx(QL,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Filter"})]}),d.jsxs("button",{onClick:()=>P(!M),className:"flex items-center gap-2 px-4 py-2 text-white bg-violet-600 rounded-xl hover:bg-violet-700 active:scale-95 transition-all",children:[d.jsx(dO,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:"Kategoriya"})]})]})]}),D&&d.jsx("div",{className:"mb-6 p-4 bg-slate-50 rounded-2xl border border-slate-200",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Saralash"}),d.jsxs("select",{value:E,onChange:ue=>O(ue.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[d.jsx("option",{value:"name",children:"Nomi (A-Z)"}),d.jsx("option",{value:"quantity",children:"Miqdori"}),d.jsx("option",{value:"price",children:"Narxi"}),d.jsx("option",{value:"totalValue",children:"Jami qiymati"}),d.jsx("option",{value:"expiration",children:"Muddat"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Tartib"}),d.jsxs("select",{value:$,onChange:ue=>F(ue.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[d.jsx("option",{value:"asc",children:"Kamdan ko'pga "}),d.jsx("option",{value:"desc",children:"Ko'pdan kamga "})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Qoldiq holati"}),d.jsxs("select",{value:H,onChange:ue=>z(ue.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm",children:[d.jsx("option",{value:"all",children:"Barchasi"}),d.jsx("option",{value:"low",children:" Kam qolganlar"}),d.jsx("option",{value:"out",children:" Tugaganlar"}),d.jsx("option",{value:"expiring",children:" Muddati yaqinlar"})]})]}),d.jsx("button",{onClick:()=>{O("name"),F("asc"),z("all"),y("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-800",children:"Tozalash"})]})}),M&&d.jsxs("div",{className:"p-4 mb-6 border border-violet-200 rounded-2xl bg-violet-50",children:[d.jsx("h3",{className:"mb-3 font-bold text-violet-900",children:"Kategoriya boshqaruvi"}),d.jsxs("div",{className:"flex gap-4 mb-4",children:[d.jsx("input",{type:"text",placeholder:"Yangi kategoriya nomi",value:S,onChange:ue=>C(ue.target.value),onKeyPress:ue=>ue.key==="Enter"&&ye(),className:"flex-1 px-4 py-2 border border-violet-200 rounded-xl focus:ring-2 focus:ring-violet-500 focus:border-transparent"}),d.jsx("button",{onClick:ye,disabled:I,className:"px-6 py-2 text-white bg-violet-600 rounded-xl hover:bg-violet-700 disabled:opacity-50",children:"Qo'shish"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(ue=>{const Q=t.filter(fe=>fe.category===ue.name).length;return d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-violet-200 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium",children:ue.name}),d.jsxs("span",{className:"text-xs text-slate-500",children:["(",Q,")"]}),d.jsx("button",{onClick:()=>pe(ue.id),className:"ml-2 text-rose-500 hover:text-rose-700",title:Q>0?"Bu kategoriyada mahsulotlar bor":"O'chirish",children:d.jsx(vo,{className:"w-3.5 h-3.5"})})]},ue.id)})})]}),d.jsx("div",{className:"p-4 mb-6 bg-white rounded-2xl shadow-sm border border-slate-200",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(fu,{className:"absolute w-5 h-5 text-slate-400 left-3 top-1/2 -translate-y-1/2"}),d.jsx("input",{type:"text",placeholder:"Barcode yoki qidiruv...",value:f,onChange:ue=>h(ue.target.value),onKeyPress:ue=>{ue.key==="Enter"&&f&&t.find(fe=>fe.barcode===f)&&ne(f)},className:"w-full py-2.5 pl-10 pr-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),d.jsx("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2.5 text-white bg-cyan-600 rounded-xl hover:bg-cyan-700",children:d.jsx(Vh,{className:"w-5 h-5"})})]}),d.jsx("select",{value:x,onChange:ue=>y(ue.target.value),className:"px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:W.map(ue=>d.jsx("option",{value:ue,children:ue},ue))})]})}),d.jsx("div",{className:"lg:hidden space-y-3",children:Y.length===0?d.jsxs("div",{className:"py-12 text-center text-slate-500 bg-white rounded-2xl",children:[d.jsx(Hi,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),d.jsx("p",{children:"Mahsulot topilmadi"})]}):Y.map((ue,Q)=>d.jsxs("div",{id:`product-${ue.id}`,className:"p-4 bg-white rounded-2xl shadow-sm border border-slate-100 transition-all",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-slate-800 truncate",children:ue.name}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:"px-2 py-0.5 bg-violet-100 text-violet-700 rounded-md text-xs font-medium",children:ue.category}),ue.barcode&&d.jsx("span",{className:"text-xs text-slate-400 font-mono",children:ue.barcode})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>_(ue),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:d.jsx(XE,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>ce(ue.id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg",children:d.jsx(vo,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o&&R&&d.jsxs("div",{className:"p-2 bg-amber-50 rounded-lg",children:[d.jsx("p",{className:"text-amber-600 text-xs",children:"Tannarx"}),d.jsx("p",{className:"font-bold text-amber-700",children:(ue.costPrice||0).toLocaleString()})]}),d.jsxs("div",{className:"p-2 bg-emerald-50 rounded-lg",children:[d.jsx("p",{className:"text-emerald-600 text-xs",children:"Sotuv narxi"}),d.jsx("p",{className:"font-bold text-emerald-700",children:(ue.sellingPrice||ue.price||0).toLocaleString()})]}),o&&R&&ue.costPrice&&d.jsxs("div",{className:"p-2 bg-slate-50 rounded-lg",children:[d.jsx("p",{className:"text-slate-600 text-xs",children:"Foyda"}),d.jsxs("p",{className:"font-bold text-slate-700",children:[oe(ue.costPrice,ue.sellingPrice||ue.price),"%"]})]}),d.jsxs("div",{className:`p-2 rounded-lg ${ue.quantity===0?"bg-rose-50":ue.quantity<10?"bg-amber-50":"bg-slate-50"}`,children:[d.jsx("p",{className:`text-xs ${ue.quantity===0?"text-rose-600":ue.quantity<10?"text-amber-600":"text-slate-600"}`,children:"Miqdor"}),d.jsx("p",{className:`font-bold ${ue.quantity===0?"text-rose-700":ue.quantity<10?"text-amber-700":"text-slate-700"}`,children:ue.quantity})]})]})]},ue.id))}),d.jsx("div",{className:"hidden lg:block overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-200",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"#"}),d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"Mahsulot"}),d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"Kategoriya"}),d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"Barcode"}),o&&R&&d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-amber-600 uppercase bg-amber-50",children:"Tannarx"}),d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"Sotuv narxi"}),o&&R&&d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-amber-600 uppercase bg-amber-50",children:"Foyda %"}),d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"Miqdor"}),d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"Jami qiymat"}),d.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-left text-slate-500 uppercase",children:"Amallar"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:Y.length===0?d.jsx("tr",{children:d.jsxs("td",{colSpan:o&&R?10:8,className:"px-6 py-12 text-center text-slate-500",children:[d.jsx(Hi,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),d.jsx("p",{children:"Mahsulot topilmadi"})]})}):Y.map((ue,Q)=>d.jsxs("tr",{id:`product-${ue.id}`,className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:Q+1}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("p",{className:"font-medium text-slate-800",children:ue.name})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:"px-2.5 py-1 bg-violet-100 text-violet-700 rounded-lg text-xs font-medium",children:ue.category})}),d.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-500",children:ue.barcode||d.jsx("span",{className:"italic text-slate-400",children:""})}),o&&R&&d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-amber-700 bg-amber-50/50",children:(ue.costPrice||0).toLocaleString()}),d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-800",children:(ue.sellingPrice||ue.price||0).toLocaleString()}),o&&R&&d.jsx("td",{className:"px-6 py-4 bg-amber-50/50",children:d.jsxs("span",{className:`text-sm font-bold ${oe(ue.costPrice,ue.sellingPrice||ue.price)>20?"text-emerald-600":"text-amber-600"}`,children:[oe(ue.costPrice,ue.sellingPrice||ue.price),"%"]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-semibold ${ue.quantity===0?"bg-rose-100 text-rose-700":ue.quantity<10?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:ue.quantity})}),d.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800",children:((ue.quantity||0)*(ue.sellingPrice||ue.price||0)).toLocaleString()}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>_(ue),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:d.jsx(XE,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>ce(ue.id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",children:d.jsx(vo,{className:"w-4 h-4"})})]})})]},ue.id))})]})})}),w&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:d.jsxs("div",{className:"w-full max-w-md p-6 bg-white rounded-2xl shadow-2xl",children:[d.jsx("h3",{className:"mb-4 text-xl font-bold text-slate-800",children:"Mahsulotni tahrirlash"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700",children:"Nomi *"}),d.jsx("input",{type:"text",value:w.name,onChange:ue=>_({...w,name:ue.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700",children:"Kategoriya"}),d.jsx("select",{value:w.category,onChange:ue=>_({...w,category:ue.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:e.map(ue=>d.jsx("option",{value:ue.name,children:ue.name},ue.id))})]}),o&&d.jsxs("div",{children:[d.jsx("label",{className:"block mb-2 text-sm font-medium text-amber-700",children:"Tannarx (kelish narxi)"}),d.jsx("input",{type:"number",value:w.costPrice,onChange:ue=>_({...w,costPrice:ue.target.value}),className:"w-full px-4 py-2.5 border border-amber-200 bg-amber-50 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700",children:"Sotuv narxi *"}),d.jsx("input",{type:"number",value:w.sellingPrice||w.price,onChange:ue=>_({...w,sellingPrice:ue.target.value,price:ue.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700",children:"Barcode"}),d.jsx("input",{type:"text",value:w.barcode,onChange:ue=>_({...w,barcode:ue.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700",children:"Miqdor"}),d.jsx("input",{type:"number",value:w.quantity,onChange:ue=>_({...w,quantity:ue.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),d.jsx("div",{className:"p-3 text-sm text-amber-800 border border-amber-200 rounded-xl bg-amber-50",children:" Miqdorni o'zgartirish tavsiya etilmaydi. Kirim/Chiqim orqali boshqaring."})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>_(null),className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl hover:bg-slate-200 font-medium",children:"Bekor qilish"}),d.jsx("button",{onClick:ve,disabled:I,className:"flex-1 px-4 py-2.5 text-white bg-emerald-600 rounded-xl hover:bg-emerald-700 disabled:opacity-50 font-medium",children:I?"Saqlanmoqda...":"Saqlash"})]})]})}),V&&d.jsx(Cg,{onScan:ne,onClose:()=>k(!1)})]})},Qhe=({products:t,transactions:e,isAdmin:n})=>{const[r,i]=ee.useState("oy"),[a,o]=ee.useState(!1),u=()=>{const S=new Date;let C=new Date;switch(r){case"bugun":C.setHours(0,0,0,0);break;case"hafta":C.setDate(S.getDate()-7);break;case"oy":C.setMonth(S.getMonth()-1);break;case"yil":C.setFullYear(S.getFullYear()-1);break}return e.filter(V=>new Date(V.date)>=C)},f=()=>{const S=u(),C=S.filter(D=>D.type==="kirim").reduce((D,L)=>D+L.quantity*(L.sellingPrice||L.price),0),V=S.filter(D=>D.type==="chiqim").reduce((D,L)=>D+(L.paidAmount||L.quantity*(L.sellingPrice||L.price)),0),k=S.filter(D=>D.type==="chiqim").reduce((D,L)=>D+(L.debt||0),0),R=S.filter(D=>D.type==="chiqim").reduce((D,L)=>{const E=L.costPrice||0,O=L.sellingPrice||L.price||0;return D+(O-E)*L.quantity},0),j=new Set(S.filter(D=>D.type==="chiqim"&&D.customerName&&D.customerName!=="Naqd").map(D=>D.customerName)).size;return{income:C,outcome:V,debt:k,profit:R,uniqueCustomers:j}},h=()=>{const S={};return u().filter(C=>C.type==="chiqim").forEach(C=>{const V=t.find(D=>D.id===C.productId),k=(V==null?void 0:V.category)||C.category||"Boshqa";S[k]||(S[k]={revenue:0,profit:0});const R=C.quantity*(C.sellingPrice||C.price),j=(C.sellingPrice||C.price-(C.costPrice||0))*C.quantity;S[k].revenue+=R,S[k].profit+=j}),Object.entries(S).map(([C,V])=>({name:C,value:V.revenue/1e6,profit:V.profit/1e6}))},x=()=>{const S={};for(let C=11;C>=0;C--){const V=new Date;V.setMonth(V.getMonth()-C);const k=`0${V.getMonth()+1}`.slice(-2),R=V.getFullYear(),j=`${k}.${R}`;S[j]={income:0,outcome:0,profit:0}}return e.forEach(C=>{const V=new Date(C.date),k=`0${V.getMonth()+1}`.slice(-2),R=V.getFullYear(),j=`${k}.${R}`;if(S[j])if(C.type==="kirim")S[j].income+=C.quantity*(C.sellingPrice||C.price);else{S[j].outcome+=C.paidAmount||C.quantity*(C.sellingPrice||C.price);const D=C.costPrice||0,L=C.sellingPrice||C.price||0;S[j].profit+=(L-D)*C.quantity}}),Object.entries(S).map(([C,V])=>({month:C,kirim:V.income/1e6,savdo:V.outcome/1e6,foyda:V.profit/1e6}))},y=()=>{const S={};return e.filter(C=>C.type==="chiqim"&&C.debt>0).forEach(C=>{S[C.customerName]||(S[C.customerName]=0),S[C.customerName]+=C.debt}),Object.entries(S).map(([C,V])=>({name:C,debt:V})).sort((C,V)=>V.debt-C.debt).slice(0,10)},w=f(),_=h(),I=x(),N=y(),M=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"],P=S=>S>=1e6?`${(S/1e6).toFixed(1)} mln`:S>=1e3?`${(S/1e3).toFixed(0)} ming`:S.toLocaleString();return d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4 lg:p-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(uu,{className:"w-5 h-5 text-slate-600"}),d.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Davr tanlang:"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[[{key:"bugun",label:"Bugun"},{key:"hafta",label:"Hafta"},{key:"oy",label:"Oy"},{key:"yil",label:"Yil"}].map(S=>d.jsx("button",{onClick:()=>i(S.key),className:`px-4 py-2 rounded-xl font-medium transition-all ${r===S.key?"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white shadow-lg":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:S.label},S.key)),n&&d.jsxs("button",{onClick:()=>o(!a),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${a?"bg-amber-100 text-amber-700 border border-amber-300":"bg-slate-100 text-slate-600 border border-slate-200"}`,children:[a?d.jsx(du,{className:"w-4 h-4"}):d.jsx(Rl,{className:"w-4 h-4"}),d.jsx("span",{children:"Foyda"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-4 lg:p-6 text-white shadow-lg shadow-emerald-500/25",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-emerald-100 text-xs lg:text-sm font-medium",children:"Kirim"}),d.jsx("p",{className:"text-xl lg:text-3xl font-bold mt-1",children:P(w.income)})]}),d.jsx(Ew,{className:"w-8 h-8 lg:w-10 lg:h-10 text-emerald-200"})]})}),d.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 lg:p-6 text-white shadow-lg shadow-blue-500/25",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-100 text-xs lg:text-sm font-medium",children:"Savdo"}),d.jsx("p",{className:"text-xl lg:text-3xl font-bold mt-1",children:P(w.outcome)})]}),d.jsx(To,{className:"w-8 h-8 lg:w-10 lg:h-10 text-blue-200"})]})}),n?d.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-4 lg:p-6 text-white shadow-lg shadow-amber-500/25",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-amber-100 text-xs lg:text-sm font-medium",children:"Sof Foyda"}),d.jsx("p",{className:"text-xl lg:text-3xl font-bold mt-1",children:P(w.profit)}),d.jsxs("p",{className:"text-amber-200 text-xs mt-1",children:[w.outcome>0?(w.profit/w.outcome*100).toFixed(1):0,"% margin"]})]}),d.jsx(fO,{className:"w-8 h-8 lg:w-10 lg:h-10 text-amber-200"})]})}):d.jsx("div",{className:"bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl p-4 lg:p-6 text-white shadow-lg shadow-violet-500/25",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-violet-100 text-xs lg:text-sm font-medium",children:"Mijozlar"}),d.jsx("p",{className:"text-xl lg:text-3xl font-bold mt-1",children:w.uniqueCustomers})]}),d.jsx(Ll,{className:"w-8 h-8 lg:w-10 lg:h-10 text-violet-200"})]})}),d.jsx("div",{className:"bg-gradient-to-br from-rose-500 to-rose-600 rounded-2xl p-4 lg:p-6 text-white shadow-lg shadow-rose-500/25",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-rose-100 text-xs lg:text-sm font-medium",children:"Qarz"}),d.jsx("p",{className:"text-xl lg:text-3xl font-bold mt-1",children:P(w.debt)})]}),d.jsx(Ll,{className:"w-8 h-8 lg:w-10 lg:h-10 text-rose-200"})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4 lg:p-6",children:[d.jsx("h3",{className:"mb-4 text-lg font-bold text-slate-800",children:"12 oylik statistika (mln so'm)"}),d.jsx("div",{className:"h-72",children:d.jsx(cm,{width:"100%",height:"100%",children:d.jsxs(lhe,{data:I,children:[d.jsx(zP,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),d.jsx(od,{dataKey:"month",angle:-45,textAnchor:"end",height:80,fontSize:11,stroke:"#94a3b8"}),d.jsx(ld,{stroke:"#94a3b8",fontSize:12}),d.jsx(Ei,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"12px",color:"#fff"},formatter:S=>[`${S.toFixed(2)} mln`,""]}),d.jsx(El,{}),d.jsx(No,{dataKey:"savdo",fill:"#3b82f6",name:"Savdo",radius:[4,4,0,0]}),n&&a&&d.jsx(No,{dataKey:"foyda",fill:"#f59e0b",name:"Foyda",radius:[4,4,0,0]})]})})})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4 lg:p-6",children:[d.jsx("h3",{className:"mb-4 text-lg font-bold text-slate-800",children:"Kategoriya bo'yicha savdo"}),_.length===0?d.jsx("div",{className:"h-72 flex items-center justify-center text-slate-500",children:"Ma'lumot mavjud emas"}):d.jsx("div",{className:"h-72",children:d.jsx(cm,{width:"100%",height:"100%",children:d.jsxs(lj,{children:[d.jsx(Za,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:S=>`${S.name}: ${S.value.toFixed(1)}M`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:_.map((S,C)=>d.jsx(qh,{fill:M[C%M.length]},`cell-${C}`))}),d.jsx(Ei,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"12px",color:"#fff"},formatter:(S,C,V)=>n&&a?[`${S.toFixed(2)} mln (foyda: ${V.payload.profit.toFixed(2)} mln)`,C]:[`${S.toFixed(2)} mln`,C]})]})})})]})]}),n&&d.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 rounded-2xl p-6 text-white",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"text-amber-400",children:""})," Foyda analizi"]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[d.jsx("p",{className:"text-slate-300 text-sm",children:"Gross Revenue"}),d.jsx("p",{className:"text-xl font-bold mt-1",children:P(w.outcome+w.debt)})]}),d.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[d.jsx("p",{className:"text-slate-300 text-sm",children:"Kirim xarajati"}),d.jsx("p",{className:"text-xl font-bold mt-1 text-rose-400",children:P(u().filter(S=>S.type==="chiqim").reduce((S,C)=>S+(C.costPrice||0)*C.quantity,0))})]}),d.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[d.jsx("p",{className:"text-slate-300 text-sm",children:"Sof Foyda"}),d.jsx("p",{className:"text-xl font-bold mt-1 text-emerald-400",children:P(w.profit)})]}),d.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[d.jsx("p",{className:"text-slate-300 text-sm",children:"Profit Margin"}),d.jsxs("p",{className:"text-xl font-bold mt-1 text-amber-400",children:[w.outcome>0?(w.profit/w.outcome*100).toFixed(1):0,"%"]})]}),d.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[d.jsx("p",{className:"text-slate-300 text-sm",children:"O'rtacha chek"}),d.jsx("p",{className:"text-xl font-bold mt-1",children:P(u().filter(S=>S.type==="chiqim").length>0?w.outcome/u().filter(S=>S.type==="chiqim").length:0)})]})]})]}),N.length>0&&d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4 lg:p-6",children:[d.jsx("h3",{className:"mb-4 text-lg font-bold text-slate-800",children:"Qarzdorlar ro'yxati"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-left text-slate-500 uppercase",children:"#"}),d.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-left text-slate-500 uppercase",children:"Mijoz"}),d.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-left text-slate-500 uppercase",children:"Qarz"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:N.map((S,C)=>d.jsxs("tr",{className:"hover:bg-slate-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:C+1}),d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-800",children:S.name}),d.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-rose-600",children:[S.debt.toLocaleString()," so'm"]})]},C))})]})})]})]})},Zhe=({currentUser:t,companyData:e})=>{const[n,r]=ee.useState([]),[i,a]=ee.useState(!0),[o,u]=ee.useState(!1),[f,h]=ee.useState(null),[x,y]=ee.useState({username:"",password:"",name:"",phone:"",role:"sotuvchi"}),[w,_]=ee.useState(!1),I=(t==null?void 0:t.role)==="admin",N=(e==null?void 0:e.maxUsers)||2;ee.useEffect(()=>{M()},[t==null?void 0:t.companyId]);const M=async()=>{if(t!=null&&t.companyId){try{const R=Yn(dt(ze,"users"),Bn("companyId","==",t.companyId)),D=(await un(R)).docs.map(L=>({id:L.id,...L.data()}));r(D)}catch(R){console.error("Foydalanuvchilar yuklanmadi:",R),we.error("Foydalanuvchilarni yuklashda xatolik!")}a(!1)}},P=async()=>{if(!x.username.trim()||!x.password||!x.name.trim()){we.error("Barcha majburiy maydonlarni to'ldiring!");return}if(n.length>=N){we.error(d.jsxs("div",{children:[d.jsx("strong",{children:"Tarif limiti!"}),d.jsxs("p",{children:["Siz ",N," ta foydalanuvchi qo'sha olasiz."]}),d.jsx("p",{children:"Tarifni yangilang!"})]}));return}if(x.password.length<4){we.error("Parol kamida 4 belgidan iborat bo'lishi kerak!");return}if(n.some(j=>j.username===x.username.trim().toLowerCase())){we.error("Bu login band!");return}_(!0);const R=we.loading("Foydalanuvchi qo'shilmoqda...");try{const j=await Oc(x.password),D={username:x.username.trim().toLowerCase(),password:j,name:x.name.trim(),phone:x.phone.trim(),role:x.role,companyId:t.companyId,createdAt:new Date,createdBy:t.id,isActive:!0,isDeleted:!1},L=await xa(dt(ze,"users"),D);r(E=>[...E,{id:L.id,...D}]),y({username:"",password:"",name:"",phone:"",role:"sotuvchi"}),u(!1),we.update(R,{render:" Foydalanuvchi qo'shildi!",type:"success",isLoading:!1,autoClose:3e3})}catch(j){console.error("Xato:",j),we.update(R,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}_(!1)},S=async()=>{var j;if(!f.name.trim()){we.error("Ismni kiriting!");return}_(!0);const R=we.loading("Saqlanmoqda...");try{const D={name:f.name.trim(),phone:((j=f.phone)==null?void 0:j.trim())||"",role:f.role};if(f.newPassword){if(f.newPassword.length<4){we.error("Yangi parol kamida 4 belgidan iborat bo'lishi kerak!"),_(!1),we.dismiss(R);return}D.password=await Oc(f.newPassword)}await kr(jt(ze,"users",f.id),D),r(L=>L.map(E=>E.id===f.id?{...E,...D}:E)),h(null),we.update(R,{render:" Foydalanuvchi yangilandi!",type:"success",isLoading:!1,autoClose:3e3})}catch(D){console.error("Xato:",D),we.update(R,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}_(!1)},C=async R=>{if(R===t.id){we.error("O'zingizni o'chira olmaysiz!");return}const j=n.find(D=>D.id===R);if((j==null?void 0:j.role)==="admin"&&n.filter(D=>D.role==="admin").length<=1){we.error("Oxirgi adminni o'chira olmaysiz!");return}if(window.confirm(`${j==null?void 0:j.name}ni o'chirmoqchimisiz?`)){const D=we.loading("O'chirilmoqda...");try{await Vf(jt(ze,"users",R)),r(L=>L.filter(E=>E.id!==R)),we.update(D,{render:" Foydalanuvchi o'chirildi!",type:"success",isLoading:!1,autoClose:3e3})}catch(L){console.error("Xato:",L),we.update(D,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}}},V=n.filter(R=>R.role==="admin"&&!R.isDeleted),k=n.filter(R=>R.role==="sotuvchi"&&!R.isDeleted);return i?d.jsx("div",{className:"p-4 lg:p-6 flex items-center justify-center min-h-[400px]",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-4 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),d.jsx("p",{className:"text-slate-500",children:"Yuklanmoqda..."})]})}):d.jsxs("div",{className:"p-4 lg:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Foydalanuvchilar"}),d.jsxs("p",{className:"text-slate-500 mt-1",children:[V.length," ta admin, ",k.length," ta sotuvchi"]})]}),I&&d.jsxs("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-2 px-6 py-3 text-white font-semibold bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-xl hover:from-emerald-600 hover:to-emerald-700 transition-all active:scale-95 shadow-lg shadow-emerald-500/25",children:[d.jsx(pv,{className:"w-5 h-5"}),"Yangi foydalanuvchi"]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[d.jsx("div",{className:"p-4 bg-gradient-to-br from-violet-500 to-violet-600 rounded-2xl text-white shadow-lg shadow-violet-500/25",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(ma,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-violet-100 text-sm",children:"Jami"}),d.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})}),d.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl text-white shadow-lg shadow-amber-500/25",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(io,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-amber-100 text-sm",children:"Adminlar"}),d.jsx("p",{className:"text-2xl font-bold",children:V.length})]})]})}),d.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl text-white shadow-lg shadow-emerald-500/25",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(ma,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-emerald-100 text-sm",children:"Sotuvchilar"}),d.jsx("p",{className:"text-2xl font-bold",children:k.length})]})]})}),d.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-600 to-slate-700 rounded-2xl text-white shadow-lg shadow-slate-500/25",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(uu,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-300 text-sm",children:"Bugun qo'shilgan"}),d.jsx("p",{className:"text-2xl font-bold",children:n.filter(R=>{var L;const j=(L=R.createdAt)!=null&&L.seconds?new Date(R.createdAt.seconds*1e3):new Date(R.createdAt),D=new Date;return j.toDateString()===D.toDateString()}).length})]})]})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:n.map(R=>{var D;const j=(D=R.createdAt)!=null&&D.seconds?new Date(R.createdAt.seconds*1e3):new Date(R.createdAt);return d.jsxs("div",{className:`bg-white rounded-2xl shadow-lg shadow-slate-200/50 p-6 border-2 transition-all hover:shadow-xl ${R.id===t.id?"border-emerald-400 ring-2 ring-emerald-100":"border-transparent"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${R.role==="admin"?"bg-gradient-to-br from-amber-400 to-amber-500":"bg-gradient-to-br from-emerald-400 to-emerald-500"}`,children:R.role==="admin"?d.jsx(io,{className:"w-8 h-8 text-white"}):d.jsx(ma,{className:"w-8 h-8 text-white"})}),I&&R.id!==t.id&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>h({...R,newPassword:""}),className:"p-2 rounded-xl text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 transition-colors",title:"Tahrirlash",children:d.jsx(YE,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>C(R.id),className:"p-2 rounded-xl text-slate-400 hover:text-rose-600 hover:bg-rose-50 transition-colors",title:"O'chirish",children:d.jsx(vo,{className:"w-5 h-5"})})]})]}),d.jsx("h3",{className:"font-bold text-xl text-slate-800 mb-1",children:R.name}),d.jsxs("p",{className:"text-slate-500 font-mono text-sm mb-4",children:["@",R.username]}),R.phone&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-2",children:[d.jsx(zf,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{children:R.phone})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[d.jsx("span",{className:`px-3 py-1.5 rounded-xl text-xs font-semibold ${R.role==="admin"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:R.role==="admin"?" Admin":" Sotuvchi"}),R.id===t.id&&d.jsx("span",{className:"px-3 py-1.5 rounded-xl text-xs font-semibold bg-violet-100 text-violet-700",children:" Siz"})]}),d.jsxs("p",{className:"text-xs text-slate-400 mt-4 flex items-center gap-1",children:[d.jsx(uu,{className:"w-3 h-3"}),"Qo'shilgan: ",j.toLocaleDateString("uz-UZ")]})]},R.id)})}),o&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 p-6",children:[d.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(pv,{className:"w-6 h-6"}),"Yangi foydalanuvchi"]}),d.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Ma'lumotlarni to'ldiring"})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"To'liq ism *"}),d.jsx("input",{type:"text",placeholder:"Ism Familiya",value:x.name,onChange:R=>y({...x,name:R.target.value}),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Login *"}),d.jsx("input",{type:"text",placeholder:"username",value:x.username,onChange:R=>y({...x,username:R.target.value.toLowerCase()}),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all font-mono"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Parol *"}),d.jsx("input",{type:"password",placeholder:"Kamida 6 ta belgi",value:x.password,onChange:R=>y({...x,password:R.target.value}),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Telefon raqam"}),d.jsx("input",{type:"tel",placeholder:"+998 90 123 45 67",value:x.phone,onChange:R=>y({...x,phone:R.target.value}),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Rol"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:()=>y({...x,role:"sotuvchi"}),className:`p-4 rounded-xl border-2 transition-all ${x.role==="sotuvchi"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-200 hover:border-slate-300"}`,children:[d.jsx(ma,{className:"w-6 h-6 mx-auto mb-2"}),d.jsx("p",{className:"font-semibold",children:"Sotuvchi"}),d.jsx("p",{className:"text-xs text-slate-500",children:"Asosiy funksiyalar"})]}),d.jsxs("button",{type:"button",onClick:()=>y({...x,role:"admin"}),className:`p-4 rounded-xl border-2 transition-all ${x.role==="admin"?"border-amber-500 bg-amber-50 text-amber-700":"border-slate-200 hover:border-slate-300"}`,children:[d.jsx(io,{className:"w-6 h-6 mx-auto mb-2"}),d.jsx("p",{className:"font-semibold",children:"Admin"}),d.jsx("p",{className:"text-xs text-slate-500",children:"To'liq huquqlar"})]})]})]}),d.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(cu,{className:"w-5 h-5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold mb-1",children:"Eslatma:"}),d.jsx("p",{children:"Admin barcha ma'lumotlarni, shu jumladan tannarx va foydani ko'rish huquqiga ega."})]})]})})]}),d.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[d.jsx("button",{onClick:()=>{u(!1),y({username:"",password:"",name:"",phone:"",role:"sotuvchi"})},className:"flex-1 bg-slate-100 text-slate-700 rounded-xl px-4 py-3 hover:bg-slate-200 font-semibold transition-colors active:scale-[0.98]",children:"Bekor qilish"}),d.jsx("button",{onClick:P,disabled:w,className:"flex-1 bg-emerald-600 text-white rounded-xl px-4 py-3 hover:bg-emerald-700 font-semibold transition-colors disabled:opacity-50 active:scale-[0.98]",children:w?"Saqlanmoqda...":"Qo'shish"})]})]})}),f&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-violet-700 p-6",children:[d.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(YE,{className:"w-6 h-6"}),"Foydalanuvchini tahrirlash"]}),d.jsxs("p",{className:"text-violet-100 text-sm mt-1",children:["@",f.username]})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"To'liq ism *"}),d.jsx("input",{type:"text",value:f.name,onChange:R=>h({...f,name:R.target.value}),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-violet-500 focus:border-violet-500 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Telefon raqam"}),d.jsx("input",{type:"tel",value:f.phone||"",onChange:R=>h({...f,phone:R.target.value}),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-violet-500 focus:border-violet-500 transition-all"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Yangi parol ",d.jsx("span",{className:"text-slate-400 font-normal",children:"(ixtiyoriy)"})]}),d.jsx("input",{type:"password",placeholder:"O'zgartirmasangiz bo'sh qoldiring",value:f.newPassword,onChange:R=>h({...f,newPassword:R.target.value}),className:"w-full border-2 border-slate-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-violet-500 focus:border-violet-500 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Rol"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:()=>h({...f,role:"sotuvchi"}),className:`p-4 rounded-xl border-2 transition-all ${f.role==="sotuvchi"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-200 hover:border-slate-300"}`,children:[d.jsx(ma,{className:"w-6 h-6 mx-auto mb-2"}),d.jsx("p",{className:"font-semibold",children:"Sotuvchi"})]}),d.jsxs("button",{type:"button",onClick:()=>h({...f,role:"admin"}),className:`p-4 rounded-xl border-2 transition-all ${f.role==="admin"?"border-amber-500 bg-amber-50 text-amber-700":"border-slate-200 hover:border-slate-300"}`,children:[d.jsx(io,{className:"w-6 h-6 mx-auto mb-2"}),d.jsx("p",{className:"font-semibold",children:"Admin"})]})]})]})]}),d.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[d.jsx("button",{onClick:()=>h(null),className:"flex-1 bg-slate-100 text-slate-700 rounded-xl px-4 py-3 hover:bg-slate-200 font-semibold transition-colors active:scale-[0.98]",children:"Bekor qilish"}),d.jsx("button",{onClick:S,disabled:w,className:"flex-1 bg-violet-600 text-white rounded-xl px-4 py-3 hover:bg-violet-700 font-semibold transition-colors disabled:opacity-50 active:scale-[0.98]",children:w?"Saqlanmoqda...":"Saqlash"})]})]})})]})},Jhe=({transactions:t,isAdmin:e,companyData:n})=>{const[r,i]=ee.useState(""),[a,o]=ee.useState("all"),[u,f]=ee.useState({start:"",end:""}),[h,x]=ee.useState(null),[y,w]=ee.useState(!1),_=ee.useRef(null),I=ee.useMemo(()=>t.filter(k=>k.type==="chiqim").sort((k,R)=>{const j=k.date instanceof Date?k.date:new Date(k.date);return(R.date instanceof Date?R.date:new Date(R.date))-j}),[t]),N=ee.useMemo(()=>{const k={};return I.forEach(R=>{const j=R.saleId||R.id;k[j]||(k[j]={saleId:j,date:R.date,customerName:R.customerName,customerPhone:R.customerPhone,paymentType:R.paymentType,items:[],totalAmount:0,paidAmount:0,debt:0,discount:R.discount||0}),k[j].items.push(R),k[j].totalAmount+=R.totalAmount||R.quantity*R.price,k[j].paidAmount+=R.paidAmount||0,k[j].debt+=R.debt||0}),Object.values(k)},[I]),M=ee.useMemo(()=>N.filter(k=>{var L,E;const R=!r||((L=k.customerName)==null?void 0:L.toLowerCase().includes(r.toLowerCase()))||((E=k.saleId)==null?void 0:E.toLowerCase().includes(r.toLowerCase()))||k.items.some(O=>{var $;return($=O.productName)==null?void 0:$.toLowerCase().includes(r.toLowerCase())}),j=a==="all"||k.paymentType===a;let D=!0;if(u.start){const O=k.date instanceof Date?k.date:new Date(k.date),$=new Date(u.start);$.setHours(0,0,0,0),D=O>=$}if(u.end&&D){const O=k.date instanceof Date?k.date:new Date(k.date),$=new Date(u.end);$.setHours(23,59,59,999),D=O<=$}return R&&j&&D}),[N,r,a,u]),P=ee.useMemo(()=>{const k=M.reduce((L,E)=>L+E.totalAmount,0),R=M.filter(L=>L.paymentType==="naqd").reduce((L,E)=>L+E.totalAmount,0),j=M.filter(L=>L.paymentType==="karta").reduce((L,E)=>L+E.totalAmount,0),D=M.reduce((L,E)=>L+E.debt,0);return{total:k,cash:R,card:j,debt:D,count:M.length}},[M]),S=()=>{var j;if(!h)return;const k=window.open("","_blank"),R=h.date instanceof Date?h.date:new Date(h.date);k.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Chek - ${h.saleId}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body { 
            font-family: 'Courier New', monospace; 
            width: 80mm; 
            padding: 5mm;
            font-size: 12px;
          }
          .header { text-align: center; margin-bottom: 10px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
          .company-name { font-size: 18px; font-weight: bold; }
          .receipt-info { margin: 10px 0; }
          .items { border-top: 1px dashed #000; border-bottom: 1px dashed #000; padding: 10px 0; margin: 10px 0; }
          .item { display: flex; justify-content: space-between; margin: 5px 0; }
          .item-name { max-width: 60%; }
          .totals { margin-top: 10px; }
          .total-row { display: flex; justify-content: space-between; margin: 3px 0; }
          .grand-total { font-size: 16px; font-weight: bold; border-top: 1px solid #000; padding-top: 5px; margin-top: 5px; }
          .footer { text-align: center; margin-top: 15px; font-size: 10px; border-top: 1px dashed #000; padding-top: 10px; }
          @media print {
            body { width: 80mm; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company-name">${(n==null?void 0:n.name)||"Do'kon"}</div>
          ${n!=null&&n.phone?`<div>Tel: ${n.phone}</div>`:""}
          ${n!=null&&n.address?`<div>${n.address}</div>`:""}
        </div>
        
        <div class="receipt-info">
          <div>Chek : ${h.saleId}</div>
          <div>Sana: ${R.toLocaleDateString("uz-UZ")} ${R.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})}</div>
          <div>Kassir: ${((j=h.items[0])==null?void 0:j.createdBy)||"-"}</div>
          ${h.customerName&&h.customerName!=="Naqd mijoz"?`<div>Mijoz: ${h.customerName}</div>`:""}
        </div>
        
        <div class="items">
          ${h.items.map((D,L)=>`
            <div class="item">
              <span class="item-name">${L+1}. ${D.productName}</span>
            </div>
            <div class="item" style="padding-left: 15px;">
              <span>${D.quantity} x ${(D.sellingPrice||D.price||0).toLocaleString()}</span>
              <span>${(D.totalAmount||D.quantity*D.price||0).toLocaleString()}</span>
            </div>
          `).join("")}
        </div>
        
        <div class="totals">
          <div class="total-row">
            <span>Jami:</span>
            <span>${h.totalAmount.toLocaleString()} so'm</span>
          </div>
          ${h.discount>0?`
            <div class="total-row">
              <span>Chegirma:</span>
              <span>-${h.discount.toLocaleString()} so'm</span>
            </div>
          `:""}
          <div class="total-row">
            <span>To'lov turi:</span>
            <span>${h.paymentType==="naqd"?"Naqd":h.paymentType==="karta"?"Karta":"Qarz"}</span>
          </div>
          ${h.debt>0?`
            <div class="total-row" style="color: red;">
              <span>Qarz:</span>
              <span>${h.debt.toLocaleString()} so'm</span>
            </div>
          `:""}
          <div class="total-row grand-total">
            <span>JAMI:</span>
            <span>${h.totalAmount.toLocaleString()} so'm</span>
          </div>
        </div>
        
        <div class="footer">
          <div>Xaridingiz uchun rahmat!</div>
          <div>Yana keling!</div>
        </div>
        
        <script>
          window.onload = function() {
            window.print();
            setTimeout(function() { window.close(); }, 500);
          };
        <\/script>
      </body>
      </html>
    `),k.document.close()},C=k=>k>=1e6?`${(k/1e6).toFixed(1)} mln`:k>=1e3?`${(k/1e3).toFixed(0)} ming`:(k==null?void 0:k.toLocaleString())||"0",V=k=>{switch(k){case"naqd":return d.jsx(dv,{className:"w-4 h-4 text-emerald-500"});case"karta":return d.jsx(ro,{className:"w-4 h-4 text-blue-500"});case"qarz":return d.jsx(Oi,{className:"w-4 h-4 text-rose-500"});default:return d.jsx(To,{className:"w-4 h-4 text-slate-400"})}};return d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sotuvlar tarixi"}),d.jsx("p",{className:"text-slate-500",children:"Barcha sotuvlar ro'yxati"})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"p-2 bg-emerald-100 rounded-xl",children:d.jsx(To,{className:"w-5 h-5 text-emerald-600"})}),d.jsxs("span",{className:"text-xs text-slate-500",children:[P.count," ta"]})]}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Jami sotish"}),d.jsx("p",{className:"text-xl font-bold text-slate-800",children:C(P.total)})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("div",{className:"p-2 bg-green-100 rounded-xl",children:d.jsx(dv,{className:"w-5 h-5 text-green-600"})})}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Naqd"}),d.jsx("p",{className:"text-xl font-bold text-slate-800",children:C(P.cash)})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:d.jsx(ro,{className:"w-5 h-5 text-blue-600"})})}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Karta"}),d.jsx("p",{className:"text-xl font-bold text-slate-800",children:C(P.card)})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("div",{className:"p-2 bg-rose-100 rounded-xl",children:d.jsx(Oi,{className:"w-5 h-5 text-rose-600"})})}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Qarzga"}),d.jsx("p",{className:"text-xl font-bold text-rose-600",children:C(P.debt)})]})]}),d.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-slate-100",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(k1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Mijoz, mahsulot yoki chek ID qidirish...",value:r,onChange:k=>i(k.target.value),className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),d.jsxs("select",{value:a,onChange:k=>o(k.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-white",children:[d.jsx("option",{value:"all",children:"Barchasi"}),d.jsx("option",{value:"naqd",children:"Naqd"}),d.jsx("option",{value:"karta",children:"Karta"}),d.jsx("option",{value:"qarz",children:"Qarzga"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"date",value:u.start,onChange:k=>f(R=>({...R,start:k.target.value})),className:"px-3 py-2 border border-slate-200 rounded-xl text-sm"}),d.jsx("input",{type:"date",value:u.end,onChange:k=>f(R=>({...R,end:k.target.value})),className:"px-3 py-2 border border-slate-200 rounded-xl text-sm"})]})]})}),d.jsx("div",{className:"space-y-3",children:M.length===0?d.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-slate-100",children:[d.jsx(mv,{className:"w-16 h-16 mx-auto text-slate-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Sotuv topilmadi"}),d.jsx("p",{className:"text-slate-500",children:"Filtrlarni o'zgartiring"})]}):M.map(k=>{var j;const R=k.date instanceof Date?k.date:new Date(k.date);return d.jsx("div",{className:"bg-white rounded-2xl p-4 lg:p-6 shadow-sm border border-slate-100 hover:shadow-md transition-all",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${k.paymentType==="naqd"?"bg-emerald-100":k.paymentType==="karta"?"bg-blue-100":"bg-rose-100"}`,children:V(k.paymentType)}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsxs("p",{className:"font-bold text-slate-800",children:["#",((j=k.saleId)==null?void 0:j.slice(-8))||"N/A"]}),k.debt>0&&d.jsx("span",{className:"px-2 py-0.5 bg-rose-100 text-rose-600 rounded-full text-xs font-semibold",children:"Qarzga"})]}),d.jsxs("p",{className:"text-slate-500 text-sm flex items-center gap-1",children:[d.jsx(uu,{className:"w-3 h-3"}),R.toLocaleDateString("uz-UZ")," ",R.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})]}),k.customerName&&k.customerName!=="Naqd mijoz"&&d.jsxs("p",{className:"text-slate-600 text-sm flex items-center gap-1 mt-1",children:[d.jsx(ma,{className:"w-3 h-3"}),k.customerName,k.customerPhone&&d.jsxs("span",{className:"text-slate-400",children:[" ",k.customerPhone]})]})]})]}),d.jsxs("div",{className:"flex-1 lg:text-center",children:[d.jsxs("p",{className:"text-slate-600 text-sm",children:[k.items.map(D=>D.productName).slice(0,2).join(", "),k.items.length>2&&` +${k.items.length-2} ta`]}),d.jsxs("p",{className:"text-slate-400 text-xs",children:[k.items.length," ta mahsulot"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xl font-bold text-slate-800",children:k.totalAmount.toLocaleString()}),k.debt>0&&d.jsxs("p",{className:"text-rose-500 text-sm",children:["Qarz: ",k.debt.toLocaleString()]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>{x(k),w(!0)},className:"p-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition-colors",title:"Ko'rish",children:d.jsx(Rl,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>{x(k),setTimeout(S,100)},className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors",title:"Chop etish",children:d.jsx(QE,{className:"w-5 h-5"})})]})]})]})},k.saleId)})}),y&&h&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[80vh] overflow-y-auto",children:[d.jsx("div",{className:"p-6 border-b border-slate-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Chek"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:S,className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200",children:d.jsx(QE,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>{w(!1),x(null)},className:"p-2 hover:bg-slate-100 rounded-lg",children:d.jsx(Co,{className:"w-5 h-5"})})]})]})}),d.jsxs("div",{ref:_,className:"p-6 font-mono text-sm",children:[d.jsxs("div",{className:"text-center border-b border-dashed border-slate-300 pb-4 mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:(n==null?void 0:n.name)||"Do'kon"}),(n==null?void 0:n.phone)&&d.jsxs("p",{className:"text-slate-600",children:["Tel: ",n.phone]}),(n==null?void 0:n.address)&&d.jsx("p",{className:"text-slate-500 text-xs",children:n.address})]}),d.jsxs("div",{className:"space-y-1 mb-4",children:[d.jsxs("p",{children:["Chek : ",h.saleId]}),d.jsxs("p",{children:["Sana: ",(h.date instanceof Date?h.date:new Date(h.date)).toLocaleString("uz-UZ")]}),h.customerName&&h.customerName!=="Naqd mijoz"&&d.jsxs("p",{children:["Mijoz: ",h.customerName]})]}),d.jsx("div",{className:"border-t border-b border-dashed border-slate-300 py-4 mb-4 space-y-3",children:h.items.map((k,R)=>d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium",children:[R+1,". ",k.productName]}),d.jsxs("div",{className:"flex justify-between text-slate-600 pl-4",children:[d.jsxs("span",{children:[k.quantity," x ",(k.sellingPrice||k.price||0).toLocaleString()]}),d.jsx("span",{children:(k.totalAmount||k.quantity*k.price||0).toLocaleString()})]})]},R))}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Jami:"}),d.jsxs("span",{children:[h.totalAmount.toLocaleString()," so'm"]})]}),h.discount>0&&d.jsxs("div",{className:"flex justify-between text-emerald-600",children:[d.jsx("span",{children:"Chegirma:"}),d.jsxs("span",{children:["-",h.discount.toLocaleString()," so'm"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"To'lov turi:"}),d.jsx("span",{children:h.paymentType==="naqd"?"Naqd":h.paymentType==="karta"?"Karta":"Qarz"})]}),h.debt>0&&d.jsxs("div",{className:"flex justify-between text-rose-600 font-bold",children:[d.jsx("span",{children:"Qarz:"}),d.jsxs("span",{children:[h.debt.toLocaleString()," so'm"]})]}),d.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-slate-300 pt-2 mt-2",children:[d.jsx("span",{children:"JAMI:"}),d.jsxs("span",{children:[h.totalAmount.toLocaleString()," so'm"]})]})]}),d.jsxs("div",{className:"text-center text-slate-500 text-xs mt-6 border-t border-dashed border-slate-300 pt-4",children:[d.jsx("p",{children:"Xaridingiz uchun rahmat!"}),d.jsx("p",{children:"Yana keling!"})]})]})]})})]})},mN={trial:{maxUsers:2,maxProducts:50,name:"Sinov (Trial)",price:0,duration:14},starter:{maxUsers:5,maxProducts:500,name:"Boshlang'ich",price:99e3},basic:{maxUsers:10,maxProducts:2e3,name:"Asosiy",price:149e3},pro:{maxUsers:999,maxProducts:99999,name:"Professional",price:249e3}},e0e=({currentUser:t,onPlanChange:e})=>{var ye,pe,se,Te;const[n,r]=ee.useState(null),[i,a]=ee.useState(!0),[o,u]=ee.useState(!1),[f,h]=ee.useState("general"),[x,y]=ee.useState(!1),[w,_]=ee.useState(null),[I,N]=ee.useState(null),[M,P]=ee.useState(1),[S,C]=ee.useState(!1),[V,k]=ee.useState(null),R={cardNumber:"4073 4200 7540 1111",cardHolder:"ABDIQAYUMOV DIYORBEK",phone:"+998 90 377 73 37",telegram:"@diyorbek7337"},[j,D]=ee.useState({name:"",phone:"",email:"",address:"",website:""}),L=[{months:1,label:"1 oy",discount:0},{months:3,label:"3 oy",discount:5},{months:6,label:"6 oy",discount:10},{months:12,label:"1 yil",discount:15}];ee.useEffect(()=>{E(),O()},[t==null?void 0:t.companyId]);const E=async()=>{if(t!=null&&t.companyId){try{const oe=await Gp(jt(ze,"companies",t.companyId));if(oe.exists()){const ue=oe.data();r(ue),D({name:ue.name||"",phone:ue.phone||"",email:ue.email||"",address:ue.address||"",website:ue.website||""})}}catch(oe){console.error("Kompaniya ma'lumotlarini yuklashda xato:",oe),we.error("Ma'lumotlar yuklanmadi!")}a(!1)}},O=async()=>{if(t!=null&&t.companyId)try{const oe=Yn(dt(ze,"paymentRequests"),Bn("companyId","==",t.companyId),Bn("status","==","pending")),ue=await un(oe);ue.empty||N({id:ue.docs[0].id,...ue.docs[0].data()})}catch(oe){console.error("So'rov yuklanmadi:",oe)}},$=async()=>{if(!j.name.trim()){we.error("Kompaniya nomini kiriting!");return}u(!0);try{await kr(jt(ze,"companies",t.companyId),{name:j.name.trim(),phone:j.phone.trim(),email:j.email.trim(),address:j.address.trim(),website:j.website.trim(),updatedAt:new Date}),r(oe=>({...oe,...j})),we.success("Ma'lumotlar saqlandi!")}catch(oe){console.error("Saqlashda xato:",oe),we.error("Xatolik yuz berdi!")}u(!1)},F=oe=>{const ue=(n==null?void 0:n.plan)||"trial";if(oe.id===ue&&ue!=="trial"){we.info("Bu sizning joriy tarifingiz");return}if(I){we.warning("Sizda kutilayotgan to'lov so'rovi mavjud!");return}_(oe),P(1),y(!0)},H=async()=>{if(!w)return;u(!0);const oe=we.loading("So'rov yuborilmoqda...");try{const ue=L.find(he=>he.months===M),Q=w.price*M,fe=Q*(ue.discount/100),Ee=Q-fe,ie={companyId:t.companyId,companyName:(n==null?void 0:n.name)||"Noma'lum",requestedPlan:w.id,planName:w.name,duration:M,durationLabel:ue.label,basePrice:Q,discount:fe,discountPercent:ue.discount,totalAmount:Ee,status:"pending",requestedBy:t.name||t.username,requestedAt:new Date,note:""};await xa(dt(ze,"paymentRequests"),ie),N(ie),k(ie),we.update(oe,{render:" So'rov yuborildi!",type:"success",isLoading:!1,autoClose:2e3}),y(!1),_(null),C(!0)}catch(ue){console.error("So'rov yuborishda xato:",ue),we.update(oe,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}u(!1)},z=()=>{if((n==null?void 0:n.plan)!=="trial"||!(n!=null&&n.trialEndsAt))return!1;const oe=n.trialEndsAt.seconds?new Date(n.trialEndsAt.seconds*1e3):new Date(n.trialEndsAt);return new Date>oe},W=()=>{if(!(n!=null&&n.subscriptionEnd)&&!(n!=null&&n.trialEndsAt))return null;const oe=n.subscriptionEnd?n.subscriptionEnd.seconds?new Date(n.subscriptionEnd.seconds*1e3):new Date(n.subscriptionEnd):n.trialEndsAt.seconds?new Date(n.trialEndsAt.seconds*1e3):new Date(n.trialEndsAt);return Math.ceil((oe-new Date)/(1e3*60*60*24))},Y=[{id:"starter",name:"Boshlang'ich",price:99e3,icon:gO,color:"blue",features:[{text:"5 ta foydalanuvchi",included:!0},{text:"500 ta mahsulot",included:!0},{text:"To'liq statistika",included:!0},{text:"Barcode skanerlash",included:!0},{text:"Telegram xabarnoma",included:!1},{text:"API kirish",included:!1}]},{id:"basic",name:"Asosiy",price:149e3,icon:uO,color:"emerald",popular:!0,features:[{text:"10 ta foydalanuvchi",included:!0},{text:"2000 ta mahsulot",included:!0},{text:"To'liq statistika",included:!0},{text:"Barcode skanerlash",included:!0},{text:"Telegram xabarnoma",included:!0},{text:"API kirish",included:!1}]},{id:"pro",name:"Professional",price:249e3,icon:dB,color:"violet",features:[{text:"Cheksiz foydalanuvchi",included:!0},{text:"Cheksiz mahsulot",included:!0},{text:"To'liq statistika",included:!0},{text:"Barcode skanerlash",included:!0},{text:"Telegram xabarnoma",included:!0},{text:"API kirish",included:!0}]}],re=(n==null?void 0:n.plan)||"trial",ne=mN[re]||mN.trial,ce=W(),ve=z();return i?d.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 mx-auto mb-4 border-4 rounded-full border-emerald-500 border-t-transparent animate-spin"}),d.jsx("p",{className:"text-slate-600",children:"Yuklanmoqda..."})]})}):d.jsxs("div",{className:"p-4 lg:p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Kompaniya sozlamalari"}),d.jsx("p",{className:"mt-1 text-slate-500",children:"Kompaniya ma'lumotlari va tarif rejasi"})]}),ve&&d.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 border bg-rose-50 border-rose-200 rounded-xl",children:[d.jsx(cu,{className:"w-6 h-6 text-rose-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-rose-800",children:"Sinov muddati tugadi!"}),d.jsx("p",{className:"text-sm text-rose-600",children:"Davom etish uchun tarif tanlang va to'lov qiling."})]})]}),I&&d.jsx("div",{className:"p-4 mb-6 border bg-amber-50 border-amber-200 rounded-xl",children:d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[d.jsx(Oi,{className:"flex-shrink-0 w-6 h-6 text-amber-500"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-semibold text-amber-800",children:"To'lov so'rovi kutilmoqda"}),d.jsxs("p",{className:"text-sm text-amber-600",children:[I.planName," - ",I.durationLabel," - ",(ye=I.totalAmount)==null?void 0:ye.toLocaleString()," so'm"]}),d.jsx("p",{className:"mt-1 text-xs text-amber-500",children:"Admin tasdiqlaganidan so'ng tarif faollashadi"})]}),d.jsxs("button",{onClick:()=>{k(I),C(!0)},className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white bg-amber-500 rounded-xl hover:bg-amber-600",children:[d.jsx(ro,{className:"w-4 h-4"}),"To'lov ma'lumotlari"]})]})}),d.jsx("div",{className:"flex gap-2 pb-2 mb-6 overflow-x-auto",children:[{id:"general",label:"Umumiy",icon:Uf},{id:"subscription",label:"Tarif",icon:ro},{id:"stats",label:"Statistika",icon:j1}].map(oe=>d.jsxs("button",{onClick:()=>h(oe.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all ${f===oe.id?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/25":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[d.jsx(oe.icon,{className:"w-5 h-5"}),oe.label]},oe.id))}),f==="general"&&d.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-2xl shadow-slate-200/50",children:[d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"block mb-2 text-sm font-semibold text-slate-700",children:[d.jsx(Uf,{className:"inline w-4 h-4 mr-2"}),"Kompaniya nomi *"]}),d.jsx("input",{type:"text",value:j.name,onChange:oe=>D({...j,name:oe.target.value}),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Kompaniya nomi"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block mb-2 text-sm font-semibold text-slate-700",children:[d.jsx(zf,{className:"inline w-4 h-4 mr-2"}),"Telefon"]}),d.jsx("input",{type:"tel",value:j.phone,onChange:oe=>D({...j,phone:oe.target.value}),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"+998 90 123 45 67"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block mb-2 text-sm font-semibold text-slate-700",children:[d.jsx(iB,{className:"inline w-4 h-4 mr-2"}),"Email"]}),d.jsx("input",{type:"email",value:j.email,onChange:oe=>D({...j,email:oe.target.value}),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"info@company.uz"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("label",{className:"block mb-2 text-sm font-semibold text-slate-700",children:[d.jsx(aB,{className:"inline w-4 h-4 mr-2"}),"Manzil"]}),d.jsx("input",{type:"text",value:j.address,onChange:oe=>D({...j,address:oe.target.value}),className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Toshkent sh., Chilonzor tumani"})]})]}),d.jsxs("button",{onClick:$,disabled:o,className:"flex items-center gap-2 px-6 py-3 mt-6 font-semibold text-white transition-all bg-emerald-600 rounded-xl hover:bg-emerald-700 disabled:opacity-50",children:[d.jsx(pO,{className:"w-5 h-5"}),o?"Saqlanmoqda...":"Saqlash"]})]}),f==="subscription"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:`rounded-2xl p-6 text-white ${re==="trial"?ve?"bg-gradient-to-r from-rose-500 to-rose-600":"bg-gradient-to-r from-amber-500 to-amber-600":"bg-gradient-to-r from-emerald-500 to-emerald-600"}`,children:d.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-white/80",children:"Joriy tarif"}),d.jsx("h3",{className:"mt-1 text-2xl font-bold",children:ne.name}),d.jsxs("p",{className:"mt-2 text-white/80",children:[ne.maxUsers," foydalanuvchi, ",ne.maxProducts," mahsulot"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-white/80",children:re==="trial"?"Sinov tugashi":"Amal qilish muddati"}),d.jsx("p",{className:"mt-1 text-xl font-bold",children:ce!==null?ce>0?`${ce} kun qoldi`:"Muddati tugagan":"Belgilanmagan"})]})]})}),d.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Mavjud tariflar"}),d.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Y.map(oe=>{const ue=oe.icon,Q=re===oe.id;return d.jsxs("div",{className:`relative bg-white rounded-2xl shadow-lg shadow-slate-200/50 p-6 border-2 transition-all ${Q?"border-emerald-500 ring-2 ring-emerald-100":"border-transparent hover:border-slate-200"}`,children:[oe.popular&&d.jsx("div",{className:"absolute px-4 py-1 text-xs font-bold text-white -translate-x-1/2 rounded-full -top-3 left-1/2 bg-amber-500",children:"Mashhur"}),d.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 ${oe.color==="blue"?"bg-blue-100 text-blue-600":oe.color==="emerald"?"bg-emerald-100 text-emerald-600":"bg-violet-100 text-violet-600"}`,children:d.jsx(ue,{className:"w-6 h-6"})}),d.jsx("h4",{className:"text-xl font-bold text-slate-800",children:oe.name}),d.jsxs("div",{className:"mt-2 mb-4",children:[d.jsx("span",{className:"text-3xl font-bold text-slate-800",children:oe.price.toLocaleString()}),d.jsx("span",{className:"text-slate-500",children:" so'm/oy"})]}),d.jsx("ul",{className:"mb-6 space-y-3",children:oe.features.map((fe,Ee)=>d.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[fe.included?d.jsx(Ic,{className:"flex-shrink-0 w-5 h-5 text-emerald-500"}):d.jsx("div",{className:"flex-shrink-0 w-5 h-5 border-2 rounded-full border-slate-300"}),d.jsx("span",{className:fe.included?"text-slate-700":"text-slate-400",children:fe.text})]},Ee))}),d.jsx("button",{onClick:()=>F(oe),disabled:Q||!!I,className:`w-full py-3 rounded-xl font-semibold transition-all active:scale-[0.98] ${Q||I?"bg-slate-100 text-slate-400 cursor-not-allowed":oe.color==="emerald"?"bg-emerald-600 text-white hover:bg-emerald-700":oe.color==="violet"?"bg-violet-600 text-white hover:bg-violet-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:Q?"Joriy tarif":I?"So'rov yuborilgan":"Tanlash"})]},oe.id)})}),d.jsxs("div",{className:"p-6 border bg-slate-50 rounded-2xl border-slate-200",children:[d.jsx("h4",{className:"mb-3 font-bold text-slate-800",children:" To'lov usullari"}),d.jsxs("div",{className:"grid gap-4 text-sm md:grid-cols-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-lg",children:d.jsx("span",{className:"font-bold text-blue-600",children:"P"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:"Payme"}),d.jsx("p",{className:"text-slate-500",children:"Onlayn to'lov"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-cyan-100",children:d.jsx("span",{className:"font-bold text-cyan-600",children:"C"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:"Click"}),d.jsx("p",{className:"text-slate-500",children:"Onlayn to'lov"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-emerald-100",children:d.jsx("span",{className:"font-bold text-emerald-600",children:""})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:"Bank o'tkazmasi"}),d.jsx("p",{className:"text-slate-500",children:"Hisob raqamga"})]})]})]}),d.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"To'lovni amalga oshirgandan so'ng, admin tomonidan tasdiqlanadi va tarif faollashadi."})]})]}),f==="stats"&&d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx("div",{className:"p-6 bg-white shadow-lg rounded-2xl shadow-slate-200/50",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl",children:d.jsx(Ll,{className:"w-6 h-6 text-emerald-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Foydalanuvchilar"}),d.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[(n==null?void 0:n.currentUsers)||1," / ",ne.maxUsers]})]})]})}),d.jsx("div",{className:"p-6 bg-white shadow-lg rounded-2xl shadow-slate-200/50",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:d.jsx(Hi,{className:"w-6 h-6 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Mahsulotlar"}),d.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:[(n==null?void 0:n.currentProducts)||0," / ",ne.maxProducts]})]})]})}),d.jsx("div",{className:"p-6 bg-white shadow-lg rounded-2xl shadow-slate-200/50",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-violet-100 rounded-xl",children:d.jsx(uu,{className:"w-6 h-6 text-violet-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500",children:"A'zo bo'lgan"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n!=null&&n.createdAt?new Date(n.createdAt.seconds?n.createdAt.seconds*1e3:n.createdAt).toLocaleDateString("uz-UZ"):"-"})]})]})}),d.jsx("div",{className:"p-6 bg-white shadow-lg rounded-2xl shadow-slate-200/50",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:d.jsx(ro,{className:"w-6 h-6 text-amber-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Tarif"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:ne.name})]})]})})]}),x&&w&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"To'lov so'rovi"}),d.jsx("button",{onClick:()=>{y(!1),_(null)},className:"p-2 rounded-full hover:bg-slate-100",children:d.jsx(Co,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-4 mb-6 bg-slate-50 rounded-xl",children:d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx(w.icon,{className:`w-8 h-8 ${w.color==="blue"?"text-blue-600":w.color==="emerald"?"text-emerald-600":"text-violet-600"}`}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold",children:w.name}),d.jsxs("p",{className:"text-slate-500",children:[w.price.toLocaleString()," so'm/oy"]})]})]})}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block mb-3 text-sm font-semibold text-slate-700",children:"Muddat tanlang:"}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:L.map(oe=>{const ue=w.price*oe.months,Q=ue*(oe.discount/100),fe=ue-Q;return d.jsxs("button",{onClick:()=>P(oe.months),className:`p-4 rounded-xl border-2 text-left transition-all ${M===oe.months?"border-emerald-500 bg-emerald-50":"border-slate-200 hover:border-slate-300"}`,children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx("span",{className:"font-bold",children:oe.label}),oe.discount>0&&d.jsxs("span",{className:"px-2 py-0.5 bg-rose-100 text-rose-600 text-xs font-bold rounded-full",children:["-",oe.discount,"%"]})]}),d.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-800",children:[fe.toLocaleString()," so'm"]}),oe.discount>0&&d.jsxs("p",{className:"text-xs line-through text-slate-400",children:[ue.toLocaleString()," so'm"]})]},oe.months)})})]}),d.jsxs("div",{className:"p-4 mb-6 border bg-emerald-50 border-emerald-200 rounded-xl",children:[d.jsx("h4",{className:"mb-2 font-bold text-emerald-800",children:"Xulosa"}),(()=>{const oe=L.find(Ee=>Ee.months===M),ue=w.price*M,Q=ue*(oe.discount/100),fe=ue-Q;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[d.jsx("span",{className:"text-slate-600",children:"Tarif:"}),d.jsx("span",{className:"font-semibold",children:w.name})]}),d.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[d.jsx("span",{className:"text-slate-600",children:"Muddat:"}),d.jsx("span",{className:"font-semibold",children:oe.label})]}),oe.discount>0&&d.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[d.jsx("span",{className:"text-slate-600",children:"Chegirma:"}),d.jsxs("span",{className:"font-semibold text-rose-600",children:["-",Q.toLocaleString()," so'm"]})]}),d.jsxs("div",{className:"flex justify-between pt-2 mt-2 text-lg font-bold border-t border-emerald-200",children:[d.jsx("span",{className:"text-emerald-800",children:"Jami:"}),d.jsxs("span",{className:"text-emerald-600",children:[fe.toLocaleString()," so'm"]})]})]})})()]}),d.jsx("div",{className:"p-4 mb-6 border border-blue-200 bg-blue-50 rounded-xl",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx(cu,{className:"inline w-4 h-4 mr-1"}),"So'rov yuborganingizdan so'ng, to'lovni amalga oshiring. Admin to'lovni tekshirib, tarifni faollashtiradi."]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>{y(!1),_(null)},className:"flex-1 py-3 font-semibold bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200",children:"Bekor qilish"}),d.jsxs("button",{onClick:H,disabled:o,className:"flex items-center justify-center flex-1 gap-2 py-3 font-semibold text-white bg-emerald-600 rounded-xl hover:bg-emerald-700 disabled:opacity-50",children:[d.jsx(fB,{className:"w-5 h-5"}),o?"Yuborilmoqda...":"So'rov yuborish"]})]})]})}),S&&V&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:" To'lov qilish"}),d.jsx("button",{onClick:()=>C(!1),className:"p-2 rounded-full hover:bg-slate-100",children:d.jsx(Co,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-4 mb-6 border bg-emerald-50 border-emerald-200 rounded-xl",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ic,{className:"w-8 h-8 text-emerald-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-emerald-800",children:"So'rov yuborildi!"}),d.jsx("p",{className:"text-sm text-emerald-600",children:"Endi quyidagi kartaga to'lov qiling"})]})]})}),d.jsxs("div",{className:"p-4 mb-6 bg-slate-50 rounded-xl",children:[d.jsx("h4",{className:"mb-3 font-semibold text-slate-700",children:"Buyurtma:"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-500",children:"Tarif:"}),d.jsx("span",{className:"font-semibold",children:V.planName})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-500",children:"Muddat:"}),d.jsx("span",{className:"font-semibold",children:V.durationLabel})]}),d.jsxs("div",{className:"flex justify-between pt-2 text-lg font-bold border-t border-slate-200",children:[d.jsx("span",{className:"text-slate-700",children:"To'lov summasi:"}),d.jsxs("span",{className:"text-emerald-600",children:[(pe=V.totalAmount)==null?void 0:pe.toLocaleString()," so'm"]})]})]})]}),d.jsxs("div",{className:"p-6 mb-6 text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ro,{className:"w-6 h-6"}),d.jsx("span",{className:"font-semibold",children:"Karta raqami"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"font-mono text-2xl tracking-wider",children:R.cardNumber}),d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(R.cardNumber.replace(/\s/g,"")),we.success("Karta raqami nusxalandi!")},className:"p-2 transition-colors rounded-lg bg-white/20 hover:bg-white/30",title:"Nusxalash",children:d.jsx(qE,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"mt-2 text-blue-100",children:R.cardHolder})]}),d.jsxs("div",{className:"mb-6 space-y-3",children:[d.jsx("h4",{className:"font-semibold text-slate-700",children:"Bog'lanish:"}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[d.jsx("div",{className:"p-2 rounded-lg bg-emerald-100",children:d.jsx(zf,{className:"w-5 h-5 text-emerald-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Telefon"}),d.jsx("p",{className:"font-semibold",children:R.phone})]}),d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(R.phone),we.success("Telefon nusxalandi!")},className:"p-2 rounded-lg hover:bg-slate-200",children:d.jsx(qE,{className:"w-4 h-4 text-slate-500"})})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:d.jsx(GE,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Telegram"}),d.jsx("p",{className:"font-semibold",children:R.telegram})]}),d.jsx("a",{href:`https://t.me/${R.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 text-sm text-white bg-blue-500 rounded-lg hover:bg-blue-600",children:"Yozish"})]})]}),d.jsxs("div",{className:"p-4 mb-6 border bg-amber-50 border-amber-200 rounded-xl",children:[d.jsx("h4",{className:"mb-2 font-semibold text-amber-800",children:" Yo'riqnoma:"}),d.jsxs("ol",{className:"space-y-2 text-sm text-amber-700",children:[d.jsxs("li",{children:["1. Yuqoridagi karta raqamiga ",d.jsxs("strong",{children:[(se=V.totalAmount)==null?void 0:se.toLocaleString()," so'm"]})," o'tkazing"]}),d.jsx("li",{children:"2. To'lov chekini Telegram orqali yuboring"}),d.jsx("li",{children:"3. Admin tekshirib, tarifingizni faollashtiradi"}),d.jsx("li",{children:"4. Faollashtirilganda xabar olasiz"})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 font-semibold bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200",children:"Yopish"}),d.jsxs("a",{href:`https://t.me/${R.telegram.replace("@","")}?text=Salom! Men "${V.planName}" tarifiga ${(Te=V.totalAmount)==null?void 0:Te.toLocaleString()} so'm to'lov qildim. Kompaniya: ${(n==null?void 0:n.name)||""}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center flex-1 gap-2 py-3 font-semibold text-white bg-blue-500 rounded-xl hover:bg-blue-600",children:[d.jsx(GE,{className:"w-5 h-5"}),"Chek yuborish"]})]})]})})]})},t0e=({transactions:t,onUpdateTransaction:e,currentUser:n})=>{const[r,i]=ee.useState(""),[a,o]=ee.useState("debt"),[u,f]=ee.useState("all"),[h,x]=ee.useState(null),[y,w]=ee.useState(!1),[_,I]=ee.useState(null),[N,M]=ee.useState(""),[P,S]=ee.useState(!1),C=ee.useMemo(()=>{const E={};return t.filter(O=>O.type==="chiqim"&&O.debt>0&&O.companyId===n.companyId).forEach(O=>{var H;const $=((H=O.customerName)==null?void 0:H.toLowerCase())||"noma'lum";E[$]||(E[$]={name:O.customerName||"Noma'lum",phone:O.customerPhone||"",totalDebt:0,paidAmount:0,transactions:[],lastDate:null,firstDate:null}),E[$].totalDebt+=O.debt,E[$].paidAmount+=O.paidAmount||0,E[$].transactions.push(O);const F=O.date instanceof Date?O.date:new Date(O.date);(!E[$].lastDate||F>E[$].lastDate)&&(E[$].lastDate=F),(!E[$].firstDate||F<E[$].firstDate)&&(E[$].firstDate=F),O.customerPhone&&!E[$].phone&&(E[$].phone=O.customerPhone)}),Object.values(E)},[t,n.companyId]),V=ee.useMemo(()=>{let E=C.filter(O=>!r||O.name.toLowerCase().includes(r.toLowerCase())||O.phone.includes(r)?u==="overdue"?(new Date-O.firstDate)/864e5>30:u==="recent"?(new Date-O.lastDate)/864e5<=7:!0:!1);switch(a){case"debt":E.sort((O,$)=>$.totalDebt-O.totalDebt);break;case"date":E.sort((O,$)=>$.lastDate-O.lastDate);break;case"name":E.sort((O,$)=>O.name.localeCompare($.name));break}return E},[C,r,u,a]),k=ee.useMemo(()=>{const E=C.reduce(($,F)=>$+F.totalDebt,0),O=C.filter($=>(new Date-$.firstDate)/864e5>30).reduce(($,F)=>$+F.totalDebt,0);return{totalDebt:E,overdueDebt:O,debtorCount:C.length,overdueCount:C.filter($=>(new Date-$.firstDate)/864e5>30).length}},[C]),R=async()=>{if(!_||!N)return;const E=parseFloat(N);if(E<=0||E>_.totalDebt){we.error("Noto'g'ri summa!");return}S(!0);try{let O=E;const $=[..._.transactions].sort((F,H)=>{const z=F.date instanceof Date?F.date:new Date(F.date),W=H.date instanceof Date?H.date:new Date(H.date);return z-W});for(const F of $){if(O<=0)break;if(F.debt<=0)continue;const H=Math.min(O,F.debt),z=F.debt-H,W=(F.paidAmount||0)+H;await kr(jt(ze,"transactions",F.id),{debt:z,paidAmount:W}),e({...F,debt:z,paidAmount:W}),O-=H}we.success(`${E.toLocaleString()} so'm to'lov qabul qilindi!`),w(!1),I(null),M("")}catch(O){console.error("To'lov xatosi:",O),we.error("Xatolik yuz berdi!")}S(!1)},j=E=>E>=1e6?`${(E/1e6).toFixed(1)} mln`:E>=1e3?`${(E/1e3).toFixed(0)} ming`:E.toLocaleString(),D=E=>{const O=Math.floor((new Date-E)/864e5);return O===0?"Bugun":O===1?"Kecha":`${O} kun oldin`},L=E=>{const O=(new Date-E.firstDate)/864e5;return O>30?{status:"overdue",color:"rose",label:"Muddati o'tgan"}:O>14?{status:"warning",color:"amber",label:"Ogohlantirish"}:{status:"normal",color:"emerald",label:"Normal"}};return d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qarzdorlar"}),d.jsx("p",{className:"text-slate-500",children:"Mijozlar qarzi boshqaruvi"})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-rose-600 rounded-2xl p-5 text-white shadow-lg shadow-rose-500/25",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(To,{className:"w-6 h-6"})})}),d.jsx("p",{className:"text-rose-100 text-sm",children:"Jami qarz"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:j(k.totalDebt)})]}),d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl p-5 text-white shadow-lg shadow-amber-500/25",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(cu,{className:"w-6 h-6"})})}),d.jsx("p",{className:"text-amber-100 text-sm",children:"Muddati o'tgan"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:j(k.overdueDebt)})]}),d.jsxs("div",{className:"bg-gradient-to-br from-violet-500 to-violet-600 rounded-2xl p-5 text-white shadow-lg shadow-violet-500/25",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(Ll,{className:"w-6 h-6"})})}),d.jsx("p",{className:"text-violet-100 text-sm",children:"Jami qarzdorlar"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:k.debtorCount})]}),d.jsxs("div",{className:"bg-gradient-to-br from-slate-600 to-slate-700 rounded-2xl p-5 text-white shadow-lg shadow-slate-500/25",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(Oi,{className:"w-6 h-6"})})}),d.jsx("p",{className:"text-slate-300 text-sm",children:"Kechiktirilgan"}),d.jsx("p",{className:"text-2xl font-bold mt-1",children:k.overdueCount})]})]}),d.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-slate-100",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(k1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Qarzdor qidirish...",value:r,onChange:E=>i(E.target.value),className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),d.jsxs("select",{value:u,onChange:E=>f(E.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-white",children:[d.jsx("option",{value:"all",children:"Barchasi"}),d.jsx("option",{value:"overdue",children:"Muddati o'tgan (30+ kun)"}),d.jsx("option",{value:"recent",children:"So'nggi 7 kun"})]}),d.jsxs("select",{value:a,onChange:E=>o(E.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-white",children:[d.jsx("option",{value:"debt",children:"Qarz bo'yicha"}),d.jsx("option",{value:"date",children:"Sana bo'yicha"}),d.jsx("option",{value:"name",children:"Ism bo'yicha"})]})]})}),d.jsx("div",{className:"space-y-4",children:V.length===0?d.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-slate-100",children:[d.jsx(Ll,{className:"w-16 h-16 mx-auto text-slate-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Qarzdor topilmadi"}),d.jsx("p",{className:"text-slate-500",children:"Hozircha qarzdorlar yo'q"})]}):V.map((E,O)=>{const $=L(E),F=h===O;return d.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border overflow-hidden transition-all ${$.status==="overdue"?"border-rose-200":"border-slate-100"}`,children:[d.jsx("div",{className:"p-4 lg:p-6 cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>x(F?null:O),children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-xl bg-${$.color}-100 flex items-center justify-center`,children:d.jsx(ma,{className:`w-6 h-6 text-${$.color}-600`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-slate-800 truncate",children:E.name}),d.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full bg-${$.color}-100 text-${$.color}-700`,children:$.label})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-500",children:[E.phone&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(zf,{className:"w-3 h-3"}),E.phone]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(mv,{className:"w-3 h-3"}),E.transactions.length," ta savdo"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(uu,{className:"w-3 h-3"}),D(E.lastDate)]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`text-xl font-bold text-${$.color}-600`,children:E.totalDebt.toLocaleString()}),d.jsx("p",{className:"text-sm text-slate-500",children:"so'm qarz"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:H=>{H.stopPropagation(),I(E),w(!0)},className:"px-4 py-2 bg-emerald-500 text-white rounded-xl font-medium hover:bg-emerald-600 transition-colors active:scale-95",children:"To'lov"}),F?d.jsx(KL,{className:"w-5 h-5 text-slate-400"}):d.jsx(WL,{className:"w-5 h-5 text-slate-400"})]})]})}),F&&d.jsxs("div",{className:"border-t border-slate-100 p-4 lg:p-6 bg-slate-50",children:[d.jsx("h4",{className:"font-semibold text-slate-700 mb-3",children:"Savdolar tarixi:"}),d.jsx("div",{className:"space-y-2",children:E.transactions.sort((H,z)=>{const W=H.date instanceof Date?H.date:new Date(H.date);return(z.date instanceof Date?z.date:new Date(z.date))-W}).map((H,z)=>{const W=H.date instanceof Date?H.date:new Date(H.date);return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center",children:d.jsx(mv,{className:"w-5 h-5 text-slate-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-800",children:H.productName}),d.jsxs("p",{className:"text-sm text-slate-500",children:[W.toLocaleDateString("uz-UZ"),"  ",H.quantity," dona"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-bold text-slate-800",children:(H.totalAmount||H.quantity*H.price||0).toLocaleString()}),d.jsx("p",{className:`text-sm ${H.debt>0?"text-rose-500":"text-emerald-500"}`,children:H.debt>0?`Qarz: ${H.debt.toLocaleString()}`:"To'langan"})]})]},z)})})]})]},O)})}),y&&_&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[d.jsx("div",{className:"p-6 border-b border-slate-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"To'lov qabul qilish"}),d.jsx("button",{onClick:()=>{w(!1),I(null),M("")},className:"p-2 hover:bg-slate-100 rounded-lg",children:d.jsx(Co,{className:"w-5 h-5"})})]})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsx("div",{className:"p-4 bg-slate-50 rounded-xl",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-rose-100 flex items-center justify-center",children:d.jsx(ma,{className:"w-6 h-6 text-rose-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800",children:_.name}),d.jsxs("p",{className:"text-rose-600 font-semibold",children:["Qarz: ",_.totalDebt.toLocaleString()," so'm"]})]})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"To'lov summasi"}),d.jsxs("div",{className:"relative",children:[d.jsx(To,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"number",value:N,onChange:E=>M(E.target.value),placeholder:"Summa kiriting",className:"w-full pl-12 pr-4 py-3 border-2 border-slate-200 rounded-xl text-lg font-bold focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[[5e4,1e5,2e5,5e5].map(E=>d.jsx("button",{onClick:()=>M(E.toString()),className:"px-3 py-2 bg-slate-100 rounded-lg text-sm font-medium hover:bg-slate-200",children:E>=1e6?`${E/1e6} mln`:`${E/1e3}k`},E)),d.jsx("button",{onClick:()=>M(_.totalDebt.toString()),className:"px-3 py-2 bg-emerald-100 text-emerald-700 rounded-lg text-sm font-medium hover:bg-emerald-200",children:"To'liq to'lash"})]})]}),d.jsxs("div",{className:"p-6 border-t border-slate-100 flex gap-3",children:[d.jsx("button",{onClick:()=>{w(!1),I(null),M("")},className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200",children:"Bekor qilish"}),d.jsx("button",{onClick:R,disabled:P||!N||parseFloat(N)<=0,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-semibold hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Saqlanmoqda...":"Qabul qilish"})]})]})})]})},n0e=({products:t,transactions:e,isAdmin:n})=>{const[r,i]=ee.useState("order"),[a,o]=ee.useState(""),[u,f]=ee.useState("all"),h=ee.useMemo(()=>{const E=new Set(t.map(O=>O.category).filter(Boolean));return["all",...Array.from(E)]},[t]),x=E=>{if(!E)return!0;const O=E instanceof Date?E:E.toDate?E.toDate():new Date(E);return Math.floor((new Date-O)/(1e3*60*60*24))>=30},y=E=>{if(!E)return null;const O=E instanceof Date?E:E.toDate?E.toDate():new Date(E);return Math.floor((new Date-O)/(1e3*60*60*24))},w=ee.useMemo(()=>{const E={},O=new Date,$=new Date(O.getTime()-30*24*60*60*1e3),F=new Date(O.getTime()-60*24*60*60*1e3);return t.forEach(H=>{const z=e.filter(Q=>Q.productId===H.id&&Q.type==="chiqim"),W=z.filter(Q=>(Q.date instanceof Date?Q.date:new Date(Q.date))>=$),Y=z.filter(Q=>{const fe=Q.date instanceof Date?Q.date:new Date(Q.date);return fe>=F&&fe<$}),re=W.reduce((Q,fe)=>Q+fe.quantity,0),ne=Y.reduce((Q,fe)=>Q+fe.quantity,0),ce=z.length>0?new Date(Math.max(...z.map(Q=>(Q.date instanceof Date?Q.date:new Date(Q.date)).getTime()))):null,ve=e.filter(Q=>Q.productId===H.id&&Q.type==="kirim"),ye=ve.length>0?new Date(Math.max(...ve.map(Q=>(Q.date instanceof Date?Q.date:new Date(Q.date)).getTime()))):null,pe=re/30,se=pe>0?Math.floor(H.quantity/pe):999,Te=ne>0?((re-ne)/ne*100).toFixed(1):re>0?100:0,oe=y(H.createdAt),ue=x(H.createdAt);E[H.id]={...H,soldLast30:re,soldPrev30:ne,lastSale:ce,lastIncome:ye,dailyAvg:pe,daysOfStock:se,growthPercent:parseFloat(Te),totalValue:H.quantity*(H.costPrice||H.price||0),retailValue:H.quantity*(H.sellingPrice||H.price||0),daysSinceCreated:oe,canShowAdvice:ue}}),E},[t,e]),_=ee.useMemo(()=>Object.values(w).filter(E=>{const O=E.minStock||5;return E.quantity<=O}).sort((E,O)=>E.quantity-O.quantity),[w]),I=ee.useMemo(()=>Object.values(w).filter(E=>E.quantity>0&&E.soldLast30<5&&E.canShowAdvice).sort((E,O)=>E.soldLast30-O.soldLast30),[w]),N=ee.useMemo(()=>Object.values(w).filter(E=>E.quantity>0&&E.daysOfStock>90&&E.canShowAdvice).sort((E,O)=>O.daysOfStock-E.daysOfStock),[w]),M=ee.useMemo(()=>{const E=new Date,O=new Date(E.getTime()+30*24*60*60*1e3);return Object.values(w).filter($=>{const F=$.expirationDate||$.expiryDate;return F?(F instanceof Date?F:new Date(F))<=O&&$.quantity>0:!1}).sort(($,F)=>{const H=new Date($.expirationDate||$.expiryDate),z=new Date(F.expirationDate||F.expiryDate);return H-z})},[w]),C=(E=>E.filter(O=>{var H,z;const $=!a||((H=O.name)==null?void 0:H.toLowerCase().includes(a.toLowerCase()))||((z=O.barcode)==null?void 0:z.includes(a)),F=u==="all"||O.category===u;return $&&F}))(r==="order"?_:r==="slow"?I:r==="overstock"?N:M),V=I.reduce((E,O)=>E+O.totalValue,0),k=N.reduce((E,O)=>E+O.totalValue,0),R=_.reduce((E,O)=>E+O.retailValue,0),j=E=>E>=1e9?`${(E/1e9).toFixed(1)} mlrd`:E>=1e6?`${(E/1e6).toFixed(1)} mln`:E>=1e3?`${(E/1e3).toFixed(0)} ming`:E.toLocaleString(),D=E=>{if(!E)return"Hech qachon";const O=Math.floor((new Date-E)/(1e3*60*60*24));return O===0?"Bugun":O===1?"Kecha":`${O} kun oldin`},L=E=>{const O=E.dailyAvg||0,$=E.minStock||5,F=Math.ceil(O*30)+$-E.quantity;return Math.max(F,$)};return d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Ombor tahlili"}),d.jsx("p",{className:"text-slate-500",children:"Zakaz, sekin sotilayotgan va muammoli mahsulotlar"})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{onClick:()=>i("order"),className:`cursor-pointer transition-all ${r==="order"?"ring-2 ring-emerald-400 scale-105":"hover:scale-102"} bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-5 text-white shadow-lg shadow-emerald-500/25`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(JE,{className:"w-6 h-6"})}),d.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[_.length," ta"]})]}),d.jsx("p",{className:"text-emerald-100 text-sm",children:"Zakaz kerak"}),d.jsx("p",{className:"text-xl font-bold mt-1",children:j(R)})]}),d.jsxs("div",{onClick:()=>i("slow"),className:`cursor-pointer transition-all ${r==="slow"?"ring-2 ring-amber-400 scale-105":"hover:scale-102"} bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl p-5 text-white shadow-lg shadow-amber-500/25`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(ZE,{className:"w-6 h-6"})}),d.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[I.length," ta"]})]}),d.jsx("p",{className:"text-amber-100 text-sm",children:"Sekin sotilmoqda"}),d.jsx("p",{className:"text-xl font-bold mt-1",children:j(V)})]}),d.jsxs("div",{onClick:()=>i("overstock"),className:`cursor-pointer transition-all ${r==="overstock"?"ring-2 ring-violet-400 scale-105":"hover:scale-102"} bg-gradient-to-br from-violet-500 to-violet-600 rounded-2xl p-5 text-white shadow-lg shadow-violet-500/25`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(Hi,{className:"w-6 h-6"})}),d.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[N.length," ta"]})]}),d.jsx("p",{className:"text-violet-100 text-sm",children:"Ortiqcha zaxira"}),d.jsx("p",{className:"text-xl font-bold mt-1",children:j(k)})]}),d.jsxs("div",{onClick:()=>i("expiring"),className:`cursor-pointer transition-all ${r==="expiring"?"ring-2 ring-rose-400 scale-105":"hover:scale-102"} bg-gradient-to-br from-rose-500 to-rose-600 rounded-2xl p-5 text-white shadow-lg shadow-rose-500/25`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:d.jsx(Oi,{className:"w-6 h-6"})}),d.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[M.length," ta"]})]}),d.jsx("p",{className:"text-rose-100 text-sm",children:"Srogi yaqin"}),d.jsx("p",{className:"text-xl font-bold mt-1",children:"30 kun ichida"})]})]}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{id:"order",label:"Zakaz kerak",count:_.length,icon:JE,color:"emerald"},{id:"slow",label:"Sekin sotilmoqda",count:I.length,icon:ZE,color:"amber"},{id:"overstock",label:"Ortiqcha zaxira",count:N.length,icon:Hi,color:"violet"},{id:"expiring",label:"Srogi yaqin",count:M.length,icon:Oi,color:"rose"}].map(E=>d.jsxs("button",{onClick:()=>i(E.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all ${r===E.id?E.color==="emerald"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":E.color==="amber"?"bg-amber-500 text-white shadow-lg shadow-amber-500/25":E.color==="violet"?"bg-violet-500 text-white shadow-lg shadow-violet-500/25":"bg-rose-500 text-white shadow-lg shadow-rose-500/25":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"}`,children:[d.jsx(E.icon,{className:"w-5 h-5"}),E.label,d.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${r===E.id?"bg-white/20":"bg-slate-100"}`,children:E.count})]},E.id))}),(r==="slow"||r==="overstock")&&d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-start gap-3",children:[d.jsx(VL,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-800 font-medium",children:"30 kun qoidasi"}),d.jsx("p",{className:"text-blue-600 text-sm",children:"Maslahatlar faqat 30 kundan oshgan mahsulotlar uchun beriladi. Yangi qo'shilgan mahsulotlar bu ro'yxatda ko'rinmaydi."})]})]}),d.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-slate-100",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(k1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Mahsulot qidirish...",value:a,onChange:E=>o(E.target.value),className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),d.jsxs("select",{value:u,onChange:E=>f(E.target.value),className:"px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500 bg-white min-w-[150px]",children:[d.jsx("option",{value:"all",children:"Barcha kategoriyalar"}),h.filter(E=>E!=="all").map(E=>d.jsx("option",{value:E,children:E},E))]})]})}),d.jsx("div",{className:"space-y-3",children:C.length===0?d.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-slate-100",children:[d.jsx(Hi,{className:"w-16 h-16 mx-auto text-slate-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:r==="order"?"Zakaz kerak mahsulot yo'q ":r==="slow"?"Sekin sotilayotgan mahsulot yo'q":r==="overstock"?"Ortiqcha zaxira yo'q":"Srogi yaqinlashgan mahsulot yo'q"}),d.jsx("p",{className:"text-slate-500",children:"Bu yaxshi xabar! "})]}):C.map((E,O)=>{var $;return d.jsxs("div",{className:`bg-white rounded-2xl p-4 lg:p-6 shadow-sm border transition-all hover:shadow-md ${r==="order"&&E.quantity===0?"border-rose-200 bg-rose-50/50":"border-slate-100"}`,children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[d.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${r==="order"?E.quantity===0?"bg-rose-100":"bg-emerald-100":r==="slow"?"bg-amber-100":r==="overstock"?"bg-violet-100":"bg-rose-100"}`,children:d.jsx(Hi,{className:`w-6 h-6 ${r==="order"?E.quantity===0?"text-rose-600":"text-emerald-600":r==="slow"?"text-amber-600":r==="overstock"?"text-violet-600":"text-rose-600"}`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-slate-800 truncate",children:E.name}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[E.category&&d.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded-full text-xs",children:E.category}),E.barcode&&d.jsx("span",{className:"text-xs text-slate-400",children:E.barcode}),E.daysSinceCreated!==null&&d.jsxs("span",{className:"text-xs text-slate-400",children:["(",E.daysSinceCreated," kun oldin qo'shilgan)"]})]})]})]}),r==="order"?d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[d.jsxs("div",{className:"text-center lg:text-right",children:[d.jsx("p",{className:`text-2xl font-bold ${E.quantity===0?"text-rose-600":"text-amber-600"}`,children:E.quantity}),d.jsx("p",{className:"text-xs text-slate-500",children:"Omborda"})]}),d.jsxs("div",{className:"text-center lg:text-right",children:[d.jsx("p",{className:"text-lg font-bold text-slate-600",children:E.minStock||5}),d.jsx("p",{className:"text-xs text-slate-500",children:"Min. qoldiq"})]}),d.jsxs("div",{className:"text-center lg:text-right",children:[d.jsx("p",{className:"text-lg font-bold text-blue-600",children:(($=E.dailyAvg)==null?void 0:$.toFixed(1))||0}),d.jsx("p",{className:"text-xs text-slate-500",children:"Kunlik sotish"})]}),d.jsxs("div",{className:"text-center lg:text-right bg-emerald-50 rounded-xl py-2 px-3",children:[d.jsx("p",{className:"text-xl font-bold text-emerald-600",children:L(E)}),d.jsx("p",{className:"text-xs text-emerald-700 font-medium",children:"Tavsiya: zakaz"})]})]}):d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[d.jsxs("div",{className:"text-center lg:text-right",children:[d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:E.quantity}),d.jsx("p",{className:"text-xs text-slate-500",children:"Omborda"})]}),d.jsxs("div",{className:"text-center lg:text-right",children:[d.jsx("p",{className:"text-2xl font-bold text-amber-600",children:E.soldLast30}),d.jsx("p",{className:"text-xs text-slate-500",children:"30 kunda sotildi"})]}),d.jsxs("div",{className:"text-center lg:text-right",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-end gap-1",children:[d.jsxs("p",{className:`text-lg font-bold ${E.growthPercent>0?"text-emerald-600":E.growthPercent<0?"text-rose-600":"text-slate-600"}`,children:[E.growthPercent>0?"+":"",E.growthPercent,"%"]}),E.growthPercent!==0&&d.jsx(LL,{className:`w-4 h-4 ${E.growthPercent>0?"text-emerald-600 rotate-180":"text-rose-600"}`})]}),d.jsx("p",{className:"text-xs text-slate-500",children:"O'zgarish"})]}),d.jsxs("div",{className:"text-center lg:text-right",children:[d.jsxs("p",{className:`text-lg font-bold ${E.daysOfStock>180?"text-rose-600":E.daysOfStock>90?"text-amber-600":"text-emerald-600"}`,children:[E.daysOfStock>365?"365+":E.daysOfStock," kun"]}),d.jsx("p",{className:"text-xs text-slate-500",children:"Yetadi"})]})]}),n&&d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-lg font-bold text-slate-800",children:j(E.totalValue)}),d.jsx("p",{className:"text-xs text-slate-500",children:"Tannarx"})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex flex-wrap items-center gap-4 text-sm text-slate-500",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(M1,{className:"w-4 h-4"}),"Oxirgi sotish: ",D(E.lastSale)]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Hi,{className:"w-4 h-4"}),"Oxirgi kirim: ",D(E.lastIncome)]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(yB,{className:"w-4 h-4"}),"Kunlik o'rtacha: ",E.dailyAvg.toFixed(1)," ta"]})]}),r==="slow"&&E.soldLast30<2&&d.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-100 rounded-xl",children:d.jsxs("p",{className:"text-amber-700 text-sm",children:[" ",d.jsx("strong",{children:"Tavsiya:"})," Bu mahsulotga chegirma qo'ying yoki aksiya e'lon qiling.",E.daysOfStock>180&&" Yetkazib beruvchiga qaytarishni ko'rib chiqing."]})}),r==="overstock"&&d.jsx("div",{className:"mt-3 p-3 bg-violet-50 border border-violet-100 rounded-xl",children:d.jsxs("p",{className:"text-violet-700 text-sm",children:[" ",d.jsx("strong",{children:"Tavsiya:"})," Keyingi buyurtmada kam oling.",E.daysOfStock>180?" Chegirma bilan sotishni boshlang.":" Hozirgi zaxira yetarli."]})})]},E.id)})})]})},r0e=({products:t,onUpdateProduct:e,currentUser:n})=>{const[r,i]=ee.useState("count"),[a,o]=ee.useState(""),[u,f]=ee.useState(!1),[h,x]=ee.useState({}),[y,w]=ee.useState([]),[_,I]=ee.useState(!1),[N,M]=ee.useState(null),P=ee.useRef(null);ee.useEffect(()=>{S()},[n.companyId]);const S=async()=>{try{const W=Yn(dt(ze,"inventories"),Bn("companyId","==",n.companyId)),re=(await un(W)).docs.map(ne=>{var ce;return{id:ne.id,...ne.data(),date:((ce=ne.data().date)==null?void 0:ce.toDate())||new Date}});w(re.sort((ne,ce)=>ce.date-ne.date))}catch(W){console.error("Tarix yuklanmadi:",W)}},C=()=>{M({startedAt:new Date,status:"in_progress",items:{}}),x({}),we.info("Yangi inventarizatsiya boshlandi!")},V=W=>{var re;const Y=t.find(ne=>ne.barcode===W);Y?(k(Y),we.success(`${Y.name} topildi!`)):we.warning(`Barcode: ${W} - topilmadi!`),(re=P.current)==null||re.focus()},k=W=>{x(Y=>{var re;return{...Y,[W.id]:{...W,systemQty:W.quantity,actualQty:((re=Y[W.id])==null?void 0:re.actualQty)??"",counted:!0}}})},R=(W,Y)=>{x(re=>({...re,[W]:{...re[W],actualQty:Y===""?"":parseInt(Y)||0}}))},j=W=>W.actualQty===""?null:W.actualQty-W.systemQty,D=()=>{const W={};t.forEach(Y=>{W[Y.id]={...Y,systemQty:Y.quantity,actualQty:"",counted:!1}}),x(W),we.info(`${t.length} ta mahsulot qo'shildi`)},L=async()=>{const W=Object.values(h).filter(re=>re.actualQty!=="");if(W.length===0){we.warning("Kamida bitta mahsulot sanalishi kerak!");return}I(!0);const Y=we.loading("Saqlanmoqda...");try{const re={companyId:n.companyId,createdBy:n.id,createdByName:n.name,date:new Date,status:"completed",totalProducts:W.length,totalSystemQty:W.reduce((ce,ve)=>ce+ve.systemQty,0),totalActualQty:W.reduce((ce,ve)=>ce+ve.actualQty,0),items:W.map(ce=>({productId:ce.id,productName:ce.name,barcode:ce.barcode,systemQty:ce.systemQty,actualQty:ce.actualQty,difference:ce.actualQty-ce.systemQty})),discrepancies:W.filter(ce=>ce.actualQty!==ce.systemQty).length};if(await xa(dt(ze,"inventories"),re),window.confirm(`Mahsulotlar sonini yangilashni xohlaysizmi?

HA - Sistemadagi sonlar haqiqiy songacha o'zgaradi
YO'Q - Faqat hisobot saqlanadi`)){for(const ce of W)ce.actualQty!==ce.systemQty&&(await kr(jt(ze,"products",ce.id),{quantity:ce.actualQty,lastInventoryDate:new Date,lastInventoryDiff:ce.actualQty-ce.systemQty}),e({...ce,quantity:ce.actualQty}));we.success("Mahsulotlar soni yangilandi!")}x({}),M(null),S(),we.update(Y,{render:" Inventarizatsiya saqlandi!",type:"success",isLoading:!1,autoClose:3e3})}catch(re){console.error("Saqlash xatosi:",re),we.update(Y,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}I(!1)},E=W=>{const Y="\uFEFF",re=["Mahsulot","Barcode","Sistemada","Haqiqiy","Farq"],ne=W.items.map(se=>[se.productName,se.barcode||"",se.systemQty,se.actualQty,se.difference]),ce=Y+[re.join(","),...ne.map(se=>se.map(Te=>`"${Te}"`).join(","))].join(`
`),ve=new Blob([ce],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(ve),pe=document.createElement("a");pe.href=ye,pe.download=`inventarizatsiya_${W.date.toLocaleDateString("uz-UZ").replace(/\./g,"-")}.csv`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},O=t.filter(W=>{var Y,re;return((Y=W.name)==null?void 0:Y.toLowerCase().includes(a.toLowerCase()))||((re=W.barcode)==null?void 0:re.includes(a))}),$=Object.values(h).filter(W=>W.actualQty!=="").length,F=Object.values(h).filter(W=>{const Y=j(W);return Y!==null&&Y!==0}).length,H=Object.values(h).reduce((W,Y)=>W+Y.systemQty,0),z=Object.values(h).filter(W=>W.actualQty!=="").reduce((W,Y)=>W+Y.actualQty,0);return d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Inventarizatsiya"}),d.jsx("p",{className:"text-slate-500",children:"Ombor tekshiruvi va hisoboti"})]}),N?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>{window.confirm("Inventarizatsiyani bekor qilasizmi?")&&(M(null),x({}))},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-xl hover:bg-slate-300",children:"Bekor qilish"}),d.jsxs("button",{onClick:L,disabled:_,className:"flex items-center gap-2 px-6 py-3 bg-emerald-500 text-white rounded-xl font-semibold hover:bg-emerald-600 disabled:opacity-50",children:[d.jsx(pO,{className:"w-5 h-5"}),"Saqlash"]})]}):d.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-6 py-3 bg-emerald-500 text-white rounded-xl font-semibold hover:bg-emerald-600 transition-all shadow-lg shadow-emerald-500/25",children:[d.jsx(fv,{className:"w-5 h-5"}),"Yangi inventarizatsiya"]})]}),d.jsx("div",{className:"flex gap-2",children:[{id:"count",label:"Sanash",icon:qL},{id:"history",label:"Tarix",icon:WE}].map(W=>d.jsxs("button",{onClick:()=>i(W.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${r===W.id?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"}`,children:[d.jsx(W.icon,{className:"w-5 h-5"}),W.label]},W.id))}),r==="count"&&d.jsx(d.Fragment,{children:N?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("p",{className:"text-slate-500 text-sm",children:"Sanash kerak"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:Object.keys(h).length})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("p",{className:"text-slate-500 text-sm",children:"Sanalgan"}),d.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:$})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("p",{className:"text-slate-500 text-sm",children:"Farq bor"}),d.jsx("p",{className:"text-2xl font-bold text-rose-600",children:F})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("p",{className:"text-slate-500 text-sm",children:"Sistemada / Haqiqiy"}),d.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[H," / ",z]})]})]}),d.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-slate-100",children:d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(fu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{ref:P,type:"text",placeholder:"Barcode skanerlang yoki mahsulot qidiring...",value:a,onChange:W=>o(W.target.value),onKeyPress:W=>{W.key==="Enter"&&a&&t.find(re=>re.barcode===a)&&(V(a),o(""))},className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500",autoFocus:!0})]}),d.jsx("button",{onClick:()=>f(!0),className:"px-4 py-3 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600",children:d.jsx(Vh,{className:"w-5 h-5"})}),d.jsx("button",{onClick:D,className:"px-4 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 whitespace-nowrap",children:"Barchasini qo'shish"})]})}),a&&O.length>0&&Object.keys(h).length===0&&d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[d.jsx("div",{className:"p-4 border-b border-slate-100",children:d.jsx("h3",{className:"font-semibold text-slate-800",children:"Topilgan mahsulotlar"})}),d.jsx("div",{className:"divide-y divide-slate-100 max-h-[300px] overflow-y-auto",children:O.slice(0,10).map(W=>d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 cursor-pointer",onClick:()=>{k(W),o("")},children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-800",children:W.name}),d.jsxs("p",{className:"text-sm text-slate-500",children:[W.barcode,"  Sistemada: ",W.quantity]})]}),d.jsx("button",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg",children:d.jsx(_w,{className:"w-5 h-5"})})]},W.id))})]}),d.jsxs("div",{className:"space-y-3",children:[Object.values(h).map(W=>{const Y=j(W),re=Y!==null&&Y!==0;return d.jsx("div",{className:`bg-white rounded-2xl p-4 lg:p-6 shadow-sm border ${re?"border-rose-200 bg-rose-50/50":"border-slate-100"}`,children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-slate-800 truncate",children:W.name}),d.jsxs("p",{className:"text-sm text-slate-500",children:[W.barcode,"  ",W.category]})]}),d.jsxs("div",{className:"text-center px-4",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Sistemada"}),d.jsx("p",{className:"text-xl font-bold text-slate-800",children:W.systemQty})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Haqiqiy"}),d.jsx("input",{type:"number",value:W.actualQty,onChange:ne=>R(W.id,ne.target.value),placeholder:"0",className:`w-24 px-3 py-2 text-xl font-bold text-center border-2 rounded-xl focus:ring-2 focus:ring-emerald-500 ${re?"border-rose-300 bg-rose-50":"border-slate-200"}`})]}),Y!==null&&d.jsxs("div",{className:`text-center px-4 py-2 rounded-xl ${Y>0?"bg-emerald-100 text-emerald-700":Y<0?"bg-rose-100 text-rose-700":"bg-slate-100 text-slate-600"}`,children:[d.jsx("p",{className:"text-sm",children:"Farq"}),d.jsxs("p",{className:"text-lg font-bold",children:[Y>0?"+":"",Y]})]}),d.jsx("button",{onClick:()=>{const ne={...h};delete ne[W.id],x(ne)},className:"p-2 text-slate-400 hover:text-rose-500",children:d.jsx(Co,{className:"w-5 h-5"})})]})]})},W.id)}),Object.keys(h).length===0&&d.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-dashed border-slate-300",children:[d.jsx(fu,{className:"w-12 h-12 mx-auto text-slate-300 mb-4"}),d.jsx("p",{className:"text-slate-500",children:"Barcode skanerlang yoki mahsulot qidiring"})]})]})]}):d.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-slate-100",children:[d.jsx(fv,{className:"w-16 h-16 mx-auto text-slate-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Inventarizatsiya boshlang"}),d.jsx("p",{className:"text-slate-500 mb-6",children:'"Yangi inventarizatsiya" tugmasini bosing va ombordagi mahsulotlarni sanang'}),d.jsx("button",{onClick:C,className:"px-6 py-3 bg-emerald-500 text-white rounded-xl font-semibold hover:bg-emerald-600",children:"Boshlash"})]})}),r==="history"&&d.jsx("div",{className:"space-y-4",children:y.length===0?d.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center shadow-sm border border-slate-100",children:[d.jsx(WE,{className:"w-16 h-16 mx-auto text-slate-300 mb-4"}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Tarix bo'sh"}),d.jsx("p",{className:"text-slate-500",children:"Hali inventarizatsiya o'tkazilmagan"})]}):y.map(W=>d.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h3",{className:"font-bold text-slate-800",children:W.date.toLocaleDateString("uz-UZ")}),d.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${W.discrepancies>0?"bg-rose-100 text-rose-700":"bg-emerald-100 text-emerald-700"}`,children:W.discrepancies>0?`${W.discrepancies} ta farq`:"Farq yo'q"})]}),d.jsxs("p",{className:"text-sm text-slate-500",children:[W.createdByName,"  ",W.totalProducts," ta mahsulot"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Sistemada"}),d.jsx("p",{className:"font-bold text-slate-800",children:W.totalSystemQty})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500",children:"Haqiqiy"}),d.jsx("p",{className:"font-bold text-slate-800",children:W.totalActualQty})]}),d.jsx("button",{onClick:()=>E(W),className:"p-2 bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200",title:"Yuklab olish",children:d.jsx(ul,{className:"w-5 h-5"})})]})]})},W.id))}),u&&d.jsx(Cg,{onScan:W=>{V(W),f(!1)},onClose:()=>f(!1)})]})};class i0e{async exportCompanyData(e){try{const n={exportedAt:new Date().toISOString(),companyId:e,version:"1.0",data:{}},r=Yn(dt(ze,"products"),Bn("companyId","==",e)),i=await un(r);n.data.products=i.docs.map(y=>{var w,_,I;return{id:y.id,...y.data(),createdAt:((I=(_=(w=y.data().createdAt)==null?void 0:w.toDate)==null?void 0:_.call(w))==null?void 0:I.toISOString())||null}});const a=Yn(dt(ze,"transactions"),Bn("companyId","==",e)),o=await un(a);n.data.transactions=o.docs.map(y=>{var w,_,I;return{id:y.id,...y.data(),date:((I=(_=(w=y.data().date)==null?void 0:w.toDate)==null?void 0:_.call(w))==null?void 0:I.toISOString())||null}});const u=Yn(dt(ze,"categories"),Bn("companyId","==",e)),f=await un(u);n.data.categories=f.docs.map(y=>({id:y.id,...y.data()}));const h=Yn(dt(ze,"users"),Bn("companyId","==",e)),x=await un(h);return n.data.users=x.docs.map(y=>{var _,I,N;const w=y.data();return{id:y.id,name:w.name,username:w.username,role:w.role,createdAt:((N=(I=(_=w.createdAt)==null?void 0:_.toDate)==null?void 0:I.call(_))==null?void 0:N.toISOString())||null}}),n.stats={productsCount:n.data.products.length,transactionsCount:n.data.transactions.length,categoriesCount:n.data.categories.length,usersCount:n.data.users.length},{success:!0,backup:n}}catch(n){return console.error("Export error:",n),{success:!1,error:"Export qilishda xatolik!"}}}downloadBackup(e,n){const r=JSON.stringify(e,null,2),i=new Blob([r],{type:"application/json"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download=n||`backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}async exportToCSV(e,n="products"){try{let r=[],i=[],a="";switch(n){case"products":const y=Yn(dt(ze,"products"),Bn("companyId","==",e)),w=await un(y);i=["Nomi","Barcode","Kategoriya","Tannarx","Sotish narxi","Miqdor","Birlik"],r=w.docs.map(S=>{const C=S.data();return[C.name,C.barcode,C.category,C.costPrice,C.sellingPrice,C.quantity,C.unit]}),a="mahsulotlar.csv";break;case"transactions":const _=Yn(dt(ze,"transactions"),Bn("companyId","==",e)),I=await un(_);i=["Sana","Tur","Mahsulot","Miqdor","Narx","Jami","Mijoz","To'lov turi"],r=I.docs.map(S=>{var k,R;const C=S.data();return[(((R=(k=C.date)==null?void 0:k.toDate)==null?void 0:R.call(k))||new Date).toLocaleDateString("uz-UZ"),C.type,C.productName,C.quantity,C.price,C.totalAmount,C.customerName,C.paymentType]}),a="tranzaksiyalar.csv";break;case"debtors":const N=Yn(dt(ze,"transactions"),Bn("companyId","==",e)),M=await un(N),P={};M.docs.forEach(S=>{const C=S.data();if(C.type==="chiqim"&&C.debt>0){const V=C.customerName||"Noma'lum";P[V]||(P[V]={name:V,phone:C.customerPhone||"",debt:0}),P[V].debt+=C.debt}}),i=["Mijoz","Telefon","Qarz summasi"],r=Object.values(P).map(S=>[S.name,S.phone,S.debt]),a="qarzdorlar.csv";break}const u="\uFEFF"+[i.join(","),...r.map(y=>y.map(w=>`"${w||""}"`).join(","))].join(`
`),f=new Blob([u],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(f),x=document.createElement("a");return x.href=h,x.download=a,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(h),{success:!0}}catch(r){return console.error("CSV export error:",r),{success:!1,error:"Export qilishda xatolik!"}}}async restoreFromBackup(e,n,r={}){try{const i=$E(ze);let a={products:0,categories:0};if(r.categories&&e.data.categories)for(const o of e.data.categories){const u={name:o.name,companyId:n,restoredAt:new Date,originalId:o.id},f=jt(dt(ze,"categories"));i.set(f,u),a.categories++}if(r.products&&e.data.products)for(const o of e.data.products){const u={name:o.name,barcode:o.barcode,category:o.category,costPrice:o.costPrice||0,sellingPrice:o.sellingPrice||0,quantity:o.quantity||0,unit:o.unit||"dona",companyId:n,restoredAt:new Date,originalId:o.id},f=jt(dt(ze,"products"));i.set(f,u),a.products++}return await i.commit(),{success:!0,restored:a}}catch(i){return console.error("Restore error:",i),{success:!1,error:"Restore qilishda xatolik!"}}}async createAutoBackup(e){try{const n=await this.exportCompanyData(e);return n.success?(await xa(dt(ze,"backups"),{companyId:e,createdAt:new Date,data:JSON.stringify(n.backup),stats:n.backup.stats}),{success:!0,message:"Backup yaratildi!"}):n}catch(n){return console.error("Auto backup error:",n),{success:!1,error:"Backup yaratishda xatolik!"}}}async cleanOldBackups(e,n=30){try{const r=new Date;r.setDate(r.getDate()-n);const i=Yn(dt(ze,"backups"),Bn("companyId","==",e)),a=await un(i),o=$E(ze);let u=0;return a.docs.forEach(f=>{var x,y;const h=(y=(x=f.data().createdAt)==null?void 0:x.toDate)==null?void 0:y.call(x);h&&h<r&&(o.delete(f.ref),u++)}),u>0&&await o.commit(),{success:!0,deleted:u}}catch(r){return console.error("Clean backups error:",r),{success:!1,error:"Backup tozalashda xatolik!"}}}}const Ld=new i0e,a0e=({currentUser:t,products:e,transactions:n})=>{var N,M;const[r,i]=ee.useState(!1),[a,o]=ee.useState([]),[u,f]=ee.useState(!1);ee.useEffect(()=>{h()},[t.companyId]);const h=async()=>{try{const P=Yn(dt(ze,"backups"),Bn("companyId","==",t.companyId)),C=(await un(P)).docs.map(V=>{var k;return{id:V.id,...V.data(),createdAt:((k=V.data().createdAt)==null?void 0:k.toDate())||new Date}});o(C.sort((V,k)=>k.createdAt-V.createdAt))}catch(P){console.error("Backup tarixi yuklanmadi:",P)}},x=async()=>{i(!0);const P=we.loading("Backup tayyorlanmoqda...");try{const S=await Ld.exportCompanyData(t.companyId);if(S.success){const C=`crm_backup_${new Date().toISOString().split("T")[0]}.json`;Ld.downloadBackup(S.backup,C),we.update(P,{render:" Backup yuklab olindi!",type:"success",isLoading:!1,autoClose:3e3})}else throw new Error(S.error)}catch{we.update(P,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}i(!1)},y=async P=>{i(!0);const S=we.loading("Export qilinmoqda...");try{const C=await Ld.exportToCSV(t.companyId,P);if(C.success)we.update(S,{render:" CSV yuklab olindi!",type:"success",isLoading:!1,autoClose:3e3});else throw new Error(C.error)}catch{we.update(S,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}i(!1)},w=async()=>{i(!0);const P=we.loading("Cloud backup saqlanmoqda...");try{const S=await Ld.createAutoBackup(t.companyId);if(S.success)h(),we.update(P,{render:" Cloud backup saqlandi!",type:"success",isLoading:!1,autoClose:3e3});else throw new Error(S.error)}catch{we.update(P,{render:" Xatolik yuz berdi!",type:"error",isLoading:!1,autoClose:3e3})}i(!1)},_=async()=>{if(window.confirm("30 kundan eski backuplarni o'chirmoqchimisiz?")){i(!0);try{const P=await Ld.cleanOldBackups(t.companyId,30);P.success&&(h(),we.success(`${P.deleted} ta eski backup o'chirildi`))}catch{we.error("Xatolik yuz berdi!")}i(!1)}},I=async P=>{if(window.confirm("Bu backupni o'chirmoqchimisiz?"))try{await Vf(jt(ze,"backups",P)),h(),we.success("Backup o'chirildi")}catch{we.error("Xatolik yuz berdi!")}};return d.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[d.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Backup va Export"}),d.jsx("p",{className:"text-slate-500",children:"Ma'lumotlarni himoya qilish"})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-3 mb-2",children:d.jsx("div",{className:"p-2 bg-emerald-100 rounded-xl",children:d.jsx(HE,{className:"w-5 h-5 text-emerald-600"})})}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Mahsulotlar"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.length})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-3 mb-2",children:d.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:d.jsx(P0,{className:"w-5 h-5 text-blue-600"})})}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Tranzaksiyalar"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n.length})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-3 mb-2",children:d.jsx("div",{className:"p-2 bg-violet-100 rounded-xl",children:d.jsx(O0,{className:"w-5 h-5 text-violet-600"})})}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Cloud backuplar"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800",children:a.length})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-3 mb-2",children:d.jsx("div",{className:"p-2 bg-amber-100 rounded-xl",children:d.jsx(Oi,{className:"w-5 h-5 text-amber-600"})})}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Oxirgi backup"}),d.jsx("p",{className:"text-sm font-bold text-slate-800",children:((M=(N=a[0])==null?void 0:N.createdAt)==null?void 0:M.toLocaleDateString("uz-UZ"))||"Hali yo'q"})]})]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[d.jsx(ul,{className:"w-5 h-5 text-emerald-500"}),"Yuklab olish"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:x,disabled:r,className:"w-full flex items-center justify-between p-4 bg-emerald-50 rounded-xl hover:bg-emerald-100 transition-colors disabled:opacity-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(HE,{className:"w-8 h-8 text-emerald-600"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-slate-800",children:"To'liq Backup (JSON)"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Barcha ma'lumotlar"})]})]}),d.jsx(ul,{className:"w-5 h-5 text-emerald-600"})]}),d.jsxs("button",{onClick:()=>y("products"),disabled:r,className:"w-full flex items-center justify-between p-4 bg-blue-50 rounded-xl hover:bg-blue-100 transition-colors disabled:opacity-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(P0,{className:"w-8 h-8 text-blue-600"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-slate-800",children:"Mahsulotlar (CSV)"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Excel uchun"})]})]}),d.jsx(ul,{className:"w-5 h-5 text-blue-600"})]}),d.jsxs("button",{onClick:()=>y("transactions"),disabled:r,className:"w-full flex items-center justify-between p-4 bg-violet-50 rounded-xl hover:bg-violet-100 transition-colors disabled:opacity-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(P0,{className:"w-8 h-8 text-violet-600"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-slate-800",children:"Tranzaksiyalar (CSV)"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Excel uchun"})]})]}),d.jsx(ul,{className:"w-5 h-5 text-violet-600"})]}),d.jsxs("button",{onClick:()=>y("debtors"),disabled:r,className:"w-full flex items-center justify-between p-4 bg-rose-50 rounded-xl hover:bg-rose-100 transition-colors disabled:opacity-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(P0,{className:"w-8 h-8 text-rose-600"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-slate-800",children:"Qarzdorlar (CSV)"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Excel uchun"})]})]}),d.jsx(ul,{className:"w-5 h-5 text-rose-600"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[d.jsx(O0,{className:"w-5 h-5 text-violet-500"}),"Cloud Backup"]}),d.jsx("div",{className:"p-4 bg-violet-50 rounded-xl mb-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-violet-100 rounded-lg",children:d.jsx(O0,{className:"w-6 h-6 text-violet-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-slate-800",children:"Firebase Cloud"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Ma'lumotlar Firebase serverida xavfsiz saqlanadi. Internet bo'lmasa ham oxirgi backup'dan foydalanish mumkin."})]})]})}),d.jsxs("button",{onClick:w,disabled:r,className:"w-full py-3 bg-violet-500 text-white rounded-xl font-semibold hover:bg-violet-600 disabled:opacity-50 flex items-center justify-center gap-2",children:[r?d.jsx(hO,{className:"w-5 h-5 animate-spin"}):d.jsx(vB,{className:"w-5 h-5"}),"Cloud'ga saqlash"]}),d.jsx("div",{className:"mt-4 p-3 bg-amber-50 rounded-xl border border-amber-100",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(cu,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-amber-700",children:"Har kuni backup qilishni tavsiya qilamiz. 30 kundan eski backuplar avtomatik o'chirilishi mumkin."})]})})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[d.jsx(Oi,{className:"w-5 h-5 text-slate-500"}),"Backup tarixi"]}),a.length>0&&d.jsxs("button",{onClick:_,className:"text-sm text-slate-500 hover:text-rose-500 flex items-center gap-1",children:[d.jsx(vo,{className:"w-4 h-4"}),"Eskilarni tozalash"]})]}),d.jsx("div",{className:"divide-y divide-slate-100 max-h-[400px] overflow-y-auto",children:a.length===0?d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(O0,{className:"w-12 h-12 mx-auto text-slate-300 mb-4"}),d.jsx("p",{className:"text-slate-500",children:"Hali backup yo'q"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Birinchi cloud backup yarating"})]}):a.map(P=>{var S,C;return d.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:d.jsx(_w,{className:"w-5 h-5 text-emerald-600"})}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-slate-800",children:[P.createdAt.toLocaleDateString("uz-UZ"),d.jsx("span",{className:"text-slate-400 text-sm ml-2",children:P.createdAt.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})})]}),d.jsxs("p",{className:"text-sm text-slate-500",children:[((S=P.stats)==null?void 0:S.productsCount)||0," mahsulot, ",((C=P.stats)==null?void 0:C.transactionsCount)||0," tranzaksiya"]})]})]}),d.jsx("button",{onClick:()=>I(P.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg",children:d.jsx(vo,{className:"w-4 h-4"})})]},P.id)})})]})]})},s0e=({onLogin:t,onBack:e})=>{const[n,r]=ee.useState(""),[i,a]=ee.useState(!1),o="superadmin2024",u=f=>{f.preventDefault(),a(!0),setTimeout(()=>{n===o?(we.success("Super Admin tizimiga xush kelibsiz!"),t()):we.error("Parol noto'g'ri!"),a(!1)},500)};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-amber-900/20 to-slate-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-2xl shadow-amber-500/30 ring-4 ring-amber-500/20",children:d.jsx(uO,{className:"w-12 h-12 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold text-white",children:"Super Admin"}),d.jsx("p",{className:"text-slate-400 mt-2",children:"Platforma boshqaruv paneli"})]}),d.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-amber-500/20",children:[d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl mb-6",children:[d.jsx(io,{className:"w-6 h-6 text-amber-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-amber-400 font-semibold text-sm",children:"Maxfiy kirish"}),d.jsx("p",{className:"text-slate-400 text-xs",children:"Faqat platforma egasi uchun"})]})]}),d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Super Admin paroli"}),d.jsxs("div",{className:"relative",children:[d.jsx(hv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-amber-400 w-5 h-5"}),d.jsx("input",{type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-amber-500/30 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",autoFocus:!0})]})]}),d.jsx("button",{type:"submit",disabled:i||!n,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl font-semibold hover:opacity-90 transition-all disabled:opacity-50 shadow-lg shadow-amber-500/25 active:scale-[0.98]",children:i?"Tekshirilmoqda...":"Kirish"}),d.jsx("button",{type:"button",onClick:e,className:"w-full py-3 bg-slate-700/50 text-slate-300 rounded-xl font-medium hover:bg-slate-700 transition-colors",children:"Orqaga"})]})]}),d.jsx("p",{className:"text-center text-slate-500 text-xs mt-6",children:" Bu sahifa himoyalangan. Barcha kirishlar qayd etiladi."})]})})},o0e=({onBack:t})=>{var ue;const[e,n]=ee.useState("requests"),[r,i]=ee.useState([]),[a,o]=ee.useState([]),[u,f]=ee.useState([]),[h,x]=ee.useState([]),[y,w]=ee.useState([]),[_,I]=ee.useState(!0),[N,M]=ee.useState(""),[P,S]=ee.useState("all"),[C,V]=ee.useState("all"),[k,R]=ee.useState(null),[j,D]=ee.useState(!1),[L,E]=ee.useState(null),[O,$]=ee.useState(1),F={trial:{name:"Sinov (Trial)",price:0,maxUsers:2,maxProducts:50,duration:"14 kun"},starter:{name:"Boshlang'ich",price:99e3,maxUsers:5,maxProducts:500},basic:{name:"Asosiy",price:149e3,maxUsers:10,maxProducts:2e3},pro:{name:"Professional",price:249e3,maxUsers:999,maxProducts:99999}},H=[{months:1,label:"1 oy"},{months:3,label:"3 oy"},{months:6,label:"6 oy"},{months:12,label:"1 yil"}];ee.useEffect(()=>{z()},[]);const z=async()=>{I(!0);try{const fe=(await un(dt(ze,"companies"))).docs.map(He=>({id:He.id,...He.data()}));i(fe);const Ee=await un(dt(ze,"users"));o(Ee.docs.map(He=>({id:He.id,...He.data()})));const ie=await un(dt(ze,"products"));f(ie.docs.map(He=>({id:He.id,...He.data()})));const he=await un(dt(ze,"transactions"));x(he.docs.map(He=>{var xt;return{id:He.id,...He.data(),date:((xt=He.data().date)==null?void 0:xt.toDate())||new Date}}));const $e=(await un(dt(ze,"paymentRequests"))).docs.map(He=>({id:He.id,...He.data()}));w($e)}catch(Q){console.error("Ma'lumotlar yuklanmadi:",Q),we.error("Ma'lumotlar yuklanmadi!")}I(!1)},W={totalCompanies:r.length,activeCompanies:r.filter(Q=>Q.isActive!==!1).length,trialCompanies:r.filter(Q=>!Q.plan||Q.plan==="trial").length,starterCompanies:r.filter(Q=>Q.plan==="starter").length,basicCompanies:r.filter(Q=>Q.plan==="basic").length,proCompanies:r.filter(Q=>Q.plan==="pro").length,totalUsers:a.length,totalProducts:u.length,pendingRequests:y.filter(Q=>Q.status==="pending").length,mrr:r.reduce((Q,fe)=>fe.plan==="starter"?Q+99e3:fe.plan==="basic"?Q+149e3:fe.plan==="pro"?Q+249e3:Q,0),potentialMrr:r.filter(Q=>!Q.plan||Q.plan==="trial").length*99e3},Y=Q=>{const fe=a.filter(Ce=>Ce.companyId===Q),Ee=u.filter(Ce=>Ce.companyId===Q),ie=h.filter(Ce=>Ce.companyId===Q),he=ie.filter(Ce=>Ce.type==="chiqim").reduce((Ce,$e)=>Ce+($e.totalAmount||$e.quantity*$e.price||0),0);return{users:fe.length,products:Ee.length,transactions:ie.length,revenue:he}},re=async()=>{if(L)try{const Q=F[L.requestedPlan],fe=new Date;fe.setMonth(fe.getMonth()+O),await kr(jt(ze,"companies",L.companyId),{plan:L.requestedPlan,planName:Q.name,maxUsers:Q.maxUsers,maxProducts:Q.maxProducts,subscriptionEnd:fe,subscriptionStarted:new Date,trialEndsAt:null,lastPaymentAmount:L.totalAmount,lastPaymentDate:new Date,updatedAt:new Date}),await kr(jt(ze,"paymentRequests",L.id),{status:"approved",approvedAt:new Date,approvedDuration:O,subscriptionEnd:fe}),i(Ee=>Ee.map(ie=>ie.id===L.companyId?{...ie,plan:L.requestedPlan,maxUsers:Q.maxUsers,maxProducts:Q.maxProducts,subscriptionEnd:fe}:ie)),w(Ee=>Ee.map(ie=>ie.id===L.id?{...ie,status:"approved"}:ie)),we.success(` ${L.companyName} uchun ${Q.name} tarifi ${O} oyga faollashtirildi!`),D(!1),E(null)}catch(Q){console.error("Tasdiqlashda xato:",Q),we.error("Xatolik yuz berdi!")}},ne=async Q=>{if(window.confirm(`${Q.companyName} so'rovini rad etmoqchimisiz?`))try{await kr(jt(ze,"paymentRequests",Q.id),{status:"rejected",rejectedAt:new Date}),w(fe=>fe.map(Ee=>Ee.id===Q.id?{...Ee,status:"rejected"}:Ee)),we.success("So'rov rad etildi")}catch(fe){console.error("Rad etishda xato:",fe),we.error("Xatolik yuz berdi!")}},ce=async(Q,fe,Ee=1)=>{try{const ie=F[fe],he=new Date;he.setMonth(he.getMonth()+Ee),await kr(jt(ze,"companies",Q),{plan:fe,planName:ie.name,maxUsers:ie.maxUsers,maxProducts:ie.maxProducts,subscriptionEnd:he,subscriptionStarted:new Date,trialEndsAt:null,updatedAt:new Date}),i(Ce=>Ce.map($e=>$e.id===Q?{...$e,plan:fe,maxUsers:ie.maxUsers,maxProducts:ie.maxProducts,subscriptionEnd:he}:$e)),we.success(`Tarif ${ie.name} ga o'zgartirildi!`)}catch(ie){console.error("Tarif o'zgartirilmadi:",ie),we.error("Xatolik yuz berdi!")}},ve=async(Q,fe)=>{try{const Ee=fe===!1;await kr(jt(ze,"companies",Q),{isActive:Ee}),i(ie=>ie.map(he=>he.id===Q?{...he,isActive:Ee}:he)),we.success(Ee?"Kompaniya aktivlashtirildi!":"Kompaniya bloklandi!")}catch(Ee){console.error("Status o'zgartirilmadi:",Ee),we.error("Xatolik yuz berdi!")}},ye=r.filter(Q=>{var he,Ce;const fe=!N||((he=Q.name)==null?void 0:he.toLowerCase().includes(N.toLowerCase()))||((Ce=Q.phone)==null?void 0:Ce.includes(N)),Ee=P==="all"||P==="trial"&&(!Q.plan||Q.plan==="trial")||Q.plan===P,ie=C==="all"||C==="active"&&Q.isActive!==!1||C==="blocked"&&Q.isActive===!1;return fe&&Ee&&ie}),pe=Q=>Q>=1e9?`${(Q/1e9).toFixed(1)} mlrd`:Q>=1e6?`${(Q/1e6).toFixed(1)} mln`:Q>=1e3?`${(Q/1e3).toFixed(0)} ming`:(Q==null?void 0:Q.toLocaleString())||"0",se=Q=>{switch(Q){case"starter":return d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:"Boshlang'ich"});case"basic":return d.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:"Asosiy"});case"pro":return d.jsx("span",{className:"px-2 py-1 bg-violet-100 text-violet-700 rounded-full text-xs font-semibold",children:"Professional"});default:return d.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-semibold",children:"Trial"})}},Te=Q=>{switch(Q){case"approved":return d.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-semibold",children:"Tasdiqlangan"});case"rejected":return d.jsx("span",{className:"px-2 py-1 bg-rose-100 text-rose-700 rounded-full text-xs font-semibold",children:"Rad etilgan"});default:return d.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-semibold",children:"Kutilmoqda"})}},oe=Q=>Q?(Q.seconds?new Date(Q.seconds*1e3):new Date(Q)).toLocaleDateString("uz-UZ"):"-";return _?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),d.jsx("p",{className:"text-slate-400",children:"Yuklanmoqda..."})]})}):d.jsxs("div",{className:"min-h-screen bg-slate-900",children:[d.jsx("div",{className:"bg-slate-800 border-b border-slate-700 px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:d.jsx(BL,{className:"w-5 h-5 text-slate-400"})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(io,{className:"w-6 h-6 text-emerald-500"}),"Super Admin Dashboard"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Barcha kompaniyalar va to'lovlar"})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[W.pendingRequests>0&&d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-amber-500/20 border border-amber-500/50 rounded-xl",children:[d.jsx(Oi,{className:"w-5 h-5 text-amber-400"}),d.jsxs("span",{className:"text-amber-400 font-semibold",children:[W.pendingRequests," ta so'rov kutmoqda"]})]}),d.jsx("button",{onClick:z,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:d.jsx(hO,{className:"w-5 h-5 text-slate-400"})})]})]})}),d.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:d.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{id:"requests",label:"To'lov so'rovlari",icon:ro,badge:W.pendingRequests},{id:"overview",label:"Umumiy ko'rinish",icon:j1},{id:"companies",label:"Kompaniyalar",icon:Uf},{id:"pricing",label:"Tariflar",icon:To}].map(Q=>d.jsxs("button",{onClick:()=>n(Q.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all ${e===Q.id?"bg-emerald-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[d.jsx(Q.icon,{className:"w-5 h-5"}),Q.label,Q.badge>0&&d.jsx("span",{className:"px-2 py-0.5 bg-amber-500 text-white text-xs rounded-full",children:Q.badge})]},Q.id))})}),d.jsxs("div",{className:"p-6",children:[e==="requests"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"To'lov so'rovlari"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-amber-400 flex items-center gap-2",children:[d.jsx(Oi,{className:"w-5 h-5"}),"Kutilayotgan so'rovlar (",y.filter(Q=>Q.status==="pending").length,")"]}),y.filter(Q=>Q.status==="pending").length===0?d.jsxs("div",{className:"bg-slate-800 rounded-xl p-8 text-center",children:[d.jsx(Ic,{className:"w-12 h-12 text-emerald-500 mx-auto mb-4"}),d.jsx("p",{className:"text-slate-400",children:"Hozircha kutilayotgan so'rov yo'q"})]}):d.jsx("div",{className:"grid gap-4",children:y.filter(Q=>Q.status==="pending").map(Q=>{var fe,Ee;return d.jsx("div",{className:"bg-slate-800 rounded-xl p-6 border border-amber-500/30",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h4",{className:"text-white font-bold text-lg",children:Q.companyName}),Te(Q.status)]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Tanlangan tarif"}),d.jsx("p",{className:"text-white font-semibold",children:Q.planName})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Muddat"}),d.jsx("p",{className:"text-white font-semibold",children:Q.durationLabel})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Summa"}),d.jsxs("p",{className:"text-emerald-400 font-bold",children:[(fe=Q.totalAmount)==null?void 0:fe.toLocaleString()," so'm"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"So'rov sanasi"}),d.jsx("p",{className:"text-white",children:oe(Q.requestedAt)})]})]}),Q.discountPercent>0&&d.jsxs("p",{className:"text-rose-400 text-sm mt-2",children:["Chegirma: ",Q.discountPercent,"% (-",(Ee=Q.discount)==null?void 0:Ee.toLocaleString()," so'm)"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>{E(Q),$(Q.duration||1),D(!0)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors",children:[d.jsx(Ic,{className:"w-5 h-5"}),"Tasdiqlash"]}),d.jsxs("button",{onClick:()=>ne(Q),className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-colors",children:[d.jsx(AB,{className:"w-5 h-5"}),"Rad etish"]})]})]})},Q.id)})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-400",children:"Tarix"}),d.jsx("div",{className:"bg-slate-800 rounded-xl overflow-hidden",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold",children:"Kompaniya"}),d.jsx("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold",children:"Tarif"}),d.jsx("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold",children:"Summa"}),d.jsx("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold",children:"Status"}),d.jsx("th",{className:"px-4 py-3 text-left text-slate-300 font-semibold",children:"Sana"})]})}),d.jsx("tbody",{children:y.filter(Q=>Q.status!=="pending").slice(0,10).map(Q=>{var fe;return d.jsxs("tr",{className:"border-t border-slate-700",children:[d.jsx("td",{className:"px-4 py-3 text-white",children:Q.companyName}),d.jsx("td",{className:"px-4 py-3 text-white",children:Q.planName}),d.jsx("td",{className:"px-4 py-3 text-emerald-400",children:(fe=Q.totalAmount)==null?void 0:fe.toLocaleString()}),d.jsx("td",{className:"px-4 py-3",children:Te(Q.status)}),d.jsx("td",{className:"px-4 py-3 text-slate-400",children:oe(Q.approvedAt||Q.rejectedAt)})]},Q.id)})})]})})]})]}),e==="overview"&&d.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[d.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6",children:[d.jsx("div",{className:"flex items-center gap-3 mb-3",children:d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:d.jsx(Uf,{className:"w-6 h-6 text-blue-400"})})}),d.jsx("p",{className:"text-3xl font-bold text-white",children:W.totalCompanies}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Jami kompaniyalar"})]}),d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6",children:[d.jsx("div",{className:"flex items-center gap-3 mb-3",children:d.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:d.jsx(Ll,{className:"w-6 h-6 text-emerald-400"})})}),d.jsx("p",{className:"text-3xl font-bold text-white",children:W.totalUsers}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Jami foydalanuvchilar"})]}),d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6",children:[d.jsx("div",{className:"flex items-center gap-3 mb-3",children:d.jsx("div",{className:"p-3 bg-violet-500/20 rounded-xl",children:d.jsx(Hi,{className:"w-6 h-6 text-violet-400"})})}),d.jsx("p",{className:"text-3xl font-bold text-white",children:W.totalProducts}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Jami mahsulotlar"})]}),d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6",children:[d.jsx("div",{className:"flex items-center gap-3 mb-3",children:d.jsx("div",{className:"p-3 bg-amber-500/20 rounded-xl",children:d.jsx(To,{className:"w-6 h-6 text-amber-400"})})}),d.jsx("p",{className:"text-3xl font-bold text-white",children:pe(W.mrr)}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Oylik daromad (MRR)"})]})]}),d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6",children:[d.jsx("h3",{className:"text-white font-bold mb-4",children:"Tariflar bo'yicha"}),d.jsx("div",{className:"space-y-3",children:[{label:"Trial",count:W.trialCompanies,color:"amber"},{label:"Boshlang'ich",count:W.starterCompanies,color:"blue"},{label:"Asosiy",count:W.basicCompanies,color:"emerald"},{label:"Professional",count:W.proCompanies,color:"violet"}].map(Q=>d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-slate-400 w-28",children:Q.label}),d.jsx("div",{className:"flex-1 h-3 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full bg-${Q.color}-500 rounded-full`,style:{width:`${W.totalCompanies>0?Q.count/W.totalCompanies*100:0}%`}})}),d.jsx("span",{className:"text-white font-bold w-8 text-right",children:Q.count})]},Q.label))})]})]}),e==="companies"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(k1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Kompaniya qidirish...",value:N,onChange:Q=>M(Q.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-800 border border-slate-700 text-white rounded-xl focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("select",{value:P,onChange:Q=>S(Q.target.value),className:"px-4 py-3 bg-slate-800 border border-slate-700 text-white rounded-xl",children:[d.jsx("option",{value:"all",children:"Barcha tariflar"}),d.jsx("option",{value:"trial",children:"Trial"}),d.jsx("option",{value:"starter",children:"Boshlang'ich"}),d.jsx("option",{value:"basic",children:"Asosiy"}),d.jsx("option",{value:"pro",children:"Professional"})]})]}),d.jsx("div",{className:"space-y-4",children:ye.map(Q=>{const fe=Y(Q.id),Ee=Q.isActive===!1;return d.jsx("div",{className:`bg-slate-800 rounded-xl p-6 border ${Ee?"border-rose-500/50":"border-slate-700"}`,children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h4",{className:"text-white font-bold",children:Q.name}),se(Q.plan),Ee&&d.jsx("span",{className:"px-2 py-1 bg-rose-500/20 text-rose-400 rounded-full text-xs",children:"Bloklangan"})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Foydalanuvchilar"}),d.jsxs("p",{className:"text-white",children:[fe.users," / ",Q.maxUsers||2]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Mahsulotlar"}),d.jsxs("p",{className:"text-white",children:[fe.products," / ",Q.maxProducts||50]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Obuna tugashi"}),d.jsx("p",{className:`${Q.plan==="trial"?"text-amber-400":"text-white"}`,children:Q.subscriptionEnd?oe(Q.subscriptionEnd):Q.trialEndsAt?oe(Q.trialEndsAt):"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Sotuvlar"}),d.jsx("p",{className:"text-emerald-400",children:pe(fe.revenue)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-500",children:"Ro'yxatdan"}),d.jsx("p",{className:"text-white",children:oe(Q.createdAt)})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{value:Q.plan||"trial",onChange:ie=>{const he=window.prompt("Necha oyga faollashtirish? (1, 3, 6, 12)","1");he&&[1,3,6,12].includes(parseInt(he))&&ce(Q.id,ie.target.value,parseInt(he))},className:"px-3 py-2 bg-slate-700 border border-slate-600 text-white rounded-lg text-sm",children:[d.jsx("option",{value:"trial",children:"Trial"}),d.jsx("option",{value:"starter",children:"Boshlang'ich"}),d.jsx("option",{value:"basic",children:"Asosiy"}),d.jsx("option",{value:"pro",children:"Professional"})]}),d.jsx("button",{onClick:()=>ve(Q.id,Q.isActive),className:`p-2 rounded-lg transition-colors ${Ee?"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":"bg-rose-500/20 text-rose-400 hover:bg-rose-500/30"}`,title:Ee?"Aktivlashtirish":"Bloklash",children:Ee?d.jsx(_w,{className:"w-5 h-5"}):d.jsx($L,{className:"w-5 h-5"})})]})]})},Q.id)})})]}),e==="pricing"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"p-3 bg-amber-500/20 rounded-xl",children:d.jsx(Oi,{className:"w-6 h-6 text-amber-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-bold",children:"Trial"}),d.jsx("p",{className:"text-amber-400 text-sm",children:"14 kunlik sinov"})]})]}),d.jsx("p",{className:"text-3xl font-bold text-white mb-4",children:"Bepul"}),d.jsxs("ul",{className:"space-y-2 text-slate-300 text-sm",children:[d.jsx("li",{children:" 2 ta foydalanuvchi"}),d.jsx("li",{children:" 50 ta mahsulot"}),d.jsx("li",{children:" Asosiy funksiyalar"})]}),d.jsx("div",{className:"mt-4 p-3 bg-slate-700 rounded-lg",children:d.jsxs("p",{className:"text-slate-400 text-xs",children:["Hozirda: ",d.jsx("span",{className:"text-white font-bold",children:W.trialCompanies})," ta"]})})]}),d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-blue-500/50",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:d.jsx(gO,{className:"w-6 h-6 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-bold",children:"Boshlang'ich"}),d.jsx("p",{className:"text-blue-400 text-sm",children:"Kichik do'konlar"})]})]}),d.jsxs("p",{className:"text-3xl font-bold text-white mb-4",children:["99,000 ",d.jsx("span",{className:"text-lg text-slate-400",children:"so'm/oy"})]}),d.jsxs("ul",{className:"space-y-2 text-slate-300 text-sm",children:[d.jsx("li",{children:" 5 ta foydalanuvchi"}),d.jsx("li",{children:" 500 ta mahsulot"}),d.jsx("li",{children:" Barcha funksiyalar"})]}),d.jsxs("div",{className:"mt-4 p-3 bg-slate-700 rounded-lg",children:[d.jsxs("p",{className:"text-slate-400 text-xs",children:["Hozirda: ",d.jsx("span",{className:"text-white font-bold",children:W.starterCompanies})," ta"]}),d.jsxs("p",{className:"text-blue-400 text-xs",children:["Daromad: ",pe(W.starterCompanies*99e3)]})]})]}),d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-emerald-500/50 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-emerald-500 text-white text-xs font-bold rounded",children:"MASHHUR"}),d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:d.jsx(xB,{className:"w-6 h-6 text-emerald-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-bold",children:"Asosiy"}),d.jsx("p",{className:"text-emerald-400 text-sm",children:"O'rta do'konlar"})]})]}),d.jsxs("p",{className:"text-3xl font-bold text-white mb-4",children:["149,000 ",d.jsx("span",{className:"text-lg text-slate-400",children:"so'm/oy"})]}),d.jsxs("ul",{className:"space-y-2 text-slate-300 text-sm",children:[d.jsx("li",{children:" 10 ta foydalanuvchi"}),d.jsx("li",{children:" 2000 ta mahsulot"}),d.jsx("li",{children:" Telegram xabarnoma"})]}),d.jsxs("div",{className:"mt-4 p-3 bg-slate-700 rounded-lg",children:[d.jsxs("p",{className:"text-slate-400 text-xs",children:["Hozirda: ",d.jsx("span",{className:"text-white font-bold",children:W.basicCompanies})," ta"]}),d.jsxs("p",{className:"text-emerald-400 text-xs",children:["Daromad: ",pe(W.basicCompanies*149e3)]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-violet-900 to-slate-800 rounded-2xl p-6 border border-violet-500/50",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"p-3 bg-violet-500/20 rounded-xl",children:d.jsx(io,{className:"w-6 h-6 text-violet-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-bold",children:"Professional"}),d.jsx("p",{className:"text-violet-400 text-sm",children:"Katta biznes"})]})]}),d.jsxs("p",{className:"text-3xl font-bold text-white mb-4",children:["249,000 ",d.jsx("span",{className:"text-lg text-slate-400",children:"so'm/oy"})]}),d.jsxs("ul",{className:"space-y-2 text-slate-300 text-sm",children:[d.jsx("li",{children:" Cheksiz foydalanuvchi"}),d.jsx("li",{children:" Cheksiz mahsulot"}),d.jsx("li",{children:" API kirish"})]}),d.jsxs("div",{className:"mt-4 p-3 bg-slate-700/50 rounded-lg",children:[d.jsxs("p",{className:"text-slate-400 text-xs",children:["Hozirda: ",d.jsx("span",{className:"text-white font-bold",children:W.proCompanies})," ta"]}),d.jsxs("p",{className:"text-violet-400 text-xs",children:["Daromad: ",pe(W.proCompanies*249e3)]})]})]})]}),d.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6",children:[d.jsx("h3",{className:"text-white font-bold mb-4",children:" Daromad statistikasi"}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"p-4 bg-slate-700 rounded-xl",children:[d.jsx("p",{className:"text-slate-400",children:"Oylik daromad (MRR)"}),d.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:pe(W.mrr)})]}),d.jsxs("div",{className:"p-4 bg-slate-700 rounded-xl",children:[d.jsx("p",{className:"text-slate-400",children:"Yillik daromad (ARR)"}),d.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:pe(W.mrr*12)})]}),d.jsxs("div",{className:"p-4 bg-slate-700 rounded-xl",children:[d.jsx("p",{className:"text-slate-400",children:"Potensial (Trial  Starter)"}),d.jsxs("p",{className:"text-3xl font-bold text-amber-400",children:["+",pe(W.potentialMrr)]})]})]})]})]})]}),j&&L&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-800 rounded-2xl max-w-md w-full p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Tarifni faollashtirish"}),d.jsx("button",{onClick:()=>{D(!1),E(null)},className:"p-2 hover:bg-slate-700 rounded-full",children:d.jsx(Co,{className:"w-5 h-5 text-slate-400"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-700 rounded-xl p-4",children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Kompaniya:"}),d.jsx("span",{className:"text-white font-semibold",children:L.companyName})]}),d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Tarif:"}),d.jsx("span",{className:"text-white font-semibold",children:L.planName})]}),d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsx("span",{className:"text-slate-400",children:"So'ralgan muddat:"}),d.jsx("span",{className:"text-white font-semibold",children:L.durationLabel})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-400",children:"To'lov:"}),d.jsxs("span",{className:"text-emerald-400 font-bold",children:[(ue=L.totalAmount)==null?void 0:ue.toLocaleString()," so'm"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-3",children:"Faollashtirish muddati:"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:H.map(Q=>d.jsx("button",{onClick:()=>$(Q.months),className:`p-3 rounded-xl border-2 transition-all ${O===Q.months?"border-emerald-500 bg-emerald-500/20 text-emerald-400":"border-slate-600 text-slate-400 hover:border-slate-500"}`,children:Q.label},Q.months))})]}),d.jsx("div",{className:"bg-emerald-500/20 border border-emerald-500/50 rounded-xl p-4",children:d.jsxs("p",{className:"text-emerald-400 text-sm",children:[d.jsx(Ic,{className:"w-4 h-4 inline mr-1"}),"Tarif ",O," oyga faollashtiriladi"]})})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>{D(!1),E(null)},className:"flex-1 py-3 bg-slate-700 text-slate-300 font-semibold rounded-xl hover:bg-slate-600",children:"Bekor qilish"}),d.jsxs("button",{onClick:re,className:"flex-1 py-3 bg-emerald-600 text-white font-semibold rounded-xl hover:bg-emerald-700 flex items-center justify-center gap-2",children:[d.jsx(Ic,{className:"w-5 h-5"}),"Tasdiqlash"]})]})]})})]})};function l0e(){const[t,e]=ee.useState(null),[n,r]=ee.useState("dashboard"),[i,a]=ee.useState(!1),[o,u]=ee.useState(!1),[f,h]=ee.useState(!1),[x,y]=ee.useState(!0),[w,_]=ee.useState(navigator.onLine),[I,N]=ee.useState([]),[M,P]=ee.useState([]),[S,C]=ee.useState([]),[V,k]=ee.useState(null),R=30*60*1e3;ee.useEffect(()=>{const pe=()=>{_(!0),we.success("Internet qayta ulandi!")},se=()=>{_(!1),we.warning("Internet uzildi. Offline rejimda ishlayapsiz.")};return window.addEventListener("online",pe),window.addEventListener("offline",se),()=>{window.removeEventListener("online",pe),window.removeEventListener("offline",se)}},[]),ee.useEffect(()=>{const pe=se=>{se.ctrlKey&&se.shiftKey&&se.key==="S"&&(se.preventDefault(),a(!0))};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[]),ee.useEffect(()=>{const pe=localStorage.getItem("currentUser"),se=localStorage.getItem("loginTime");pe&&se&&(Date.now()-parseInt(se)<R?e(JSON.parse(pe)):(localStorage.removeItem("currentUser"),localStorage.removeItem("loginTime"))),y(!1)},[]),ee.useEffect(()=>{if(!t)return;let pe;const se=()=>{clearTimeout(pe),localStorage.setItem("loginTime",Date.now().toString()),pe=setTimeout(()=>{we.warning("Sessiya tugadi. Qayta kiring."),E()},R)},Te=["mousemove","keypress","click","touchstart"];return Te.forEach(oe=>window.addEventListener(oe,se)),se(),()=>{Te.forEach(oe=>window.removeEventListener(oe,se)),clearTimeout(pe)}},[t]),ee.useEffect(()=>{t!=null&&t.companyId&&(D(),j())},[t]);const j=async()=>{try{const pe=await Gp(jt(ze,"companies",t.companyId));pe.exists()&&k({id:pe.id,...pe.data()})}catch(pe){console.error("Kompaniya ma'lumotlari yuklanmadi:",pe)}},D=async()=>{try{const pe=Yn(dt(ze,"products"),Bn("companyId","==",t.companyId)),se=await un(pe);N(se.docs.map(fe=>({id:fe.id,...fe.data()})));const Te=Yn(dt(ze,"transactions"),Bn("companyId","==",t.companyId)),oe=await un(Te);P(oe.docs.map(fe=>{var Ee;return{id:fe.id,...fe.data(),date:((Ee=fe.data().date)==null?void 0:Ee.toDate())||new Date}}));const ue=Yn(dt(ze,"categories"),Bn("companyId","==",t.companyId)),Q=await un(ue);C(Q.docs.map(fe=>({id:fe.id,...fe.data()})))}catch(pe){console.error("Ma'lumotlar yuklanmadi:",pe),w&&we.error("Ma'lumotlar yuklanmadi!")}},L=pe=>{e(pe),localStorage.setItem("currentUser",JSON.stringify(pe)),localStorage.setItem("loginTime",Date.now().toString())},E=async()=>{await xv.logout(),e(null),N([]),P([]),C([]),k(null),r("dashboard")},O=()=>{const pe=(V==null?void 0:V.plan)||"trial",se={trial:{maxUsers:2,maxProducts:50},starter:{maxUsers:5,maxProducts:500},basic:{maxUsers:10,maxProducts:2e3},pro:{maxUsers:999,maxProducts:99999}};return V!=null&&V.maxProducts?{maxUsers:V.maxUsers,maxProducts:V.maxProducts}:se[pe]||se.trial},$=()=>{if(!V)return!1;if(V.plan==="trial"&&V.trialEndsAt){const pe=V.trialEndsAt.seconds?new Date(V.trialEndsAt.seconds*1e3):new Date(V.trialEndsAt);return new Date>pe}if(V.subscriptionEnd){const pe=V.subscriptionEnd.seconds?new Date(V.subscriptionEnd.seconds*1e3):new Date(V.subscriptionEnd);return new Date>pe}return!1},F=pe=>{const se=O();return I.length>=se.maxProducts?(we.error(`Tarif limiti: ${se.maxProducts} ta mahsulot. Tarifni yangilang!`),!1):(N(Te=>[...Te,pe]),k(Te=>Te&&{...Te,currentProducts:(Te.currentProducts||0)+1}),!0)},H=pe=>{k(se=>({...se,...pe})),we.success("Tarif yangilandi!")},z=pe=>{N(se=>se.map(Te=>Te.id===pe.id?pe:Te))},W=pe=>{N(se=>se.filter(Te=>Te.id!==pe))},Y=pe=>{P(se=>[...se,pe])},re=pe=>{P(se=>se.map(Te=>Te.id===pe.id?pe:Te))},ne=pe=>{C(se=>[...se,pe])},ce=pe=>{C(se=>se.filter(Te=>Te.id!==pe))},ve=(t==null?void 0:t.role)==="admin";if(x)return d.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),d.jsx("p",{className:"text-slate-600",children:"Yuklanmoqda..."})]})});if(!t)return o?d.jsxs(d.Fragment,{children:[d.jsx(Nc,{position:"top-center",autoClose:3e3,theme:"dark"}),d.jsx(o0e,{onBack:()=>{u(!1),a(!1)}})]}):i?d.jsxs(d.Fragment,{children:[d.jsx(Nc,{position:"top-center",autoClose:3e3,theme:"dark"}),d.jsx(s0e,{onLogin:()=>u(!0),onBack:()=>a(!1)})]}):d.jsxs(d.Fragment,{children:[d.jsx(Nc,{position:"top-center",autoClose:3e3,theme:"dark"}),d.jsx(OB,{onLogin:L}),d.jsx("button",{onClick:()=>{const pe=parseInt(localStorage.getItem("superAdminClicks")||"0")+1;localStorage.setItem("superAdminClicks",pe.toString()),pe>=5&&(a(!0),localStorage.removeItem("superAdminClicks"))},className:"fixed bottom-4 left-4 w-12 h-12 opacity-0 hover:opacity-10",title:""})]});const ye=()=>{switch(n){case"dashboard":return d.jsx(JC,{products:I,transactions:M,isAdmin:ve,companyData:V});case"income":return d.jsx(Khe,{products:I,categories:S,onAddProduct:F,onUpdateProduct:z,onAddTransaction:Y,onAddCategory:ne,onDeleteCategory:ce,currentUser:t,isAdmin:ve,companyData:V});case"outcome":return d.jsx(Xhe,{products:I,onUpdateProduct:z,onAddTransaction:Y,currentUser:t,isAdmin:ve});case"products":return d.jsx(Yhe,{products:I,categories:S,onUpdateProduct:z,onDeleteProduct:W,isAdmin:ve});case"sales":return d.jsx(Jhe,{transactions:M,isAdmin:ve,companyData:V});case"debtors":return d.jsx(t0e,{transactions:M,onUpdateTransaction:re,currentUser:t});case"statistics":return d.jsx(Qhe,{products:I,transactions:M,isAdmin:ve});case"inventory":return ve?d.jsx(n0e,{products:I,transactions:M,isAdmin:ve}):null;case"stockcount":return ve?d.jsx(r0e,{products:I,onUpdateProduct:z,currentUser:t}):null;case"backup":return ve?d.jsx(a0e,{currentUser:t,products:I,transactions:M}):null;case"users":return ve?d.jsx(Zhe,{currentUser:t,companyData:V}):null;case"settings":return ve?d.jsx(e0e,{currentUser:t,companyData:V,onPlanChange:H}):null;default:return d.jsx(JC,{products:I,transactions:M,isAdmin:ve})}};return d.jsxs("div",{className:"min-h-screen bg-slate-100 flex",children:[d.jsx(Nc,{position:"top-center",autoClose:3e3,theme:"colored",toastClassName:"rounded-xl"}),!w&&d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-amber-500 text-white text-center py-2 z-50 text-sm font-medium",children:" Offline rejim - Internet yo'q"}),$()&&w&&d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-rose-500 text-white text-center py-3 z-50",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsxs("span",{className:"font-semibold",children:[" ",(V==null?void 0:V.plan)==="trial"?"Sinov muddati tugadi!":"Obuna muddati tugadi!"]}),d.jsx("button",{onClick:()=>r("settings"),className:"px-3 py-1 bg-white text-rose-600 rounded-lg font-semibold text-sm hover:bg-rose-50",children:"Tarifni yangilash"})]})}),d.jsx(PB,{activeMenu:n,setActiveMenu:r,onLogout:E,currentUser:t,isOpen:f,setIsOpen:h}),d.jsx("main",{className:`flex-1 min-h-screen lg:ml-0 overflow-y-auto ${w?"":"pt-10"}`,children:ye()})]})}Yx.createRoot(document.getElementById("root")).render(d.jsx(ae.StrictMode,{children:d.jsx(l0e,{})}));
